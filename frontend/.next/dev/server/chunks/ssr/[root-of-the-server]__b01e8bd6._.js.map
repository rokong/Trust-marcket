{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["file:///D:/trust-market/frontend/utils/api.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\nconst api = axios.create({\r\n  baseURL: \"http://localhost:5000/api\",\r\n});\r\n\r\n// Automatically send token in every request\r\napi.interceptors.request.use((config) => {\r\n  const token = localStorage.getItem(\"token\");\r\n  if (token) {\r\n    config.headers.Authorization = `Bearer ${token}`;\r\n  }\r\n  return config;\r\n});\r\n\r\nexport default api;\r\n"],"names":[],"mappings":";;;;AAAA;;;;;;AAEA,MAAM,MAAM,qHAAK,CAAC,MAAM,CAAC;IACvB,SAAS;AACX;AAEA,4CAA4C;AAC5C,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;IAC5B,MAAM,QAAQ,aAAa,OAAO,CAAC;IACnC,IAAI,OAAO;QACT,OAAO,OAAO,CAAC,aAAa,GAAG,CAAC,OAAO,EAAE,OAAO;IAClD;IACA,OAAO;AACT;uCAEe","debugId":null}},
    {"offset": {"line": 69, "column": 0}, "map": {"version":3,"sources":["file:///D:/trust-market/frontend/pages/admin/all-users.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport api from \"../../utils/api\";\r\nimport { useRouter } from \"next/router\";\r\nimport { Trash2, Search, ArrowLeft } from \"lucide-react\";\r\n\r\nexport default function AllUsers() {\r\n  const [users, setUsers] = useState([]);\r\n  const [search, setSearch] = useState(\"\");\r\n  const [filteredUsers, setFilteredUsers] = useState([]);\r\n  const router = useRouter();\r\n\r\n  useEffect(() => {\r\n    loadUsers();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (!search) {\r\n      setFilteredUsers(users);\r\n    } else {\r\n      const lowerSearch = search.toLowerCase();\r\n      const filtered = users.filter(\r\n        (user) =>\r\n          (user.name && user.name.toLowerCase().includes(lowerSearch)) ||\r\n          (user.email && user.email.toLowerCase().includes(lowerSearch)) ||\r\n          (user._id && user._id.toString().includes(lowerSearch))\r\n      );\r\n      setFilteredUsers(filtered);\r\n    }\r\n  }, [search, users]);\r\n\r\n  const loadUsers = async () => {\r\n    try {\r\n      const token = localStorage.getItem(\"token\");\r\n      if (!token) return router.push(\"/login\");\r\n\r\n      const res = await api.get(\"/admin/users\");\r\n      setUsers(res.data);\r\n      setFilteredUsers(res.data);\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  const handleDelete = async (userId) => {\r\n    if (!confirm(\"Are you sure you want to delete this user?\")) return;\r\n\r\n    try {\r\n      const token = localStorage.getItem(\"token\");\r\n      await api.delete(`/admin/users/${userId}`, {\r\n        headers: { Authorization: `Bearer ${token}` },\r\n      });\r\n\r\n      const updatedUsers = users.filter((user) => user._id !== userId);\r\n      setUsers(updatedUsers);\r\n      setFilteredUsers(updatedUsers);\r\n    } catch (err) {\r\n      console.error(err);\r\n      alert(\"Failed to delete user.\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-100 p-6\">\r\n      <div className=\"max-w-7xl mx-auto\">\r\n\r\n        {/* Header with Back Button */}\r\n        <div className=\"flex items-center justify-between mb-6\">\r\n          <button\r\n            onClick={() => router.back()}\r\n            className=\"flex items-center gap-2 px-4 py-2 bg-white border rounded-xl shadow hover:bg-gray-50 transition\"\r\n          >\r\n            <ArrowLeft className=\"w-5 h-5\" />\r\n            <span className=\"font-medium\">Back</span>\r\n          </button>\r\n\r\n          <h1 className=\"text-3xl font-extrabold text-gray-800 text-right\">\r\n            All Registered Users\r\n          </h1>\r\n        </div>\r\n\r\n        {/* Search Bar */}\r\n        <div className=\"mb-6 relative w-full max-w-md\">\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Search by Name, Email, or User ID...\"\r\n            className=\"w-full pl-10 pr-4 py-3 rounded-xl border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 shadow-sm\"\r\n            value={search}\r\n            onChange={(e) => setSearch(e.target.value)}\r\n          />\r\n          <Search className=\"absolute left-3 top-3 w-5 h-5 text-gray-400\" />\r\n        </div>\r\n\r\n        {/* Users Table */}\r\n        <div className=\"overflow-x-auto shadow-lg rounded-xl bg-white\">\r\n          <table className=\"w-full text-left border-collapse\">\r\n            <thead className=\"bg-gray-50\">\r\n              <tr>\r\n                <th className=\"px-6 py-3 text-gray-500 font-medium uppercase tracking-wider\">#</th>\r\n                <th className=\"px-6 py-3 text-gray-500 font-medium uppercase tracking-wider\">User ID</th>\r\n                <th className=\"px-6 py-3 text-gray-500 font-medium uppercase tracking-wider\">Name</th>\r\n                <th className=\"px-6 py-3 text-gray-500 font-medium uppercase tracking-wider\">Email</th>\r\n                <th className=\"px-6 py-3 text-gray-500 font-medium uppercase tracking-wider text-center\">Action</th>\r\n              </tr>\r\n            </thead>\r\n\r\n            <tbody className=\"divide-y divide-gray-100\">\r\n              {filteredUsers.length > 0 ? (\r\n                filteredUsers.map((user, index) => (\r\n                  <tr\r\n                    key={user._id}\r\n                    className=\"hover:bg-gray-50 transition duration-150\"\r\n                  >\r\n                    <td className=\"px-6 py-4 text-gray-700 font-medium\">\r\n                      {index + 1}\r\n                    </td>\r\n                    <td className=\"px-6 py-4 text-gray-600 text-sm\">\r\n                      {user._id}\r\n                    </td>\r\n                    <td className=\"px-6 py-4 text-gray-800 font-medium\">\r\n                      {user.name}\r\n                    </td>\r\n                    <td className=\"px-6 py-4 text-gray-600\">\r\n                      {user.email}\r\n                    </td>\r\n                    <td className=\"px-6 py-4 text-center\">\r\n                      <button\r\n                        onClick={() => handleDelete(user._id)}\r\n                        className=\"inline-flex items-center gap-2 px-3 py-1 bg-red-500 text-white rounded-lg shadow hover:bg-red-600 transition\"\r\n                      >\r\n                        <Trash2 className=\"w-4 h-4\" />\r\n                        Delete\r\n                      </button>\r\n                    </td>\r\n                  </tr>\r\n                ))\r\n              ) : (\r\n                <tr>\r\n                  <td colSpan={5} className=\"px-6 py-10 text-center text-gray-400\">\r\n                    No users found.\r\n                  </td>\r\n                </tr>\r\n              )}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}