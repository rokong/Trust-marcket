{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 40, "column": 0}, "map": {"version":3,"sources":["file:///D:/trust-market/frontend/utils/api.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\nconst api = axios.create({\r\n  baseURL: \"http://localhost:5000/api\",\r\n});\r\n\r\n// Automatically send token in every request\r\napi.interceptors.request.use((config) => {\r\n  const token = localStorage.getItem(\"token\");\r\n  if (token) {\r\n    config.headers.Authorization = `Bearer ${token}`;\r\n  }\r\n  return config;\r\n});\r\n\r\nexport default api;\r\n"],"names":[],"mappings":";;;;AAAA;;;;;;AAEA,MAAM,MAAM,qHAAK,CAAC,MAAM,CAAC;IACvB,SAAS;AACX;AAEA,4CAA4C;AAC5C,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;IAC5B,MAAM,QAAQ,aAAa,OAAO,CAAC;IACnC,IAAI,OAAO;QACT,OAAO,OAAO,CAAC,aAAa,GAAG,CAAC,OAAO,EAAE,OAAO;IAClD;IACA,OAAO;AACT;uCAEe","debugId":null}},
    {"offset": {"line": 69, "column": 0}, "map": {"version":3,"sources":["file:///D:/trust-market/frontend/pages/post/%5Bid%5D.js"],"sourcesContent":["// frontend/pages/post/[id].js\r\nimport { useEffect, useState } from \"react\";\r\nimport { useRouter } from \"next/router\";\r\nimport api from \"../../utils/api\";\r\nimport { Heart, MessageCircle, ShoppingCart, X } from \"lucide-react\";\r\n\r\nexport default function ViewPost() {\r\n  const router = useRouter();\r\n  const { id } = router.query;\r\n  const [post, setPost] = useState(null);\r\n\r\n  // Fullscreen modal state\r\n  const [fullscreenMedia, setFullscreenMedia] = useState(null); // { type: 'image' | 'video', src: '' }\r\n\r\n  useEffect(() => {\r\n    if (!id) return;\r\n    const loadPost = async () => {\r\n      try {\r\n        const res = await api.get(`/posts/${id}`);\r\n        setPost(res.data);\r\n      } catch (err) {\r\n        console.error(err);\r\n      }\r\n    };\r\n    loadPost();\r\n  }, [id]);\r\n\r\n  const handleBuy = () => {\r\n    const token = localStorage.getItem(\"token\");\r\n    if (!token) {\r\n      alert(\"Please login to buy!\");\r\n      router.push(\"/login\");\r\n      return;\r\n    }\r\n    router.push(`/buy?post=${post._id}`);\r\n  };\r\n\r\n  const handleFavorite = async () => {\r\n    const token = localStorage.getItem(\"token\");\r\n    if (!token) {\r\n      alert(\"Please login first!\");\r\n      router.push(\"/login\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const res = await api.post(`/posts/favorite/${post._id}`);\r\n      alert(res.data.message);\r\n    } catch (err) {\r\n      console.error(err);\r\n      alert(\"Failed to toggle favorite\");\r\n    }\r\n  };\r\n\r\n  const handleMessage = () => {\r\n    router.push(`/messages?post=${post._id}`);\r\n  };\r\n\r\n  if (!post) return <p className=\"text-center mt-20 text-gray-500\">Loading...</p>;\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-100 p-4 sm:p-6 md:p-8 max-w-5xl mx-auto relative\">\r\n\r\n      {/* Top Right Home Button */}\r\n      <div className=\"flex justify-end mb-4\">\r\n        <button\r\n          onClick={() => router.push(\"/\")}\r\n          className=\"px-3 py-2 sm:px-4 sm:py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition text-sm sm:text-base\"\r\n        >\r\n          Home\r\n        </button>\r\n      </div>\r\n\r\n      {/* Post Title */}\r\n      <h2 className=\"text-2xl sm:text-3xl font-bold mb-2 sm:mb-4\">{post.title}</h2>\r\n      <p className=\"text-gray-600 mb-2 sm:mb-4\">{post.description}</p>\r\n      <p className=\"font-bold text-blue-600 mb-4 sm:mb-6 text-lg sm:text-xl\">üí∞ {post.price} BDT</p>\r\n\r\n      {/* Images */}\r\n      <div className=\"flex flex-col sm:flex-row sm:flex-wrap gap-3 mb-4\">\r\n        {post.images?.map((img) => (\r\n          <img\r\n            key={img}\r\n            src={`http://localhost:5000/uploads/${img}`}\r\n            className=\"w-full sm:w-[48%] max-h-72 sm:max-h-96 object-cover rounded-xl cursor-pointer\"\r\n            onClick={() => setFullscreenMedia({ type: \"image\", src: `http://localhost:5000/uploads/${img}` })}\r\n          />\r\n        ))}\r\n      </div>\r\n\r\n      {/* Videos */}\r\n      <div className=\"flex flex-col sm:flex-row sm:flex-wrap gap-3 mb-6\">\r\n        {post.videos?.map((vid) => (\r\n          <video\r\n            key={vid}\r\n            controls\r\n            className=\"w-full sm:w-[48%] max-h-72 sm:max-h-96 rounded-xl cursor-pointer\"\r\n            onClick={() => setFullscreenMedia({ type: \"video\", src: `http://localhost:5000/uploads/${vid}` })}\r\n          >\r\n            <source src={`http://localhost:5000/uploads/${vid}`} type=\"video/mp4\" />\r\n          </video>\r\n        ))}\r\n      </div>\r\n\r\n      {/* Buttons */}\r\n      <div className=\"flex flex-col sm:flex-row gap-3 sm:gap-4 mt-4 sm:mt-6\">\r\n        <button\r\n          onClick={handleFavorite}\r\n          className=\"flex items-center justify-center gap-2 px-4 py-2 sm:px-5 sm:py-3 bg-pink-500 text-white rounded-lg hover:bg-pink-600 transition text-sm sm:text-base\"\r\n        >\r\n          <Heart className=\"w-5 h-5\" /> Favorite\r\n        </button>\r\n\r\n        <button\r\n          onClick={handleMessage}\r\n          className=\"flex items-center justify-center gap-2 px-4 py-2 sm:px-5 sm:py-3 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 transition text-sm sm:text-base\"\r\n        >\r\n          <MessageCircle className=\"w-5 h-5\" /> Message\r\n        </button>\r\n\r\n        <button\r\n          onClick={handleBuy}\r\n          className=\"flex items-center justify-center gap-2 px-4 py-2 sm:px-5 sm:py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition text-sm sm:text-base\"\r\n        >\r\n          <ShoppingCart className=\"w-5 h-5\" /> Buy\r\n        </button>\r\n      </div>\r\n\r\n      {/* Info Section */}\r\n      <div className=\"mt-8 sm:mt-12 p-4 sm:p-6 bg-white rounded-2xl shadow-lg border-t-4 border-blue-600 max-w-3xl mx-auto\">\r\n        {/* Heading */}\r\n        <h3 className=\"text-xl sm:text-2xl md:text-3xl font-extrabold mb-4 text-gray-800 text-center\">\r\n          Trust Market ‚Äì ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶®‡¶ø‡¶∞‡¶æ‡¶™‡¶¶ ‡¶ì ‡¶∏‡¶π‡¶ú ‡¶Ö‡¶®‡¶≤‡¶æ‡¶á‡¶® ‡¶Æ‡¶æ‡¶∞‡ßç‡¶ï‡ßá‡¶ü‡¶™‡ßç‡¶≤‡ßá‡¶∏ ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™\r\n        </h3>\r\n\r\n        {/* Description */}\r\n        <p className=\"text-gray-700 mb-4 sm:mb-5 text-justify text-sm sm:text-base md:text-lg leading-relaxed\">\r\n          Trust Market ‡¶è‡¶ï‡¶ü‡¶ø ‡¶Ü‡¶ß‡ßÅ‡¶®‡¶ø‡¶ï ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™ ‡¶Ø‡¶æ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞‡¶ï‡¶æ‡¶∞‡ßÄ‡¶¶‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶®‡¶ø‡¶∞‡¶æ‡¶™‡¶¶, ‡¶∏‡¶π‡¶ú ‡¶è‡¶¨‡¶Ç ‡¶∏‡ßÅ‡¶¨‡¶ø‡¶ß‡¶æ‡¶ú‡¶®‡¶ï‡¶≠‡¶æ‡¶¨‡ßá ‡¶Ö‡¶®‡¶≤‡¶æ‡¶á‡¶® ‡¶ï‡ßá‡¶®‡¶æ‡¶¨‡ßá‡¶ö‡¶æ‡¶∞ ‡¶∏‡ßÅ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßá ‡¶¶‡ßá‡¶Ø‡¶º‡•§<br /><br />\r\n          ‡¶Ü‡¶™‡¶®‡¶ø ‡¶Ü‡¶ó‡ßá ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶ï‡¶∞‡¶¨‡ßá‡¶®, ‡¶§‡¶æ‡¶∞‡¶™‡¶∞ ‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞‡¶ï‡ßá SMS ‡¶è‡¶∞ ‡¶Æ‡¶æ‡¶ß‡ßç‡¶Ø‡¶Æ‡ßá ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶è‡¶ú‡ßá‡¶®‡ßç‡¶ü‡ßá‡¶∞ ‡¶®‡¶æ‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞ ‡¶ú‡¶æ‡¶®‡¶æ‡¶¨‡ßá‡¶®‡•§ ‡¶è‡¶∞‡¶™‡¶∞ ‡¶Ü‡¶Æ‡¶∞‡¶æ ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶ø‡¶§ ‡¶ú‡¶ø‡¶®‡¶ø‡¶∏‡¶ü‡¶ø SMS ‡¶è‡¶∞ ‡¶Æ‡¶æ‡¶ß‡ßç‡¶Ø‡¶Æ‡ßá ‡¶®‡¶ø‡¶∂‡ßç‡¶ö‡¶ø‡¶§ ‡¶ï‡¶∞‡ßá ‡¶™‡¶æ‡¶†‡¶ø‡ßü‡ßá ‡¶¶‡ßá‡¶¨‡•§ ‡¶Ø‡¶¶‡¶ø ‡¶ï‡ßã‡¶®‡ßã ‡¶ï‡¶æ‡¶∞‡¶£‡ßá ‡¶ú‡¶ø‡¶®‡¶ø‡¶∏‡¶ü‡¶ø ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶ö‡¶æ‡¶π‡¶ø‡¶¶‡¶æ ‡¶Ö‡¶®‡ßÅ‡¶Ø‡¶æ‡¶Ø‡¶º‡ßÄ ‡¶®‡¶æ ‡¶π‡ßü, ‡¶§‡¶æ‡¶π‡¶≤‡ßá ‡ß©‡ß¶ ‡¶Æ‡¶ø‡¶®‡¶ø‡¶ü‡ßá‡¶∞ ‡¶Æ‡¶ß‡ßç‡¶Ø‡ßá ‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ ‡¶ú‡¶æ‡¶®‡¶æ‡¶≤‡ßá ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶´‡ßá‡¶∞‡¶§ ‡¶¶‡ßá‡¶ì‡ßü‡¶æ ‡¶π‡¶¨‡ßá‡•§ ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶ï‡ßá‡¶®‡¶æ‡¶ï‡¶æ‡¶ü‡¶æ ‡¶π‡¶¨‡ßá ‡¶∏‡¶Æ‡ßç‡¶™‡ßÇ‡¶∞‡ßç‡¶£ ‡¶®‡¶ø‡¶∞‡¶æ‡¶™‡¶¶ ‡¶ì ‡¶∏‡ßç‡¶¨‡¶æ‡¶ö‡ßç‡¶õ‡¶®‡ßç‡¶¶‡ßç‡¶Ø‡¶Æ‡ßü‡•§\r\n        </p>\r\n\r\n        {/* Features */}\r\n        <h4 className=\"text-lg sm:text-xl md:text-2xl font-semibold mb-3 text-gray-800\">\r\n          ‡¶™‡ßç‡¶∞‡¶ß‡¶æ‡¶® ‡¶´‡¶ø‡¶ö‡¶æ‡¶∞‡¶∏‡¶Æ‡ßÇ‡¶π:\r\n        </h4>\r\n\r\n        <ul className=\"list-disc list-inside text-gray-700 space-y-2 sm:space-y-3 text-sm sm:text-base md:text-lg\">\r\n          <li>‚úÖ ‡¶®‡¶ø‡¶∞‡¶æ‡¶™‡¶¶ ‡¶≤‡ßá‡¶®‡¶¶‡ßá‡¶®</li>\r\n          <li>‚úÖ ‡¶∏‡¶π‡¶ú ‡¶®‡ßç‡¶Ø‡¶æ‡¶≠‡¶ø‡¶ó‡ßá‡¶∂‡¶®</li>\r\n          <li>‚úÖ ‡¶¨‡¶ø‡¶ï‡ßç‡¶∞‡ßá‡¶§‡¶æ‡¶¶‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶∏‡ßÅ‡¶¨‡¶ø‡¶ß‡¶æ</li>\r\n          <li>‚úÖ ‡¶∞‡¶ø‡¶Ø‡¶º‡ßá‡¶≤ ‡¶ü‡¶æ‡¶á‡¶Æ ‡¶Ü‡¶™‡¶°‡ßá‡¶ü</li>\r\n          <li>‚úÖ ‡¶¨‡¶ø‡¶∂‡ßç‡¶¨‡¶æ‡¶∏‡¶Ø‡ßã‡¶ó‡ßç‡¶Ø ‡¶ï‡¶Æ‡¶ø‡¶â‡¶®‡¶ø‡¶ü‡¶ø</li>\r\n        </ul>\r\n      </div>\r\n\r\n      {/* Fullscreen Modal */}\r\n      {fullscreenMedia && (\r\n        <div className=\"fixed inset-0 z-50 bg-black bg-opacity-90 flex items-center justify-center p-4\">\r\n          <button\r\n            onClick={() => setFullscreenMedia(null)}\r\n            className=\"absolute top-5 right-5 text-white bg-gray-800 rounded-full p-2 hover:bg-gray-900 transition\"\r\n          >\r\n            <X className=\"w-6 h-6\" />\r\n          </button>\r\n\r\n          {fullscreenMedia.type === \"image\" ? (\r\n            <img\r\n              src={fullscreenMedia.src}\r\n              className=\"max-h-full max-w-full rounded-lg object-contain\"\r\n            />\r\n          ) : (\r\n            <video\r\n              src={fullscreenMedia.src}\r\n              controls\r\n              autoPlay\r\n              className=\"max-h-full max-w-full rounded-lg\"\r\n            />\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}