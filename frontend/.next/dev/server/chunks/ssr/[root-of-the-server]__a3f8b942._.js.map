{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/frontend/pages/messages.js"],"sourcesContent":["// pages/messages.js\r\n// Next.js page (React) — Professional Chat UI for Trust Market\r\n// Features: Conversations (Only Buyer ↔ Admin or Seller ↔ Admin — No other users can chat) list, Chat window, Composer with attachments (image/video/file),\r\n// voice recording, call / sms / admin connect buttons (placeholders), responsive layout\r\n// Tailwind CSS utility classes used. Replace API placeholders with your backend routes.\r\n\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport Link from \"next/link\";\r\nimport { Phone, MessageCircle, ImageIcon, FileText, Paperclip, Send, User, Trash2, Video, Mic } from \"lucide-react\";\r\n\r\n// Helper: readable file size\r\nconst readableSize = (size) => {\r\n  if (!size) return \"0 B\";\r\n  const i = Math.floor(Math.log(size) / Math.log(1024));\r\n  return (size / Math.pow(1024, i)).toFixed(2) * 1 + \" \" + [\"B\", \"KB\", \"MB\", \"GB\"][i];\r\n};\r\n\r\nexport default function MessagesPage() {\r\n  // conversations (left list)\r\n  const [conversations, setConversations] = useState([]);\r\n  const [activeConvId, setActiveConvId] = useState(null);\r\n  const [messages, setMessages] = useState([]);\r\n  const [text, setText] = useState(\"\");\r\n  const [attachments, setAttachments] = useState([]); // { file, preview, type }\r\n  const [recording, setRecording] = useState(false);\r\n  const mediaRecorderRef = useRef(null);\r\n  const recordedChunksRef = useRef([]);\r\n  const messagesEndRef = useRef(null);\r\n  const [loadingConvs, setLoadingConvs] = useState(true);\r\n  const [isConnectingAdmin, setIsConnectingAdmin] = useState(false);\r\n\r\n  // Mock: load conversations\r\n  useEffect(() => {\r\n    // Replace with API GET /api/conversations\r\n    const mock = [\r\n      { id: 'conv_admin', name: 'Trust chat', last: 'Support available', unread: 0 },\r\n    ];\r\n    setTimeout(() => { setConversations(mock); setLoadingConvs(false); setActiveConvId(mock[0].id); }, 300);\r\n  }, []);\r\n\r\n  // load messages when activeConvId changes\r\n  useEffect(() => {\r\n    if (!activeConvId) return;\r\n    // Replace with API: GET /api/conversations/:id/messages\r\n    setMessages([]);\r\n    // mock messages\r\n    const mockMsgs = [\r\n      { id: 'm1', from: 'other', text: 'Hello, is this still available?', time: '11:03' },\r\n      { id: 'm2', from: 'me', text: 'Yes. Price 2500 BDT. Want to chat?', time: '11:05' },\r\n    ];\r\n    setTimeout(() => setMessages(mockMsgs), 200);\r\n  }, [activeConvId]);\r\n\r\n  useEffect(() => {\r\n    // scroll to bottom\r\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\r\n  }, [messages]);\r\n\r\n  // Attach files\r\n  const fileInputRef = useRef(null);\r\n  const handleFiles = (files) => {\r\n    const newAtts = [];\r\n    Array.from(files).forEach((file) => {\r\n      const type = file.type.startsWith('image/') ? 'image' : file.type.startsWith('video/') ? 'video' : 'file';\r\n      const preview = type === 'file' ? null : URL.createObjectURL(file);\r\n      newAtts.push({ id: Date.now() + Math.random(), file, preview, type });\r\n    });\r\n    setAttachments(prev => [...prev, ...newAtts]);\r\n  };\r\n\r\n  const removeAttachment = (id) => {\r\n    setAttachments(prev => prev.filter(a => a.id !== id));\r\n  };\r\n\r\n  // Send message (text + attachments)\r\n  const sendMessage = async () => {\r\n    if (!text && attachments.length === 0) return;\r\n    // Prepare form data\r\n    const formData = new FormData();\r\n    formData.append('text', text);\r\n    formData.append('conversationId', activeConvId);\r\n    attachments.forEach((a, idx) => formData.append('files', a.file));\r\n\r\n    // Replace with API POST /api/messages\r\n    // await fetch('/api/messages', { method: 'POST', body: formData });\r\n\r\n    // For demo, append locally\r\n    const newMsg = { id: 'm' + Date.now(), from: 'me', text, time: new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'}), attachments: attachments.map(a => ({ type: a.type, preview: a.preview, name: a.file.name })) };\r\n    setMessages(prev => [...prev, newMsg]);\r\n    setText('');\r\n    setAttachments([]);\r\n  };\r\n\r\n  // Voice recording\r\n  const startRecording = async () => {\r\n    if (!navigator.mediaDevices || !navigator.mediaDevices.getUserMedia) {\r\n      alert('Your browser does not support voice recording');\r\n      return;\r\n    }\r\n    const stream = await navigator.mediaDevices.getUserMedia({ audio: true });\r\n    const mr = new MediaRecorder(stream);\r\n    mediaRecorderRef.current = mr;\r\n    recordedChunksRef.current = [];\r\n    mr.ondataavailable = e => { if (e.data.size > 0) recordedChunksRef.current.push(e.data); };\r\n    mr.onstop = async () => {\r\n      const blob = new Blob(recordedChunksRef.current, { type: 'audio/webm' });\r\n      const file = new File([blob], `voice-${Date.now()}.webm`, { type: 'audio/webm' });\r\n      handleFiles([file]);\r\n    };\r\n    mr.start();\r\n    setRecording(true);\r\n  };\r\n  const stopRecording = () => {\r\n    mediaRecorderRef.current?.stop();\r\n    setRecording(false);\r\n  };\r\n\r\n  // Admin connect (placeholder - initiate special admin conversation or call)\r\n  const connectAdmin = async () => {\r\n    setIsConnectingAdmin(true);\r\n    // Replace with actual API to create/find admin conversation\r\n    setTimeout(() => {\r\n      const adminConv = conversations.find(c => c.id === 'conv_admin');\r\n      if (adminConv) setActiveConvId(adminConv.id);\r\n      else {\r\n        const newConv = { id: 'conv_admin', name: 'Admin', last: 'You connected to admin', unread: 0 };\r\n        setConversations(prev => [newConv, ...prev]);\r\n        setActiveConvId(newConv.id);\r\n      }\r\n      setIsConnectingAdmin(false);\r\n    }, 700);\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50\">\r\n      <div className=\"max-w-7xl mx-auto p-4\">\r\n        <div className=\"flex items-center justify-between mb-4\">\r\n          <h1 className=\"text-2xl font-bold text-gray-800 flex items-center gap-2\"><MessageCircle className=\"w-6 h-6 text-blue-600\"/> Messages</h1>\r\n          <div className=\"flex items-center gap-3\">\r\n            <button onClick={connectAdmin} className=\"px-3 py-2 bg-blue-600 text-white rounded-md shadow-sm hover:bg-blue-700 transition flex items-center gap-2\">\r\n              <User className=\"w-4 h-4\"/> Connect Admin\r\n            </button>\r\n            <Link href=\"/\" className=\"text-sm text-gray-600 hover:underline\">Go Home</Link>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"bg-white rounded-xl shadow-md overflow-hidden grid grid-cols-12\">\r\n          {/* Left: Conversations */}\r\n          <aside className=\"col-span-12 md:col-span-3 border-r p-3 h-[70vh] overflow-auto\">\r\n            <div className=\"flex items-center justify-between mb-3\">\r\n              <h3 className=\"text-sm font-semibold text-gray-700\">Conversations</h3>\r\n              <button onClick={() => { /* new conv */ }} className=\"text-xs text-blue-600\">New</button>\r\n            </div>\r\n\r\n            {loadingConvs ? (\r\n              <p className=\"text-sm text-gray-400\">Loading...</p>\r\n            ) : (\r\n              conversations.map(conv => (\r\n                <div key={conv.id} onClick={() => setActiveConvId(conv.id)} className={`p-2 rounded-lg cursor-pointer mb-2 ${activeConvId === conv.id ? 'bg-blue-50 border border-blue-100' : 'hover:bg-gray-50'}`}>\r\n                  <div className=\"flex items-center justify-between\">\r\n                    <div className=\"flex items-center gap-3\">\r\n                      <div className=\"w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center text-gray-600\">{conv.name.split(' ').map(s=>s[0]).slice(0,2).join('')}</div>\r\n                      <div>\r\n                        <div className=\"text-sm font-medium text-gray-700\">{conv.name}</div>\r\n                        <div className=\"text-xs text-gray-500\">{conv.last}</div>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"text-xs text-gray-500\">{conv.unread ? <span className=\"bg-red-500 text-white px-2 py-0.5 rounded-full text-xs\">{conv.unread}</span> : null}</div>\r\n                  </div>\r\n                </div>\r\n              ))\r\n            )}\r\n          </aside>\r\n\r\n          {/* Center: Chat Window */}\r\n          <section className=\"col-span-12 md:col-span-6 p-3 flex flex-col h-[70vh]\">\r\n            <div className=\"flex items-center justify-between p-2 border-b\">\r\n              <div>\r\n                <div className=\"text-sm font-semibold text-gray-700\">{conversations.find(c=>c.id===activeConvId)?.name || 'Select a conversation'}</div>\r\n                <div className=\"text-xs text-gray-500\">Online</div>\r\n              </div>\r\n              <div className=\"flex items-center gap-2\">\r\n                <button title=\"Call\" onClick={() => makeCall()} className=\"p-2 rounded-md hover:bg-gray-100\"><Phone className=\"w-4 h-4\"/></button>\r\n                <button title=\"Video Call\" onClick={() => alert('Initiate video call (placeholder)')} className=\"p-2 rounded-md hover:bg-gray-100\"><Video className=\"w-4 h-4\"/></button>\r\n                <button title=\"Send SMS\" onClick={() => sendSms()} className=\"p-2 rounded-md hover:bg-gray-100\"><Phone className=\"w-4 h-4 rotate-90\"/></button>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"flex-1 overflow-auto p-3\" style={{ background: 'linear-gradient(180deg,#f8fafc,transparent)' }}>\r\n              {activeConvId ? (\r\n                messages.length === 0 ? (\r\n                  <p className=\"text-center text-gray-400 mt-8\">No messages yet. Start the conversation.</p>\r\n                ) : (\r\n                  messages.map(msg => (\r\n                    <div key={msg.id} className={`mb-3 flex ${msg.from === 'me' ? 'justify-end' : 'justify-start'}`}>\r\n                      <div className={`${msg.from === 'me' ? 'bg-blue-600 text-white' : 'bg-gray-100 text-gray-800'} rounded-xl p-3 max-w-[80%]`}> \r\n                        {msg.text && <div className=\"mb-2\">{msg.text}</div>}\r\n                        {msg.attachments?.map((a, i) => (\r\n                          <div key={i} className=\"mb-2\">\r\n                            {a.type === 'image' && <img src={a.preview} className=\"max-w-xs rounded-md\" alt={a.name} />}\r\n                            {a.type === 'video' && <video src={a.preview} controls className=\"max-w-xs rounded-md\"/>}\r\n                            {a.type === 'file' && <div className=\"flex items-center gap-2 bg-white p-2 rounded-md border\"><FileText className=\"w-4 h-4\"/> <div className=\"text-xs\">{a.name}</div></div>}\r\n                          </div>\r\n                        ))}\r\n                        <div className=\"text-right text-[11px] text-gray-200/80 mt-1\">{msg.time}</div>\r\n                      </div>\r\n                    </div>\r\n                  ))\r\n                )\r\n              ) : (\r\n                <div className=\"h-full flex items-center justify-center text-gray-400\">Select a conversation from left</div>\r\n              )}\r\n              <div ref={messagesEndRef} />\r\n            </div>\r\n\r\n            {/* Composer */}\r\n            <div className=\"mt-3 border-t pt-3\">\r\n              <div className=\"flex items-center gap-2\">\r\n                <button onClick={() => fileInputRef.current.click()} className=\"p-2 rounded-md hover:bg-gray-100\"><Paperclip className=\"w-5 h-5\"/></button>\r\n                <input ref={fileInputRef} type=\"file\" className=\"hidden\" multiple onChange={(e) => handleFiles(e.target.files)} />\r\n\r\n                <div className=\"flex-1\">\r\n                  <textarea value={text} onChange={(e) => setText(e.target.value)} rows={2} className=\"w-full p-2 rounded-md border resize-none\" placeholder=\"Write a message...\"></textarea>\r\n                  {/* attachments preview */}\r\n                  <div className=\"flex gap-2 mt-2 overflow-auto\">\r\n                    {attachments.map(att => (\r\n                      <div key={att.id} className=\"relative border rounded-md p-1 bg-white\">\r\n                        {att.type === 'image' && <img src={att.preview} className=\"w-24 h-24 object-cover rounded-md\" alt=\"att\" />}\r\n                        {att.type === 'video' && <video src={att.preview} className=\"w-24 h-24 object-cover rounded-md\"/>}\r\n                        {att.type === 'file' && <div className=\"flex flex-col items-start p-2\"><FileText className=\"w-6 h-6\"/><div className=\"text-xs mt-1\">{att.file.name}</div><div className=\"text-xs text-gray-400\">{readableSize(att.file.size)}</div></div>}\r\n                        <button onClick={() => removeAttachment(att.id)} className=\"absolute top-1 right-1 bg-white p-1 rounded-full shadow-sm\"><Trash2 className=\"w-3 h-3\"/></button>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Voice record */}\r\n                <div className=\"flex items-center gap-2\">\r\n                  {!recording ? (\r\n                    <button onClick={startRecording} className=\"p-2 rounded-md hover:bg-gray-100\"><Mic className=\"w-5 h-5\"/></button>\r\n                  ) : (\r\n                    <button onClick={stopRecording} className=\"p-2 bg-red-500 text-white rounded-md\">Stop</button>\r\n                  )}\r\n\r\n                  <button onClick={sendMessage} className=\"px-3 py-2 bg-green-600 text-white rounded-md flex items-center gap-2\"><Send className=\"w-4 h-4\"/> Send</button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </section>\r\n\r\n          {/* Right: Admin / Info */}\r\n          <aside className=\"hidden md:block col-span-3 border-l p-3 h-[70vh] overflow-auto\">\r\n            <div className=\"mb-4\">\r\n              <h4 className=\"text-sm font-semibold\">Conversation Details</h4>\r\n              <div className=\"p-3 bg-gray-50 rounded-md\">\r\n                <div className=\"text-xs text-gray-500\">Trust Market – আপনার নিরাপদ ও সহজ অনলাইন মার্কেটপ্লেস অ্যাপ\r\nTrust Market একটি আধুনিক অ্যাপ যা ব্যবহারকারীদের জন্য নিরাপদ, সহজ এবং সুবিধাজনকভাবে অনলাইন কেনাবেচার সুযোগ করে দেয়।\r\n\r\nপ্রধান ফিচারসমূহ:\r\nনিরাপদ লেনদেন\r\nসহজ ন্যাভিগেশন\r\nবিক্রেতাদের জন্য সুবিধা\r\nরিয়েল টাইম আপডেট\r\nবিশ্বাসযোগ্য কমিউনিটি</div>\r\n              </div>\r\n            </div>\r\n\r\n          </aside>\r\n        </div>\r\n\r\n        <div className=\"text-xs text-gray-400 mt-2\">Note: This is a UI template. Replace placeholders with real API calls/websocket logic and secure admin endpoints.</div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"AAAA,oBAAoB;AACpB,+DAA+D;AAC/D,4JAA4J;AAC5J,wFAAwF;AACxF,wFAAwF;;;;;;AAExF;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;AAEA,6BAA6B;AAC7B,MAAM,eAAe,CAAC;IACpB,IAAI,CAAC,MAAM,OAAO;IAClB,MAAM,IAAI,KAAK,KAAK,CAAC,KAAK,GAAG,CAAC,QAAQ,KAAK,GAAG,CAAC;IAC/C,OAAO,CAAC,OAAO,KAAK,GAAG,CAAC,MAAM,EAAE,EAAE,OAAO,CAAC,KAAK,IAAI,MAAM;QAAC;QAAK;QAAM;QAAM;KAAK,CAAC,EAAE;AACrF;AAEe,SAAS;IACtB,4BAA4B;IAC5B,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,+GAAQ,EAAC,EAAE;IACrD,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,+GAAQ,EAAC;IACjD,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,+GAAQ,EAAC,EAAE;IAC3C,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,+GAAQ,EAAC;IACjC,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,+GAAQ,EAAC,EAAE,GAAG,0BAA0B;IAC9E,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,+GAAQ,EAAC;IAC3C,MAAM,mBAAmB,IAAA,6GAAM,EAAC;IAChC,MAAM,oBAAoB,IAAA,6GAAM,EAAC,EAAE;IACnC,MAAM,iBAAiB,IAAA,6GAAM,EAAC;IAC9B,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,+GAAQ,EAAC;IACjD,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,IAAA,+GAAQ,EAAC;IAE3D,2BAA2B;IAC3B,IAAA,gHAAS,EAAC;QACR,0CAA0C;QAC1C,MAAM,OAAO;YACX;gBAAE,IAAI;gBAAc,MAAM;gBAAc,MAAM;gBAAqB,QAAQ;YAAE;SAC9E;QACD,WAAW;YAAQ,iBAAiB;YAAO,gBAAgB;YAAQ,gBAAgB,IAAI,CAAC,EAAE,CAAC,EAAE;QAAG,GAAG;IACrG,GAAG,EAAE;IAEL,0CAA0C;IAC1C,IAAA,gHAAS,EAAC;QACR,IAAI,CAAC,cAAc;QACnB,wDAAwD;QACxD,YAAY,EAAE;QACd,gBAAgB;QAChB,MAAM,WAAW;YACf;gBAAE,IAAI;gBAAM,MAAM;gBAAS,MAAM;gBAAmC,MAAM;YAAQ;YAClF;gBAAE,IAAI;gBAAM,MAAM;gBAAM,MAAM;gBAAsC,MAAM;YAAQ;SACnF;QACD,WAAW,IAAM,YAAY,WAAW;IAC1C,GAAG;QAAC;KAAa;IAEjB,IAAA,gHAAS,EAAC;QACR,mBAAmB;QACnB,eAAe,OAAO,EAAE,eAAe;YAAE,UAAU;QAAS;IAC9D,GAAG;QAAC;KAAS;IAEb,eAAe;IACf,MAAM,eAAe,IAAA,6GAAM,EAAC;IAC5B,MAAM,cAAc,CAAC;QACnB,MAAM,UAAU,EAAE;QAClB,MAAM,IAAI,CAAC,OAAO,OAAO,CAAC,CAAC;YACzB,MAAM,OAAO,KAAK,IAAI,CAAC,UAAU,CAAC,YAAY,UAAU,KAAK,IAAI,CAAC,UAAU,CAAC,YAAY,UAAU;YACnG,MAAM,UAAU,SAAS,SAAS,OAAO,IAAI,eAAe,CAAC;YAC7D,QAAQ,IAAI,CAAC;gBAAE,IAAI,KAAK,GAAG,KAAK,KAAK,MAAM;gBAAI;gBAAM;gBAAS;YAAK;QACrE;QACA,eAAe,CAAA,OAAQ;mBAAI;mBAAS;aAAQ;IAC9C;IAEA,MAAM,mBAAmB,CAAC;QACxB,eAAe,CAAA,OAAQ,KAAK,MAAM,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK;IACnD;IAEA,oCAAoC;IACpC,MAAM,cAAc;QAClB,IAAI,CAAC,QAAQ,YAAY,MAAM,KAAK,GAAG;QACvC,oBAAoB;QACpB,MAAM,WAAW,IAAI;QACrB,SAAS,MAAM,CAAC,QAAQ;QACxB,SAAS,MAAM,CAAC,kBAAkB;QAClC,YAAY,OAAO,CAAC,CAAC,GAAG,MAAQ,SAAS,MAAM,CAAC,SAAS,EAAE,IAAI;QAE/D,sCAAsC;QACtC,oEAAoE;QAEpE,2BAA2B;QAC3B,MAAM,SAAS;YAAE,IAAI,MAAM,KAAK,GAAG;YAAI,MAAM;YAAM;YAAM,MAAM,IAAI,OAAO,kBAAkB,CAAC,EAAE,EAAE;gBAAC,MAAM;gBAAW,QAAO;YAAS;YAAI,aAAa,YAAY,GAAG,CAAC,CAAA,IAAK,CAAC;oBAAE,MAAM,EAAE,IAAI;oBAAE,SAAS,EAAE,OAAO;oBAAE,MAAM,EAAE,IAAI,CAAC,IAAI;gBAAC,CAAC;QAAG;QACpO,YAAY,CAAA,OAAQ;mBAAI;gBAAM;aAAO;QACrC,QAAQ;QACR,eAAe,EAAE;IACnB;IAEA,kBAAkB;IAClB,MAAM,iBAAiB;QACrB,IAAI,CAAC,UAAU,YAAY,IAAI,CAAC,UAAU,YAAY,CAAC,YAAY,EAAE;YACnE,MAAM;YACN;QACF;QACA,MAAM,SAAS,MAAM,UAAU,YAAY,CAAC,YAAY,CAAC;YAAE,OAAO;QAAK;QACvE,MAAM,KAAK,IAAI,cAAc;QAC7B,iBAAiB,OAAO,GAAG;QAC3B,kBAAkB,OAAO,GAAG,EAAE;QAC9B,GAAG,eAAe,GAAG,CAAA;YAAO,IAAI,EAAE,IAAI,CAAC,IAAI,GAAG,GAAG,kBAAkB,OAAO,CAAC,IAAI,CAAC,EAAE,IAAI;QAAG;QACzF,GAAG,MAAM,GAAG;YACV,MAAM,OAAO,IAAI,KAAK,kBAAkB,OAAO,EAAE;gBAAE,MAAM;YAAa;YACtE,MAAM,OAAO,IAAI,KAAK;gBAAC;aAAK,EAAE,CAAC,MAAM,EAAE,KAAK,GAAG,GAAG,KAAK,CAAC,EAAE;gBAAE,MAAM;YAAa;YAC/E,YAAY;gBAAC;aAAK;QACpB;QACA,GAAG,KAAK;QACR,aAAa;IACf;IACA,MAAM,gBAAgB;QACpB,iBAAiB,OAAO,EAAE;QAC1B,aAAa;IACf;IAEA,4EAA4E;IAC5E,MAAM,eAAe;QACnB,qBAAqB;QACrB,4DAA4D;QAC5D,WAAW;YACT,MAAM,YAAY,cAAc,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK;YACnD,IAAI,WAAW,gBAAgB,UAAU,EAAE;iBACtC;gBACH,MAAM,UAAU;oBAAE,IAAI;oBAAc,MAAM;oBAAS,MAAM;oBAA0B,QAAQ;gBAAE;gBAC7F,iBAAiB,CAAA,OAAQ;wBAAC;2BAAY;qBAAK;gBAC3C,gBAAgB,QAAQ,EAAE;YAC5B;YACA,qBAAqB;QACvB,GAAG;IACL;IAEA,qBACE,qKAAC;QAAI,WAAU;kBACb,cAAA,qKAAC;YAAI,WAAU;;8BACb,qKAAC;oBAAI,WAAU;;sCACb,qKAAC;4BAAG,WAAU;;8CAA2D,qKAAC,8OAAa;oCAAC,WAAU;;;;;;gCAAyB;;;;;;;sCAC3H,qKAAC;4BAAI,WAAU;;8CACb,qKAAC;oCAAO,SAAS;oCAAc,WAAU;;sDACvC,qKAAC,+MAAI;4CAAC,WAAU;;;;;;wCAAW;;;;;;;8CAE7B,qKAAC,4IAAI;oCAAC,MAAK;oCAAI,WAAU;8CAAwC;;;;;;;;;;;;;;;;;;8BAIrE,qKAAC;oBAAI,WAAU;;sCAEb,qKAAC;4BAAM,WAAU;;8CACf,qKAAC;oCAAI,WAAU;;sDACb,qKAAC;4CAAG,WAAU;sDAAsC;;;;;;sDACpD,qKAAC;4CAAO,SAAS,KAAuB;4CAAG,WAAU;sDAAwB;;;;;;;;;;;;gCAG9E,6BACC,qKAAC;oCAAE,WAAU;8CAAwB;;;;;2CAErC,cAAc,GAAG,CAAC,CAAA,qBAChB,qKAAC;wCAAkB,SAAS,IAAM,gBAAgB,KAAK,EAAE;wCAAG,WAAW,CAAC,mCAAmC,EAAE,iBAAiB,KAAK,EAAE,GAAG,sCAAsC,oBAAoB;kDAChM,cAAA,qKAAC;4CAAI,WAAU;;8DACb,qKAAC;oDAAI,WAAU;;sEACb,qKAAC;4DAAI,WAAU;sEAAqF,KAAK,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,CAAC,CAAA,IAAG,CAAC,CAAC,EAAE,EAAE,KAAK,CAAC,GAAE,GAAG,IAAI,CAAC;;;;;;sEACtJ,qKAAC;;8EACC,qKAAC;oEAAI,WAAU;8EAAqC,KAAK,IAAI;;;;;;8EAC7D,qKAAC;oEAAI,WAAU;8EAAyB,KAAK,IAAI;;;;;;;;;;;;;;;;;;8DAGrD,qKAAC;oDAAI,WAAU;8DAAyB,KAAK,MAAM,iBAAG,qKAAC;wDAAK,WAAU;kEAA0D,KAAK,MAAM;;;;;+DAAW;;;;;;;;;;;;uCAThJ,KAAK,EAAE;;;;;;;;;;;sCAiBvB,qKAAC;4BAAQ,WAAU;;8CACjB,qKAAC;oCAAI,WAAU;;sDACb,qKAAC;;8DACC,qKAAC;oDAAI,WAAU;8DAAuC,cAAc,IAAI,CAAC,CAAA,IAAG,EAAE,EAAE,KAAG,eAAe,QAAQ;;;;;;8DAC1G,qKAAC;oDAAI,WAAU;8DAAwB;;;;;;;;;;;;sDAEzC,qKAAC;4CAAI,WAAU;;8DACb,qKAAC;oDAAO,OAAM;oDAAO,SAAS,IAAM;oDAAY,WAAU;8DAAmC,cAAA,qKAAC,kNAAK;wDAAC,WAAU;;;;;;;;;;;8DAC9G,qKAAC;oDAAO,OAAM;oDAAa,SAAS,IAAM,MAAM;oDAAsC,WAAU;8DAAmC,cAAA,qKAAC,kNAAK;wDAAC,WAAU;;;;;;;;;;;8DACpJ,qKAAC;oDAAO,OAAM;oDAAW,SAAS,IAAM;oDAAW,WAAU;8DAAmC,cAAA,qKAAC,kNAAK;wDAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;8CAIrH,qKAAC;oCAAI,WAAU;oCAA2B,OAAO;wCAAE,YAAY;oCAA8C;;wCAC1G,eACC,SAAS,MAAM,KAAK,kBAClB,qKAAC;4CAAE,WAAU;sDAAiC;;;;;mDAE9C,SAAS,GAAG,CAAC,CAAA,oBACX,qKAAC;gDAAiB,WAAW,CAAC,UAAU,EAAE,IAAI,IAAI,KAAK,OAAO,gBAAgB,iBAAiB;0DAC7F,cAAA,qKAAC;oDAAI,WAAW,GAAG,IAAI,IAAI,KAAK,OAAO,2BAA2B,4BAA4B,2BAA2B,CAAC;;wDACvH,IAAI,IAAI,kBAAI,qKAAC;4DAAI,WAAU;sEAAQ,IAAI,IAAI;;;;;;wDAC3C,IAAI,WAAW,EAAE,IAAI,CAAC,GAAG,kBACxB,qKAAC;gEAAY,WAAU;;oEACpB,EAAE,IAAI,KAAK,yBAAW,qKAAC;wEAAI,KAAK,EAAE,OAAO;wEAAE,WAAU;wEAAsB,KAAK,EAAE,IAAI;;;;;;oEACtF,EAAE,IAAI,KAAK,yBAAW,qKAAC;wEAAM,KAAK,EAAE,OAAO;wEAAE,QAAQ;wEAAC,WAAU;;;;;;oEAChE,EAAE,IAAI,KAAK,wBAAU,qKAAC;wEAAI,WAAU;;0FAAyD,qKAAC,+NAAQ;gFAAC,WAAU;;;;;;4EAAW;0FAAC,qKAAC;gFAAI,WAAU;0FAAW,EAAE,IAAI;;;;;;;;;;;;;+DAHtJ;;;;;sEAMZ,qKAAC;4DAAI,WAAU;sEAAgD,IAAI,IAAI;;;;;;;;;;;;+CAVjE,IAAI,EAAE;;;;sEAgBpB,qKAAC;4CAAI,WAAU;sDAAwD;;;;;;sDAEzE,qKAAC;4CAAI,KAAK;;;;;;;;;;;;8CAIZ,qKAAC;oCAAI,WAAU;8CACb,cAAA,qKAAC;wCAAI,WAAU;;0DACb,qKAAC;gDAAO,SAAS,IAAM,aAAa,OAAO,CAAC,KAAK;gDAAI,WAAU;0DAAmC,cAAA,qKAAC,8NAAS;oDAAC,WAAU;;;;;;;;;;;0DACvH,qKAAC;gDAAM,KAAK;gDAAc,MAAK;gDAAO,WAAU;gDAAS,QAAQ;gDAAC,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;;;;;;0DAE7G,qKAAC;gDAAI,WAAU;;kEACb,qKAAC;wDAAS,OAAO;wDAAM,UAAU,CAAC,IAAM,QAAQ,EAAE,MAAM,CAAC,KAAK;wDAAG,MAAM;wDAAG,WAAU;wDAA2C,aAAY;;;;;;kEAE3I,qKAAC;wDAAI,WAAU;kEACZ,YAAY,GAAG,CAAC,CAAA,oBACf,qKAAC;gEAAiB,WAAU;;oEACzB,IAAI,IAAI,KAAK,yBAAW,qKAAC;wEAAI,KAAK,IAAI,OAAO;wEAAE,WAAU;wEAAoC,KAAI;;;;;;oEACjG,IAAI,IAAI,KAAK,yBAAW,qKAAC;wEAAM,KAAK,IAAI,OAAO;wEAAE,WAAU;;;;;;oEAC3D,IAAI,IAAI,KAAK,wBAAU,qKAAC;wEAAI,WAAU;;0FAAgC,qKAAC,+NAAQ;gFAAC,WAAU;;;;;;0FAAW,qKAAC;gFAAI,WAAU;0FAAgB,IAAI,IAAI,CAAC,IAAI;;;;;;0FAAO,qKAAC;gFAAI,WAAU;0FAAyB,aAAa,IAAI,IAAI,CAAC,IAAI;;;;;;;;;;;;kFAC3N,qKAAC;wEAAO,SAAS,IAAM,iBAAiB,IAAI,EAAE;wEAAG,WAAU;kFAA6D,cAAA,qKAAC,yNAAM;4EAAC,WAAU;;;;;;;;;;;;+DAJlI,IAAI,EAAE;;;;;;;;;;;;;;;;0DAWtB,qKAAC;gDAAI,WAAU;;oDACZ,CAAC,0BACA,qKAAC;wDAAO,SAAS;wDAAgB,WAAU;kEAAmC,cAAA,qKAAC,4MAAG;4DAAC,WAAU;;;;;;;;;;6EAE7F,qKAAC;wDAAO,SAAS;wDAAe,WAAU;kEAAuC;;;;;;kEAGnF,qKAAC;wDAAO,SAAS;wDAAa,WAAU;;0EAAuE,qKAAC,+MAAI;gEAAC,WAAU;;;;;;4DAAW;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;sCAOlJ,qKAAC;4BAAM,WAAU;sCACf,cAAA,qKAAC;gCAAI,WAAU;;kDACb,qKAAC;wCAAG,WAAU;kDAAwB;;;;;;kDACtC,qKAAC;wCAAI,WAAU;kDACb,cAAA,qKAAC;4CAAI,WAAU;sDAAwB;;;;;;;;;;;;;;;;;;;;;;;;;;;;8BAe/C,qKAAC;oBAAI,WAAU;8BAA6B;;;;;;;;;;;;;;;;;AAIpD","debugId":null}}]
}