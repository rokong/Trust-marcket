{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/frontend/pages/messages/index.js"],"sourcesContent":["//frontend/pages/messages/index.js\r\nimport { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nexport default function Messages() {\r\n  const userId = typeof window !== \"undefined\" ? localStorage.getItem(\"userId\") : null;\r\n\r\n  const [messages, setMessages] = useState([]);\r\n  const [input, setInput] = useState(\"\");\r\n\r\n  const fetchMessages = async () => {\r\n    const res = await axios.get(`http://localhost:5000/api/messages/${userId}`);\r\n    setMessages(res.data);\r\n  };\r\n\r\n  const sendMessage = async () => {\r\n    if (!input) return;\r\n\r\n    await axios.post(\"http://localhost:5000/api/messages/send\", {\r\n      userId,\r\n      message: input,\r\n    });\r\n\r\n    setInput(\"\");\r\n    fetchMessages();\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (userId) fetchMessages();\r\n  }, [userId]);\r\n\r\n  if (!userId) {\r\n    return <h2>User ID পাওয়া যায়নি! আগে Login করুন।</h2>;\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2>Chat with Admin</h2>\r\n\r\n      <div style={{ border: \"1px solid gray\", height: \"400px\", overflowY: \"scroll\", padding: \"10px\" }}>\r\n        {messages.map((m) => (\r\n          <div key={m._id}><b>{m.sender}:</b> {m.message}</div>\r\n        ))}\r\n      </div>\r\n\r\n      <input\r\n        value={input}\r\n        onChange={(e) => setInput(e.target.value)}\r\n        placeholder=\"Type message...\"\r\n      />\r\n      <button onClick={sendMessage}>Send</button>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"AAAA,kCAAkC;;;;;;AAClC;AACA;;;;;;;;AAEe,SAAS;IACtB,MAAM,SAAS,sCAAgC,0BAAiC;IAEhF,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,+GAAQ,EAAC,EAAE;IAC3C,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,+GAAQ,EAAC;IAEnC,MAAM,gBAAgB;QACpB,MAAM,MAAM,MAAM,qHAAK,CAAC,GAAG,CAAC,CAAC,mCAAmC,EAAE,QAAQ;QAC1E,YAAY,IAAI,IAAI;IACtB;IAEA,MAAM,cAAc;QAClB,IAAI,CAAC,OAAO;QAEZ,MAAM,qHAAK,CAAC,IAAI,CAAC,2CAA2C;YAC1D;YACA,SAAS;QACX;QAEA,SAAS;QACT;IACF;IAEA,IAAA,gHAAS,EAAC;QACR;;IACF,GAAG;QAAC;KAAO;IAEX,wCAAa;QACX,qBAAO,qKAAC;sBAAG;;;;;;IACb;;;AAoBF","debugId":null}}]
}