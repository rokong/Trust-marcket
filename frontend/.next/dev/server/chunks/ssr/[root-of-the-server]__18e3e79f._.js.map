{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 40, "column": 0}, "map": {"version":3,"sources":["file:///D:/trust-market/frontend/utils/api.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\nconst api = axios.create({\r\n  baseURL: \"http://localhost:5000/api\",\r\n});\r\n\r\n// Automatically send token in every request\r\napi.interceptors.request.use((config) => {\r\n  const token = localStorage.getItem(\"token\");\r\n  if (token) {\r\n    config.headers.Authorization = `Bearer ${token}`;\r\n  }\r\n  return config;\r\n});\r\n\r\nexport default api;\r\n"],"names":[],"mappings":";;;;AAAA;;;;;;AAEA,MAAM,MAAM,qHAAK,CAAC,MAAM,CAAC;IACvB,SAAS;AACX;AAEA,4CAA4C;AAC5C,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;IAC5B,MAAM,QAAQ,aAAa,OAAO,CAAC;IACnC,IAAI,OAAO;QACT,OAAO,OAAO,CAAC,aAAa,GAAG,CAAC,OAAO,EAAE,OAAO;IAClD;IACA,OAAO;AACT;uCAEe","debugId":null}},
    {"offset": {"line": 69, "column": 0}, "map": {"version":3,"sources":["file:///D:/trust-market/frontend/pages/dashboard/edit-post/%5Bid%5D.js"],"sourcesContent":["//pages/dashboard/edit-post/[id].js\r\nimport { useEffect, useState } from \"react\"; \r\nimport { useRouter } from \"next/router\";\r\nimport api from \"../../../utils/api\";\r\nimport { ArrowLeft } from \"lucide-react\"; // â† back arrow icon\r\n\r\nexport default function EditPost() {\r\n  const router = useRouter();\r\n  const { id } = router.query;\r\n\r\n  const [form, setForm] = useState({\r\n    title: \"\",\r\n    description: \"\",\r\n    price: \"\",\r\n    category: \"\",\r\n    phone: \"\",\r\n  });\r\n\r\n  const [images, setImages] = useState([]);\r\n  const [videos, setVideos] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (!id) return;\r\n\r\n    api.get(`/posts/${id}`).then((res) => {\r\n      setForm({\r\n        title: res.data.title,\r\n        description: res.data.description,\r\n        price: res.data.price,\r\n        category: res.data.category,\r\n        phone: res.data.phone || \"\",\r\n      });\r\n    });\r\n  }, [id]);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    const token = localStorage.getItem(\"token\");\r\n    const formData = new FormData();\r\n\r\n    Object.keys(form).forEach((key) => {\r\n      formData.append(key, form[key]);\r\n    });\r\n\r\n    Array.from(images).forEach((img) =>\r\n      formData.append(\"images\", img)\r\n    );\r\n\r\n    Array.from(videos).forEach((vid) =>\r\n      formData.append(\"videos\", vid)\r\n    );\r\n\r\n    await api.put(`/posts/${id}`, formData, {\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n        \"Content-Type\": \"multipart/form-data\",\r\n      },\r\n    });\r\n\r\n    router.push(\"/dashboard/my-posts\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-6 max-w-xl mx-auto relative\">\r\n\r\n      {/* Back Arrow */}\r\n      <button\r\n        onClick={() => router.back()}\r\n        className=\"absolute top-4 left-4 flex items-center gap-1 text-gray-700 hover:text-gray-900\"\r\n      >\r\n        <ArrowLeft className=\"w-5 h-5\" />\r\n        Back\r\n      </button>\r\n\r\n      <h1 className=\"text-xl font-bold mb-4 mt-8\">Edit Post</h1>\r\n\r\n      <form onSubmit={handleSubmit} className=\"space-y-3\">\r\n\r\n        <input\r\n          className=\"border p-2 w-full\"\r\n          placeholder=\"Title\"\r\n          value={form.title}\r\n          onChange={(e) => setForm({ ...form, title: e.target.value })}\r\n        />\r\n\r\n        <textarea\r\n          className=\"border p-2 w-full\"\r\n          placeholder=\"Description\"\r\n          value={form.description}\r\n          onChange={(e) => setForm({ ...form, description: e.target.value })}\r\n        />\r\n\r\n        <input\r\n          type=\"number\"\r\n          className=\"border p-2 w-full\"\r\n          placeholder=\"Price\"\r\n          value={form.price}\r\n          onChange={(e) => setForm({ ...form, price: e.target.value })}\r\n        />\r\n\r\n        <input\r\n          className=\"border p-2 w-full\"\r\n          placeholder=\"Phone number\"\r\n          value={form.phone}\r\n          onChange={(e) => setForm({ ...form, phone: e.target.value })}\r\n        />\r\n\r\n        <select\r\n          className=\"border p-2 w-full\"\r\n          value={form.category}\r\n          onChange={(e) => setForm({ ...form, category: e.target.value })}\r\n        >\r\n          <option>Gaming</option>\r\n          <option>Facebook Page</option>\r\n          <option>Website</option>\r\n          <option>YouTube Channel</option>\r\n        </select>\r\n\r\n        <div>\r\n          <label className=\"block font-medium\">Add Images</label>\r\n          <input\r\n            type=\"file\"\r\n            multiple\r\n            accept=\"image/*\"\r\n            onChange={(e) => setImages(e.target.files)}\r\n          />\r\n        </div>\r\n\r\n        <div>\r\n          <label className=\"block font-medium\">Add Videos</label>\r\n          <input\r\n            type=\"file\"\r\n            multiple\r\n            accept=\"video/*\"\r\n            onChange={(e) => setVideos(e.target.files)}\r\n          />\r\n        </div>\r\n\r\n        <button className=\"bg-blue-600 text-white px-4 py-2 rounded w-full\">\r\n          Update Post\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}