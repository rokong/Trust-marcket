{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/frontend/components/AdminSidebar.js"],"sourcesContent":["// frontend/components/AdminSidebar.js\r\nimport { useRouter } from 'next/router';\r\n\r\nexport default function AdminSidebar() {\r\n  const router = useRouter();\r\n  const nav = (path) => router.push(path);\r\n\r\n  return (\r\n    <div className=\"w-64 bg-white shadow rounded p-4 h-full\">\r\n      <div className=\"mb-6\">\r\n        <div className=\"text-lg font-bold text-blue-700\">Admin</div>\r\n        <div className=\"text-sm text-gray-500\">Trust Market</div>\r\n      </div>\r\n\r\n      <div className=\"flex flex-col gap-2\">\r\n        <button className=\"text-left px-3 py-2 rounded hover:bg-gray-100\" onClick={()=>nav('/admin')}>Overview</button>\r\n        <button className=\"text-left px-3 py-2 rounded hover:bg-gray-100\" onClick={()=>nav('/admin/pending')}>Pending Posts</button>\r\n        <button className=\"text-left px-3 py-2 rounded hover:bg-gray-100\" onClick={()=>nav('/admin/transactions')}>Transactions</button>\r\n        <button className=\"text-left px-3 py-2 rounded hover:bg-gray-100\" onClick={()=>nav('/dashboard')}>Seller View</button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"AAAA,sCAAsC;;;;;;AACtC;;;AAEe,SAAS;IACtB,MAAM,SAAS,IAAA,gJAAS;IACxB,MAAM,MAAM,CAAC,OAAS,OAAO,IAAI,CAAC;IAElC,qBACE,qKAAC;QAAI,WAAU;;0BACb,qKAAC;gBAAI,WAAU;;kCACb,qKAAC;wBAAI,WAAU;kCAAkC;;;;;;kCACjD,qKAAC;wBAAI,WAAU;kCAAwB;;;;;;;;;;;;0BAGzC,qKAAC;gBAAI,WAAU;;kCACb,qKAAC;wBAAO,WAAU;wBAAgD,SAAS,IAAI,IAAI;kCAAW;;;;;;kCAC9F,qKAAC;wBAAO,WAAU;wBAAgD,SAAS,IAAI,IAAI;kCAAmB;;;;;;kCACtG,qKAAC;wBAAO,WAAU;wBAAgD,SAAS,IAAI,IAAI;kCAAwB;;;;;;kCAC3G,qKAAC;wBAAO,WAAU;wBAAgD,SAAS,IAAI,IAAI;kCAAe;;;;;;;;;;;;;;;;;;AAI1G","debugId":null}},
    {"offset": {"line": 124, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/frontend/components/AdminTopbar.js"],"sourcesContent":["// frontend/components/AdminTopbar.js\r\nimport { useRouter } from 'next/router';\r\nimport { useEffect, useState } from 'react';\r\n\r\nexport default function AdminTopbar({ title }) {\r\n  const router = useRouter();\r\n  const [token, setToken] = useState(null);\r\n  useEffect(()=> {\r\n    if (typeof window !== 'undefined') setToken(localStorage.getItem('token'));\r\n  }, []);\r\n\r\n  const logout = () => {\r\n    localStorage.removeItem('token');\r\n    router.push('/login');\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex items-center justify-between px-6 py-4 bg-gradient-to-r from-blue-600 to-indigo-600 text-white\">\r\n      <div>\r\n        <h1 className=\"text-xl font-semibold\">{title}</h1>\r\n        <p className=\"text-sm opacity-80\">Admin panel</p>\r\n      </div>\r\n      <div className=\"flex items-center gap-3\">\r\n        <button\r\n          className=\"px-3 py-1 rounded bg-yellow-300 text-black\"\r\n          onClick={() => router.push('/')}\r\n        >\r\n          Go Home\r\n        </button>\r\n        <button\r\n          onClick={logout}\r\n          className=\"px-3 py-1 rounded bg-red-500 hover:bg-red-600\"\r\n        >\r\n          Logout\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"AAAA,qCAAqC;;;;;;AACrC;AACA;;;;AAEe,SAAS,YAAY,EAAE,KAAK,EAAE;IAC3C,MAAM,SAAS,IAAA,gJAAS;IACxB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,+GAAQ,EAAC;IACnC,IAAA,gHAAS,EAAC;QACR;;IACF,GAAG,EAAE;IAEL,MAAM,SAAS;QACb,aAAa,UAAU,CAAC;QACxB,OAAO,IAAI,CAAC;IACd;IAEA,qBACE,qKAAC;QAAI,WAAU;;0BACb,qKAAC;;kCACC,qKAAC;wBAAG,WAAU;kCAAyB;;;;;;kCACvC,qKAAC;wBAAE,WAAU;kCAAqB;;;;;;;;;;;;0BAEpC,qKAAC;gBAAI,WAAU;;kCACb,qKAAC;wBACC,WAAU;wBACV,SAAS,IAAM,OAAO,IAAI,CAAC;kCAC5B;;;;;;kCAGD,qKAAC;wBACC,SAAS;wBACT,WAAU;kCACX;;;;;;;;;;;;;;;;;;AAMT","debugId":null}},
    {"offset": {"line": 223, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/frontend/utils/api.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\nconst api = axios.create({\r\n  baseURL: \"http://localhost:5000/api\",\r\n});\r\n\r\n// Automatically send token in every request\r\napi.interceptors.request.use((config) => {\r\n  const token = localStorage.getItem(\"token\");\r\n  if (token) {\r\n    config.headers.Authorization = `Bearer ${token}`;\r\n  }\r\n  return config;\r\n});\r\n\r\nexport default api;\r\n"],"names":[],"mappings":";;;;AAAA;;;;;;AAEA,MAAM,MAAM,qHAAK,CAAC,MAAM,CAAC;IACvB,SAAS;AACX;AAEA,4CAA4C;AAC5C,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;IAC5B,MAAM,QAAQ,aAAa,OAAO,CAAC;IACnC,IAAI,OAAO;QACT,OAAO,OAAO,CAAC,aAAa,GAAG,CAAC,OAAO,EAAE,OAAO;IAClD;IACA,OAAO;AACT;uCAEe","debugId":null}},
    {"offset": {"line": 252, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/frontend/pages/admin/pending.js"],"sourcesContent":["// frontend/pages/admin/pending.js\r\nimport { useEffect, useState } from 'react';\r\nimport AdminSidebar from '../../components/AdminSidebar';\r\nimport AdminTopbar from '../../components/AdminTopbar';\r\nimport api from '../../utils/api';\r\n\r\nexport default function AdminPending() {\r\n  const [posts, setPosts] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  // Fetch pending posts\r\n  const fetchPending = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const res = await api.get('/admin/pending-posts');\r\n      setPosts(res.data || []);\r\n    } catch (err) {\r\n      console.error(err);\r\n      alert('Failed to fetch pending posts');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchPending();\r\n  }, []);\r\n\r\n  // Approve post\r\n  const approve = async (id) => {\r\n    if (!confirm('Approve this post?')) return;\r\n\r\n    try {\r\n      const res = await api.put(`/admin/approve/${id}`);\r\n      alert(res.data?.message || 'Approved');\r\n      fetchPending();\r\n    } catch (error) {\r\n      console.error(error);\r\n      alert('Approve failed');\r\n    }\r\n  };\r\n\r\n  const deletePost = async (id) => {\r\n    try {\r\n      await api.delete(`/admin/reject/${id}`);\r\n      fetchPending(); // refresh list\r\n    } catch (err) {\r\n      console.log(err.response?.data || err.message);\r\n    }\r\n  };\r\n  \r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50\">\r\n      <AdminTopbar title=\"Pending Posts\" />\r\n\r\n      <div className=\"max-w-7xl mx-auto p-6 flex gap-6\">\r\n        <AdminSidebar />\r\n\r\n        <main className=\"flex-1\">\r\n          <div className=\"bg-white rounded shadow p-4\">\r\n            <h2 className=\"text-xl font-semibold mb-4\">Pending Posts</h2>\r\n\r\n            {loading && <div>Loading...</div>}\r\n            {!loading && posts.length === 0 && <div>No pending posts.</div>}\r\n\r\n            <div className=\"space-y-4\">\r\n              {posts.map((p) => (\r\n                <div\r\n                  key={p._id || p.id}\r\n                  className=\"border rounded p-4 flex justify-between items-start\"\r\n                >\r\n                  <div className=\"flex-1\">\r\n                    <h3 className=\"font-semibold\">{p.title}</h3>\r\n                    <p className=\"text-sm text-gray-600\">{p.description}</p>\r\n\r\n                    <div className=\"text-xs text-gray-500 mt-2\">\r\n                      Seller: {p.sellerId?.name || p.sellerId?.email || 'â€”'}\r\n                    </div>\r\n\r\n                    <div className=\"text-sm text-gray-700 mt-2 font-bold\">\r\n                      {p.price} BDT\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"flex flex-col gap-2 ml-4\">\r\n                    <button\r\n                      className=\"px-3 py-1 bg-green-600 text-white rounded\"\r\n                      onClick={() => approve(p._id || p.id)}\r\n                    >\r\n                      Approve\r\n                    </button>\r\n\r\n                    <button\r\n                      className=\"px-3 py-1 bg-gray-200 rounded\"\r\n                      onClick={() => alert(JSON.stringify(p, null, 2))}\r\n                    >\r\n                      View\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </main>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"AAAA,kCAAkC;;;;;;AAClC;AACA;AACA;AACA;;;;;;;;;;AAEe,SAAS;IACtB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,+GAAQ,EAAC,EAAE;IACrC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,+GAAQ,EAAC;IAEvC,sBAAsB;IACtB,MAAM,eAAe;QACnB,WAAW;QACX,IAAI;YACF,MAAM,MAAM,MAAM,4HAAG,CAAC,GAAG,CAAC;YAC1B,SAAS,IAAI,IAAI,IAAI,EAAE;QACzB,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC;YACd,MAAM;QACR,SAAU;YACR,WAAW;QACb;IACF;IAEA,IAAA,gHAAS,EAAC;QACR;IACF,GAAG,EAAE;IAEL,eAAe;IACf,MAAM,UAAU,OAAO;QACrB,IAAI,CAAC,QAAQ,uBAAuB;QAEpC,IAAI;YACF,MAAM,MAAM,MAAM,4HAAG,CAAC,GAAG,CAAC,CAAC,eAAe,EAAE,IAAI;YAChD,MAAM,IAAI,IAAI,EAAE,WAAW;YAC3B;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC;YACd,MAAM;QACR;IACF;IAEA,MAAM,aAAa,OAAO;QACxB,IAAI;YACF,MAAM,4HAAG,CAAC,MAAM,CAAC,CAAC,cAAc,EAAE,IAAI;YACtC,gBAAgB,eAAe;QACjC,EAAE,OAAO,KAAK;YACZ,QAAQ,GAAG,CAAC,IAAI,QAAQ,EAAE,QAAQ,IAAI,OAAO;QAC/C;IACF;IAEA,qBACE,qKAAC;QAAI,WAAU;;0BACb,qKAAC,yIAAW;gBAAC,OAAM;;;;;;0BAEnB,qKAAC;gBAAI,WAAU;;kCACb,qKAAC,0IAAY;;;;;kCAEb,qKAAC;wBAAK,WAAU;kCACd,cAAA,qKAAC;4BAAI,WAAU;;8CACb,qKAAC;oCAAG,WAAU;8CAA6B;;;;;;gCAE1C,yBAAW,qKAAC;8CAAI;;;;;;gCAChB,CAAC,WAAW,MAAM,MAAM,KAAK,mBAAK,qKAAC;8CAAI;;;;;;8CAExC,qKAAC;oCAAI,WAAU;8CACZ,MAAM,GAAG,CAAC,CAAC,kBACV,qKAAC;4CAEC,WAAU;;8DAEV,qKAAC;oDAAI,WAAU;;sEACb,qKAAC;4DAAG,WAAU;sEAAiB,EAAE,KAAK;;;;;;sEACtC,qKAAC;4DAAE,WAAU;sEAAyB,EAAE,WAAW;;;;;;sEAEnD,qKAAC;4DAAI,WAAU;;gEAA6B;gEACjC,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,SAAS;;;;;;;sEAGpD,qKAAC;4DAAI,WAAU;;gEACZ,EAAE,KAAK;gEAAC;;;;;;;;;;;;;8DAIb,qKAAC;oDAAI,WAAU;;sEACb,qKAAC;4DACC,WAAU;4DACV,SAAS,IAAM,QAAQ,EAAE,GAAG,IAAI,EAAE,EAAE;sEACrC;;;;;;sEAID,qKAAC;4DACC,WAAU;4DACV,SAAS,IAAM,MAAM,KAAK,SAAS,CAAC,GAAG,MAAM;sEAC9C;;;;;;;;;;;;;2CA3BE,EAAE,GAAG,IAAI,EAAE,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuCpC","debugId":null}}]
}