{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/frontend/pages/messages/index.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\r\nimport Link from \"next/link\";\r\nimport { Phone, MessageCircle, ImageIcon, FileText, Paperclip, Send, User, Trash2, Video, Mic } from \"lucide-react\";\r\nimport { useRouter } from \"next/router\";\r\n\r\n// Helper: readable file size\r\nconst readableSize = (size) => {\r\n  if (!size) return \"0 B\";\r\n  const i = Math.floor(Math.log(size) / Math.log(1024));\r\n  return (size / Math.pow(1024, i)).toFixed(2) * 1 + \" \" + [\"B\", \"KB\", \"MB\", \"GB\"][i];\r\n};\r\n\r\nexport default function MessagesPage() {\r\n  const router = useRouter();\r\n  const { post } = router.query;\r\n\r\n  const [conversations, setConversations] = useState([]);\r\n  const [activeConvId, setActiveConvId] = useState(null);\r\n  const [messages, setMessages] = useState([]);\r\n  const [text, setText] = useState(\"\");\r\n  const [attachments, setAttachments] = useState([]);\r\n  const [recording, setRecording] = useState(false);\r\n  const mediaRecorderRef = useRef(null);\r\n  const recordedChunksRef = useRef([]);\r\n  const messagesEndRef = useRef(null);\r\n  const fileInputRef = useRef(null);\r\n  const [loadingConvs, setLoadingConvs] = useState(true);\r\n  const [isConnectingAdmin, setIsConnectingAdmin] = useState(false);\r\n\r\n  // Load saved messages from localStorage\r\n  useEffect(() => {\r\n    const saved = localStorage.getItem('messages');\r\n    if (saved) setMessages(JSON.parse(saved));\r\n  }, []);\r\n\r\n  // Load conversations (mock for now)\r\n  useEffect(() => {\r\n    const mock = [\r\n      { id: 'conv_admin', name: 'Trust chat', last: 'Support available', unread: 0 },\r\n    ];\r\n    setTimeout(() => {\r\n      setConversations(mock);\r\n      setLoadingConvs(false);\r\n      setActiveConvId(mock[0].id);\r\n    }, 300);\r\n  }, []);\r\n\r\n  // Scroll to bottom on messages change\r\n  useEffect(() => {\r\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\r\n  }, [messages]);\r\n\r\n  // Auto-send post message when URL has `post`\r\n  useEffect(() => {\r\n    if (!post) return;\r\n    const adminConv = { id: 'conv_admin', name: 'Trust chat', last: 'Support available', unread: 0 };\r\n    setConversations([adminConv]);\r\n    setActiveConvId('conv_admin');\r\n\r\n    setTimeout(() => {\r\n      const newMsg = {\r\n        id: 'post_share_' + Date.now(),\r\n        from: 'me',\r\n        text: \"‡¶Ü‡¶Æ‡¶ø ‡¶è‡¶á ‡¶™‡ßã‡¶∏‡ßç‡¶ü‡¶ü‡¶ø ‡¶∏‡¶Æ‡ßç‡¶™‡¶∞‡ßç‡¶ï‡ßá ‡¶ú‡¶æ‡¶®‡¶§‡ßá ‡¶ö‡¶æ‡¶á‡•§\",\r\n        time: new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' }),\r\n        postId: post,\r\n      };\r\n      setMessages(prev => {\r\n        const updated = [...prev, newMsg];\r\n        localStorage.setItem('messages', JSON.stringify(updated));\r\n        return updated;\r\n      });\r\n    }, 400);\r\n  }, [post]);\r\n\r\n  // Attach files\r\n  const handleFiles = (files) => {\r\n    const newAtts = [];\r\n    Array.from(files).forEach((file) => {\r\n      const type = file.type.startsWith('image/') ? 'image' : file.type.startsWith('video/') ? 'video' : 'file';\r\n      const preview = type === 'file' ? null : URL.createObjectURL(file);\r\n      newAtts.push({ id: Date.now() + Math.random(), file, preview, type });\r\n    });\r\n    setAttachments(prev => [...prev, ...newAtts]);\r\n  };\r\n\r\n  const removeAttachment = (id) => setAttachments(prev => prev.filter(a => a.id !== id));\r\n\r\n  // Send message\r\n  const sendMessage = () => {\r\n    if (!text && attachments.length === 0) return;\r\n    const newMsg = {\r\n      id: 'm' + Date.now(),\r\n      from: 'me',\r\n      text,\r\n      time: new Date().toLocaleTimeString([], { hour: '2-digit', minute:'2-digit' }),\r\n      attachments: attachments.map(a => ({ type: a.type, preview: a.preview, name: a.file.name }))\r\n    };\r\n    setMessages(prev => {\r\n      const updated = [...prev, newMsg];\r\n      localStorage.setItem('messages', JSON.stringify(updated));\r\n      return updated;\r\n    });\r\n    setText('');\r\n    setAttachments([]);\r\n  };\r\n\r\n  // Voice recording\r\n  const startRecording = async () => {\r\n    if (!navigator.mediaDevices || !navigator.mediaDevices.getUserMedia) {\r\n      alert('Your browser does not support voice recording');\r\n      return;\r\n    }\r\n    const stream = await navigator.mediaDevices.getUserMedia({ audio: true });\r\n    const mr = new MediaRecorder(stream);\r\n    mediaRecorderRef.current = mr;\r\n    recordedChunksRef.current = [];\r\n    mr.ondataavailable = e => { if (e.data.size > 0) recordedChunksRef.current.push(e.data); };\r\n    mr.onstop = async () => {\r\n      const blob = new Blob(recordedChunksRef.current, { type: 'audio/webm' });\r\n      const file = new File([blob], `voice-${Date.now()}.webm`, { type: 'audio/webm' });\r\n      handleFiles([file]);\r\n    };\r\n    mr.start();\r\n    setRecording(true);\r\n  };\r\n\r\n  const stopRecording = () => {\r\n    mediaRecorderRef.current?.stop();\r\n    setRecording(false);\r\n  };\r\n\r\n  // Admin connect\r\n  const connectAdmin = async () => {\r\n    setIsConnectingAdmin(true);\r\n    setTimeout(() => {\r\n      const adminConv = conversations.find(c => c.id === 'conv_admin');\r\n      if (adminConv) setActiveConvId(adminConv.id);\r\n      else {\r\n        const newConv = { id: 'conv_admin', name: 'Admin', last: 'You connected to admin', unread: 0 };\r\n        setConversations(prev => [newConv, ...prev]);\r\n        setActiveConvId(newConv.id);\r\n      }\r\n      setIsConnectingAdmin(false);\r\n    }, 700);\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50\">\r\n      <div className=\"max-w-7xl mx-auto p-4\">\r\n        <div className=\"flex items-center justify-between mb-4\">\r\n          <h1 className=\"text-2xl font-bold text-gray-800 flex items-center gap-2\">\r\n            <MessageCircle className=\"w-6 h-6 text-blue-600\"/> Messages\r\n          </h1>\r\n          <div className=\"flex items-center gap-3\">\r\n            <button onClick={connectAdmin} className=\"px-3 py-2 bg-blue-600 text-white rounded-md shadow-sm hover:bg-blue-700 transition flex items-center gap-2\">\r\n              <User className=\"w-4 h-4\"/> Connect Admin\r\n            </button>\r\n            <Link href=\"/\" className=\"text-sm text-gray-600 hover:underline\">Go Home</Link>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"bg-white rounded-xl shadow-md overflow-hidden grid grid-cols-12\">\r\n          {/* Left: Conversations */}\r\n          <aside className=\"col-span-12 md:col-span-2 border-r p-3 h-[70vh] overflow-auto\">\r\n            <div className=\"flex items-center justify-between mb-3\">\r\n              <h3 className=\"text-sm font-semibold text-gray-700\">Conversations</h3>\r\n              <button className=\"text-xs text-blue-600\">New</button>\r\n            </div>\r\n            {loadingConvs ? (\r\n              <p className=\"text-sm text-gray-400\">Loading...</p>\r\n            ) : (\r\n              conversations.map(conv => (\r\n                <div\r\n                  key={conv.id}\r\n                  onClick={() => setActiveConvId(conv.id)}\r\n                  className={`p-2 rounded-lg cursor-pointer mb-2 ${activeConvId === conv.id ? 'bg-blue-50 border border-blue-100' : 'hover:bg-gray-50'}`}\r\n                >\r\n                  <div className=\"flex items-center justify-between\">\r\n                    <div className=\"flex items-center gap-3\">\r\n                      <div className=\"w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center text-gray-600\">\r\n                        {conv.name.split(' ').map(s=>s[0]).slice(0,2).join('')}\r\n                      </div>\r\n                      <div>\r\n                        <div className=\"text-sm font-medium text-gray-700\">{conv.name}</div>\r\n                        <div className=\"text-xs text-gray-500\">{conv.last}</div>\r\n                      </div>\r\n                    </div>\r\n                    {conv.unread ? <div className=\"text-xs text-gray-500\"><span className=\"bg-red-500 text-white px-2 py-0.5 rounded-full text-xs\">{conv.unread}</span></div> : null}\r\n                  </div>\r\n                </div>\r\n              ))\r\n            )}\r\n          </aside>\r\n\r\n          {/* Center: Chat Window */}\r\n          <section className=\"col-span-12 md:col-span-7 p-3 flex flex-col h-[70vh]\">\r\n            <div className=\"flex items-center justify-between p-2 border-b\">\r\n              <div>\r\n                <div className=\"text-sm font-semibold text-gray-700\">{conversations.find(c=>c.id===activeConvId)?.name || 'Select a conversation'}</div>\r\n                <div className=\"text-xs text-gray-500\">Online</div>\r\n              </div>\r\n              <div className=\"flex items-center gap-2\">\r\n                <button title=\"Call\" className=\"p-2 rounded-md hover:bg-gray-100\"><Phone className=\"w-4 h-4\"/></button>\r\n                <button title=\"Video Call\" onClick={() => alert('Video call placeholder')} className=\"p-2 rounded-md hover:bg-gray-100\"><Video className=\"w-4 h-4\"/></button>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"flex-1 overflow-auto p-3\" style={{ background: 'linear-gradient(180deg,#f8fafc,transparent)' }}>\r\n              {activeConvId ? (\r\n                messages.length === 0 ? (\r\n                  <p className=\"text-center text-gray-400 mt-8\">No messages yet. Start the conversation.</p>\r\n                ) : (\r\n                  messages.map(msg => (\r\n                    <div key={msg.id} className={`mb-3 flex ${msg.from === 'me' ? 'justify-end' : 'justify-start'}`}>\r\n                      <div className={`${msg.from === 'me' ? 'bg-blue-600 text-white' : 'bg-gray-100 text-gray-800'} rounded-xl p-3 max-w-[80%]`}>\r\n                        {msg.text && <div className=\"mb-2\">{msg.text}</div>}\r\n                        {msg.postId && (\r\n                          <div className=\"bg-white text-gray-800 p-2 rounded-md border mb-2\">\r\n                            <div className=\"text-sm font-semibold\">üìå Shared Post</div>\r\n                            <Link href={`/post/${msg.postId}`} className=\"text-blue-600 text-sm underline\">View Post</Link>\r\n                          </div>\r\n                        )}\r\n                        {msg.attachments?.map((a, i) => (\r\n                          <div key={i} className=\"mb-2\">\r\n                            {a.type === 'image' && <img src={a.preview} className=\"max-w-xs rounded-md\" alt={a.name} />}\r\n                            {a.type === 'video' && <video src={a.preview} controls className=\"max-w-xs rounded-md\"/>}\r\n                            {a.type === 'file' && (\r\n                              <div className=\"flex items-center gap-2 bg-white p-2 rounded-md border\">\r\n                                <FileText className=\"w-4 h-4\"/>\r\n                                <div className=\"text-xs\">{a.name}</div>\r\n                              </div>\r\n                            )}\r\n                          </div>\r\n                        ))}\r\n                        <div className=\"text-right text-[11px] text-gray-200/80 mt-1\">{msg.time}</div>\r\n                      </div>\r\n                    </div>\r\n                  ))\r\n                )\r\n              ) : (\r\n                <div className=\"h-full flex items-center justify-center text-gray-400\">Select a conversation from left</div>\r\n              )}\r\n              <div ref={messagesEndRef} />\r\n            </div>\r\n\r\n            {/* Composer */}\r\n            <div className=\"mt-3 border-t pt-3 flex items-center gap-2\">\r\n  \r\n              {/* Attachment Icon */}\r\n              <button \r\n                onClick={() => fileInputRef.current.click()} \r\n                className=\"p-2 rounded-md hover:bg-gray-100\"\r\n              >\r\n                <Paperclip className=\"w-5 h-5\" />\r\n              </button>\r\n\r\n              <input \r\n                ref={fileInputRef} \r\n                type=\"file\" \r\n                className=\"hidden\" \r\n                multiple \r\n                onChange={(e) => handleFiles(e.target.files)} \r\n              />\r\n\r\n              {/* Textarea */}\r\n              <textarea\r\n                value={text}\r\n                onChange={(e) => setText(e.target.value)}\r\n                rows={2}\r\n                className=\"flex-1 p-2 rounded-md border resize-none\"\r\n                placeholder=\"Write a message...\"\r\n              ></textarea>\r\n\r\n              {/* Voice + Send (RIGHT SIDE) */}\r\n              <div className=\"flex flex-col gap-2\">\r\n\r\n                {!recording ? (\r\n                  <button \r\n                    onClick={startRecording} \r\n                    className=\"p-2 rounded-md hover:bg-gray-100\"\r\n                  >\r\n                    <Mic className=\"w-5 h-5\" />\r\n                  </button>\r\n                ) : (\r\n                  <button \r\n                    onClick={stopRecording} \r\n                    className=\"p-2 bg-red-500 text-white rounded-md\"\r\n                  >\r\n                    Stop\r\n                  </button>\r\n                )}\r\n\r\n                <button \r\n                  onClick={sendMessage} \r\n                  className=\"px-3 py-2 bg-green-600 text-white rounded-md flex items-center gap-2\"\r\n                >\r\n                  <Send className=\"w-4 h-4\" /> Send\r\n                </button>\r\n\r\n              </div>\r\n            </div>\r\n\r\n            {/* Attachments Preview Row same to same ‡¶∞‡¶æ‡¶ñ‡¶æ ‡¶π‡¶≤‡ßã */}\r\n            <div className=\"flex gap-2 mt-2 overflow-auto\">\r\n              {attachments.map(att => (\r\n                <div key={att.id} className=\"relative border rounded-md p-1 bg-white\">\r\n                  {att.type === 'image' && <img src={att.preview} className=\"w-24 h-24 object-cover rounded-md\" />}\r\n                  {att.type === 'video' && <video src={att.preview} className=\"w-24 h-24 object-cover rounded-md\" />}\r\n                  {att.type === 'file' && (\r\n                    <div className=\"flex flex-col items-start p-2\">\r\n                      <FileText className=\"w-6 h-6\"/>\r\n                      <div className=\"text-xs mt-1\">{att.file.name}</div>\r\n                      <div className=\"text-xs text-gray-400\">{readableSize(att.file.size)}</div>\r\n                    </div>\r\n                  )}\r\n                  <button \r\n                    onClick={() => removeAttachment(att.id)} \r\n                    className=\"absolute top-1 right-1 bg-white p-1 rounded-full shadow-sm\"\r\n                  >\r\n                    <Trash2 className=\"w-3 h-3\"/>\r\n                  </button>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </section>\r\n\r\n          {/* Right: Admin Info */}\r\n          <aside className=\"hidden md:block col-span-3 border-l p-3 h-[70vh] overflow-auto\">\r\n            <div className=\"mb-4\">\r\n              <h4 className=\"text-sm font-semibold\">Conversation Details</h4>\r\n              <div className=\"p-3 bg-gray-50 rounded-md text-xs text-gray-500\">\r\n                Trust Market ‚Äì ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶®‡¶ø‡¶∞‡¶æ‡¶™‡¶¶ ‡¶ì ‡¶∏‡¶π‡¶ú ‡¶Ö‡¶®‡¶≤‡¶æ‡¶á‡¶® ‡¶Æ‡¶æ‡¶∞‡ßç‡¶ï‡ßá‡¶ü‡¶™‡ßç‡¶≤‡ßá‡¶∏ ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™ <br/>\r\n                ‡¶™‡ßç‡¶∞‡¶ß‡¶æ‡¶® ‡¶´‡¶ø‡¶ö‡¶æ‡¶∞‡¶∏‡¶Æ‡ßÇ‡¶π: <br/>\r\n                ‡¶®‡¶ø‡¶∞‡¶æ‡¶™‡¶¶ ‡¶≤‡ßá‡¶®‡¶¶‡ßá‡¶® <br/>\r\n                ‡¶∏‡¶π‡¶ú ‡¶®‡ßç‡¶Ø‡¶æ‡¶≠‡¶ø‡¶ó‡ßá‡¶∂‡¶® <br/>\r\n                ‡¶¨‡¶ø‡¶ï‡ßç‡¶∞‡ßá‡¶§‡¶æ‡¶¶‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶∏‡ßÅ‡¶¨‡¶ø‡¶ß‡¶æ <br/>\r\n                ‡¶∞‡¶ø‡¶Ø‡¶º‡ßá‡¶≤ ‡¶ü‡¶æ‡¶á‡¶Æ ‡¶Ü‡¶™‡¶°‡ßá‡¶ü <br/>\r\n                ‡¶¨‡¶ø‡¶∂‡ßç‡¶¨‡¶æ‡¶∏‡¶Ø‡ßã‡¶ó‡ßç‡¶Ø ‡¶ï‡¶Æ‡¶ø‡¶â‡¶®‡¶ø‡¶ü‡¶ø\r\n              </div>\r\n            </div>\r\n          </aside>\r\n        </div>\r\n\r\n        <div className=\"text-xs text-gray-400 mt-2\">Note: This is a Trust Market.</div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}