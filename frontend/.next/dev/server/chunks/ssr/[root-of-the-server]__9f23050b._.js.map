{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/frontend/components/Navbar.js"],"sourcesContent":["import Link from 'next/link';\r\nimport { useEffect, useState } from 'react';\r\nimport { motion } from 'framer-motion';\r\n\r\nexport default function Navbar() {\r\n  const [user, setUser] = useState(null);\r\n\r\n  useEffect(() => {\r\n    if (typeof window !== \"undefined\") {\r\n      const token = localStorage.getItem(\"token\");\r\n      if (token) setUser(true); // লগইন চেক\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <motion.nav \r\n      initial={{ y: -50, opacity: 0 }} \r\n      animate={{ y: 0, opacity: 1 }} \r\n      transition={{ duration: 0.5 }}\r\n      className=\"bg-gradient-to-r from-purple-600 to-indigo-600 shadow-xl p-4 flex justify-between items-center text-white\"\r\n    >\r\n      <Link href=\"/\"><h1 className=\"text-2xl font-bold\">TrustMarket</h1></Link>\r\n      <div className=\"flex items-center gap-6\">\r\n        <Link href=\"/\" className=\"hover:scale-105 transition\">Home</Link>\r\n        {user && <Link href=\"/messages\" className=\"hover:scale-105 transition\">Messages</Link>}\r\n        {user && <Link href=\"/dashboard\" className=\"hover:scale-105 transition\">Dashboard</Link>}\r\n      </div>\r\n    </motion.nav>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;;;;;;;AAGe,SAAS;IACtB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,+GAAQ,EAAC;IAEjC,IAAA,gHAAS,EAAC;QACR;;IAIF,GAAG,EAAE;IAEL,qBACE,qKAAC,OAAO,GAAG;QACT,SAAS;YAAE,GAAG,CAAC;YAAI,SAAS;QAAE;QAC9B,SAAS;YAAE,GAAG;YAAG,SAAS;QAAE;QAC5B,YAAY;YAAE,UAAU;QAAI;QAC5B,WAAU;;0BAEV,qKAAC,4IAAI;gBAAC,MAAK;0BAAI,cAAA,qKAAC;oBAAG,WAAU;8BAAqB;;;;;;;;;;;0BAClD,qKAAC;gBAAI,WAAU;;kCACb,qKAAC,4IAAI;wBAAC,MAAK;wBAAI,WAAU;kCAA6B;;;;;;oBACrD,sBAAQ,qKAAC,4IAAI;wBAAC,MAAK;wBAAY,WAAU;kCAA6B;;;;;;oBACtE,sBAAQ,qKAAC,4IAAI;wBAAC,MAAK;wBAAa,WAAU;kCAA6B;;;;;;;;;;;;;;;;;;AAIhF","debugId":null}},
    {"offset": {"line": 138, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/frontend/utils/api.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\nconst api = axios.create({\r\n  baseURL: \"http://localhost:5000/api\",\r\n  timeout: 10000,\r\n});\r\n\r\napi.interceptors.request.use((config) => {\r\n  if (typeof window !== \"undefined\") {\r\n    const token = localStorage.getItem(\"token\");\r\n    if (token) config.headers.Authorization = `Bearer ${token}`;\r\n  }\r\n  return config;\r\n});\r\n\r\nexport default api;\r\n"],"names":[],"mappings":";;;;AAAA;;;;;;AAEA,MAAM,MAAM,qHAAK,CAAC,MAAM,CAAC;IACvB,SAAS;IACT,SAAS;AACX;AAEA,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;IAC5B;;IAIA,OAAO;AACT;uCAEe","debugId":null}},
    {"offset": {"line": 163, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/frontend/components/PaymentModal.js"],"sourcesContent":["// frontend/components/PaymentModal.js\r\nimport { useState } from 'react';\r\n\r\nexport default function PaymentModal({open, onClose, onPay, price}){\r\n  const [method, setMethod] = useState('bkash');\r\n  const [tx, setTx] = useState('');\r\n  if(!open) return null;\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black/40 flex items-center justify-center z-50\">\r\n      <div className=\"bg-white rounded-xl p-6 w-full max-w-md\">\r\n        <h3 className=\"text-xl font-semibold mb-3\">Pay {price} BDT</h3>\r\n        <div className=\"space-y-3\">\r\n          <label className=\"block text-sm\">Payment Method</label>\r\n          <select value={method} onChange={e=>setMethod(e.target.value)} className=\"w-full border p-2 rounded\">\r\n            <option value=\"bkash\">bKash</option>\r\n            <option value=\"rocket\">Rocket</option>\r\n            <option value=\"nagad\">Nagad</option>\r\n            <option value=\"manual\">Manual (Offline)</option>\r\n          </select>\r\n          <label className=\"block text-sm\">Transaction ID (or note)</label>\r\n          <input value={tx} onChange={e=>setTx(e.target.value)} className=\"w-full border p-2 rounded\" placeholder=\"TXID or note\"/>\r\n        </div>\r\n        <div className=\"mt-4 flex items-center justify-end space-x-3\">\r\n          <button onClick={onClose} className=\"btn btn-ghost\">Cancel</button>\r\n          <button onClick={()=>onPay({method,tx})} className=\"btn btn-primary\">Pay Now</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"AAAA,sCAAsC;;;;;;AACtC;;;AAEe,SAAS,aAAa,EAAC,IAAI,EAAE,OAAO,EAAE,KAAK,EAAE,KAAK,EAAC;IAChE,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,+GAAQ,EAAC;IACrC,MAAM,CAAC,IAAI,MAAM,GAAG,IAAA,+GAAQ,EAAC;IAC7B,IAAG,CAAC,MAAM,OAAO;IACjB,qBACE,qKAAC;QAAI,WAAU;kBACb,cAAA,qKAAC;YAAI,WAAU;;8BACb,qKAAC;oBAAG,WAAU;;wBAA6B;wBAAK;wBAAM;;;;;;;8BACtD,qKAAC;oBAAI,WAAU;;sCACb,qKAAC;4BAAM,WAAU;sCAAgB;;;;;;sCACjC,qKAAC;4BAAO,OAAO;4BAAQ,UAAU,CAAA,IAAG,UAAU,EAAE,MAAM,CAAC,KAAK;4BAAG,WAAU;;8CACvE,qKAAC;oCAAO,OAAM;8CAAQ;;;;;;8CACtB,qKAAC;oCAAO,OAAM;8CAAS;;;;;;8CACvB,qKAAC;oCAAO,OAAM;8CAAQ;;;;;;8CACtB,qKAAC;oCAAO,OAAM;8CAAS;;;;;;;;;;;;sCAEzB,qKAAC;4BAAM,WAAU;sCAAgB;;;;;;sCACjC,qKAAC;4BAAM,OAAO;4BAAI,UAAU,CAAA,IAAG,MAAM,EAAE,MAAM,CAAC,KAAK;4BAAG,WAAU;4BAA4B,aAAY;;;;;;;;;;;;8BAE1G,qKAAC;oBAAI,WAAU;;sCACb,qKAAC;4BAAO,SAAS;4BAAS,WAAU;sCAAgB;;;;;;sCACpD,qKAAC;4BAAO,SAAS,IAAI,MAAM;oCAAC;oCAAO;gCAAE;4BAAI,WAAU;sCAAkB;;;;;;;;;;;;;;;;;;;;;;;AAK/E","debugId":null}},
    {"offset": {"line": 319, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/frontend/pages/listing/%5Bid%5D.js"],"sourcesContent":["// frontend/pages/listing/[id].js\r\nimport { useRouter } from 'next/router';\r\nimport { useEffect, useState } from 'react';\r\nimport Navbar from '../../components/Navbar';\r\nimport api from '../../utils/api';\r\nimport PaymentModal from '../../components/PaymentModal';\r\n\r\nexport default function ListingPage(){\r\n  const r = useRouter();\r\n  const { id } = r.query;\r\n  const [post,setPost] = useState(null);\r\n  const [openPay,setOpenPay] = useState(false);\r\n\r\n  useEffect(()=>{ if(!id) return; api.get(`/posts/${id}`).then(r=>setPost(r.data)).catch(e=>console.error(e)); },[id]);\r\n\r\n  const handlePay = async ({method,tx}) => {\r\n    try {\r\n      // create order then call payment endpoint (mock)\r\n      const orderRes = await api.post('/orders', { postId: id, paymentMethod: method });\r\n      const orderId = orderRes.data.order.id || orderRes.data.orderId || orderRes.data.orderId;\r\n      await api.post(`/payment/pay`, { postId: id, paymentMethod: method, transactionId: tx });\r\n      alert('Payment sent (mock). Wait for admin verification.');\r\n      setOpenPay(false);\r\n    } catch(err) {\r\n      alert(err.response?.data?.message || 'Payment failed');\r\n    }\r\n  }\r\n\r\n  if(!post) return (<><Navbar /><div className=\"container mt-6\">Loading...</div></>);\r\n\r\n  return (\r\n    <>\r\n      <Navbar />\r\n      <div className=\"container mt-6\">\r\n        <div className=\"card\">\r\n          <div className=\"flex items-start gap-6\">\r\n            <div className=\"flex-1\">\r\n              <h2 className=\"text-2xl font-bold\">{post.title}</h2>\r\n              <p className=\"text-gray-600 mt-2\">{post.description}</p>\r\n              <div className=\"mt-4\">\r\n                <div className=\"text-2xl font-bold text-green-600\">{post.price} BDT</div>\r\n                <div className=\"mt-3\">\r\n                  <button onClick={()=>setOpenPay(true)} className=\"btn btn-primary\">Buy Now</button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"w-48 text-right\">\r\n              <div className=\"text-sm text-gray-500\">Seller</div>\r\n              <div className=\"font-semibold\">{post.sellerId?.email || 'Seller'}</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <PaymentModal open={openPay} onClose={()=>setOpenPay(false)} onPay={handlePay} price={post.price} />\r\n    </>\r\n  )\r\n}\r\n"],"names":[],"mappings":"AAAA,iCAAiC;;;;;;AACjC;AACA;AACA;AACA;AACA;;;;;;;;;;;AAEe,SAAS;IACtB,MAAM,IAAI,IAAA,gJAAS;IACnB,MAAM,EAAE,EAAE,EAAE,GAAG,EAAE,KAAK;IACtB,MAAM,CAAC,MAAK,QAAQ,GAAG,IAAA,+GAAQ,EAAC;IAChC,MAAM,CAAC,SAAQ,WAAW,GAAG,IAAA,+GAAQ,EAAC;IAEtC,IAAA,gHAAS,EAAC;QAAM,IAAG,CAAC,IAAI;QAAQ,4HAAG,CAAC,GAAG,CAAC,CAAC,OAAO,EAAE,IAAI,EAAE,IAAI,CAAC,CAAA,IAAG,QAAQ,EAAE,IAAI,GAAG,KAAK,CAAC,CAAA,IAAG,QAAQ,KAAK,CAAC;IAAK,GAAE;QAAC;KAAG;IAEnH,MAAM,YAAY,OAAO,EAAC,MAAM,EAAC,EAAE,EAAC;QAClC,IAAI;YACF,iDAAiD;YACjD,MAAM,WAAW,MAAM,4HAAG,CAAC,IAAI,CAAC,WAAW;gBAAE,QAAQ;gBAAI,eAAe;YAAO;YAC/E,MAAM,UAAU,SAAS,IAAI,CAAC,KAAK,CAAC,EAAE,IAAI,SAAS,IAAI,CAAC,OAAO,IAAI,SAAS,IAAI,CAAC,OAAO;YACxF,MAAM,4HAAG,CAAC,IAAI,CAAC,CAAC,YAAY,CAAC,EAAE;gBAAE,QAAQ;gBAAI,eAAe;gBAAQ,eAAe;YAAG;YACtF,MAAM;YACN,WAAW;QACb,EAAE,OAAM,KAAK;YACX,MAAM,IAAI,QAAQ,EAAE,MAAM,WAAW;QACvC;IACF;IAEA,IAAG,CAAC,MAAM,qBAAQ;;0BAAE,qKAAC,oIAAM;;;;;0BAAG,qKAAC;gBAAI,WAAU;0BAAiB;;;;;;;;IAE9D,qBACE;;0BACE,qKAAC,oIAAM;;;;;0BACP,qKAAC;gBAAI,WAAU;0BACb,cAAA,qKAAC;oBAAI,WAAU;8BACb,cAAA,qKAAC;wBAAI,WAAU;;0CACb,qKAAC;gCAAI,WAAU;;kDACb,qKAAC;wCAAG,WAAU;kDAAsB,KAAK,KAAK;;;;;;kDAC9C,qKAAC;wCAAE,WAAU;kDAAsB,KAAK,WAAW;;;;;;kDACnD,qKAAC;wCAAI,WAAU;;0DACb,qKAAC;gDAAI,WAAU;;oDAAqC,KAAK,KAAK;oDAAC;;;;;;;0DAC/D,qKAAC;gDAAI,WAAU;0DACb,cAAA,qKAAC;oDAAO,SAAS,IAAI,WAAW;oDAAO,WAAU;8DAAkB;;;;;;;;;;;;;;;;;;;;;;;0CAIzE,qKAAC;gCAAI,WAAU;;kDACb,qKAAC;wCAAI,WAAU;kDAAwB;;;;;;kDACvC,qKAAC;wCAAI,WAAU;kDAAiB,KAAK,QAAQ,EAAE,SAAS;;;;;;;;;;;;;;;;;;;;;;;;;;;;0BAMhE,qKAAC,0IAAY;gBAAC,MAAM;gBAAS,SAAS,IAAI,WAAW;gBAAQ,OAAO;gBAAW,OAAO,KAAK,KAAK;;;;;;;;AAGtG","debugId":null}}]
}