{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/backend/node_modules/mongoose/lib/drivers/node-mongodb-native/bulkWriteResult.js"],"sourcesContent":["'use strict';\n\nconst BulkWriteResult = require('mongodb/lib/bulk/common').BulkWriteResult;\n\nmodule.exports = BulkWriteResult;\n"],"names":[],"mappings":"AAEA,MAAM,kBAAkB,wGAAmC,eAAe;AAE1E,OAAO,OAAO,GAAG","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/backend/node_modules/mongoose/lib/drivers/node-mongodb-native/collection.js"],"sourcesContent":["'use strict';\n\n/*!\n * Module dependencies.\n */\n\nconst MongooseCollection = require('../../collection');\nconst MongooseError = require('../../error/mongooseError');\nconst Collection = require('mongodb').Collection;\nconst ObjectId = require('../../types/objectid');\nconst getConstructorName = require('../../helpers/getConstructorName');\nconst internalToObjectOptions = require('../../options').internalToObjectOptions;\nconst stream = require('stream');\nconst util = require('util');\n\nconst formatToObjectOptions = Object.freeze({ ...internalToObjectOptions, copyTrustedSymbol: false });\n\n/**\n * A [node-mongodb-native](https://github.com/mongodb/node-mongodb-native) collection implementation.\n *\n * All methods methods from the [node-mongodb-native](https://github.com/mongodb/node-mongodb-native) driver are copied and wrapped in queue management.\n *\n * @inherits Collection https://mongodb.github.io/node-mongodb-native/4.9/classes/Collection.html\n * @api private\n */\n\nfunction NativeCollection(name, conn, options) {\n  this.collection = null;\n  this.Promise = options.Promise || Promise;\n  this.modelName = options.modelName;\n  delete options.modelName;\n  this._closed = false;\n  MongooseCollection.apply(this, arguments);\n}\n\n/*!\n * Inherit from abstract Collection.\n */\n\nObject.setPrototypeOf(NativeCollection.prototype, MongooseCollection.prototype);\n\n/**\n * Called when the connection opens.\n *\n * @api private\n */\n\nNativeCollection.prototype.onOpen = function() {\n  this.collection = this.conn.db.collection(this.name);\n  MongooseCollection.prototype.onOpen.call(this);\n  return this.collection;\n};\n\n/**\n * Called when the connection closes\n *\n * @api private\n */\n\nNativeCollection.prototype.onClose = function(force) {\n  MongooseCollection.prototype.onClose.call(this, force);\n};\n\n/**\n * Helper to get the collection, in case `this.collection` isn't set yet.\n * May happen if `bufferCommands` is false and created the model when\n * Mongoose was disconnected.\n *\n * @api private\n */\n\nNativeCollection.prototype._getCollection = function _getCollection() {\n  if (this.collection) {\n    return this.collection;\n  }\n  if (this.conn.db != null) {\n    this.collection = this.conn.db.collection(this.name);\n    return this.collection;\n  }\n  return null;\n};\n\n/*!\n * ignore\n */\n\nconst syncCollectionMethods = { watch: true, find: true, aggregate: true };\n\n/**\n * Copy the collection methods and make them subject to queues\n * @param {Number|String} I\n * @api private\n */\n\nfunction iter(i) {\n  NativeCollection.prototype[i] = function() {\n    const collection = this._getCollection();\n    const args = Array.from(arguments);\n    const _this = this;\n    const globalDebug = _this &&\n      _this.conn &&\n      _this.conn.base &&\n      _this.conn.base.options &&\n      _this.conn.base.options.debug;\n    const connectionDebug = _this &&\n      _this.conn &&\n      _this.conn.options &&\n      _this.conn.options.debug;\n    const debug = connectionDebug == null ? globalDebug : connectionDebug;\n    const lastArg = arguments[arguments.length - 1];\n    const opId = new ObjectId();\n\n    // If user force closed, queueing will hang forever. See #5664\n    if (this.conn.$wasForceClosed) {\n      const error = new MongooseError('Connection was force closed');\n      if (args.length > 0 &&\n        typeof args[args.length - 1] === 'function') {\n        args[args.length - 1](error);\n        return;\n      } else {\n        throw error;\n      }\n    }\n\n    let _args = args;\n    let callback = null;\n    if (this._shouldBufferCommands() && this.buffer) {\n      this.conn.emit('buffer', {\n        _id: opId,\n        modelName: _this.modelName,\n        collectionName: _this.name,\n        method: i,\n        args: args\n      });\n\n      let callback;\n      let _args = args;\n      let promise = null;\n      let timeout = null;\n      if (syncCollectionMethods[i] && typeof lastArg === 'function') {\n        this.addQueue(i, _args);\n        callback = lastArg;\n      } else if (syncCollectionMethods[i]) {\n        promise = new this.Promise((resolve, reject) => {\n          callback = function collectionOperationCallback(err, res) {\n            if (timeout != null) {\n              clearTimeout(timeout);\n            }\n            if (err != null) {\n              return reject(err);\n            }\n            resolve(res);\n          };\n          _args = args.concat([callback]);\n          this.addQueue(i, _args);\n        });\n      } else if (typeof lastArg === 'function') {\n        callback = function collectionOperationCallback() {\n          if (timeout != null) {\n            clearTimeout(timeout);\n          }\n          return lastArg.apply(this, arguments);\n        };\n        _args = args.slice(0, args.length - 1).concat([callback]);\n      } else {\n        promise = new Promise((resolve, reject) => {\n          callback = function collectionOperationCallback(err, res) {\n            if (timeout != null) {\n              clearTimeout(timeout);\n            }\n            if (err != null) {\n              return reject(err);\n            }\n            resolve(res);\n          };\n          _args = args.concat([callback]);\n          this.addQueue(i, _args);\n        });\n      }\n\n      const bufferTimeoutMS = this._getBufferTimeoutMS();\n      timeout = setTimeout(() => {\n        const removed = this.removeQueue(i, _args);\n        if (removed) {\n          const message = 'Operation `' + this.name + '.' + i + '()` buffering timed out after ' +\n            bufferTimeoutMS + 'ms';\n          const err = new MongooseError(message);\n          this.conn.emit('buffer-end', { _id: opId, modelName: _this.modelName, collectionName: _this.name, method: i, error: err });\n          callback(err);\n        }\n      }, bufferTimeoutMS);\n\n      if (!syncCollectionMethods[i] && typeof lastArg === 'function') {\n        this.addQueue(i, _args);\n        return;\n      }\n\n      return promise;\n    } else if (!syncCollectionMethods[i] && typeof lastArg === 'function') {\n      callback = function collectionOperationCallback(err, res) {\n        if (err != null) {\n          _this.conn.emit('operation-end', { _id: opId, modelName: _this.modelName, collectionName: _this.name, method: i, error: err });\n        } else {\n          _this.conn.emit('operation-end', { _id: opId, modelName: _this.modelName, collectionName: _this.name, method: i, result: res });\n        }\n        return lastArg.apply(this, arguments);\n      };\n      _args = args.slice(0, args.length - 1).concat([callback]);\n    }\n\n    if (debug) {\n      if (typeof debug === 'function') {\n        let argsToAdd = null;\n        if (typeof args[args.length - 1] == 'function') {\n          argsToAdd = args.slice(0, args.length - 1);\n        } else {\n          argsToAdd = args;\n        }\n        debug.apply(_this,\n          [_this.name, i].concat(argsToAdd));\n      } else if (debug instanceof stream.Writable) {\n        this.$printToStream(_this.name, i, args, debug);\n      } else {\n        const color = debug.color == null ? true : debug.color;\n        const shell = debug.shell == null ? false : debug.shell;\n        this.$print(_this.name, i, args, color, shell);\n      }\n    }\n\n    this.conn.emit('operation-start', { _id: opId, modelName: _this.modelName, collectionName: this.name, method: i, params: _args });\n\n    try {\n      if (collection == null) {\n        const message = 'Cannot call `' + this.name + '.' + i + '()` before initial connection ' +\n          'is complete if `bufferCommands = false`. Make sure you `await mongoose.connect()` if ' +\n          'you have `bufferCommands = false`.';\n        throw new MongooseError(message);\n      }\n\n      if (syncCollectionMethods[i] && typeof lastArg === 'function') {\n        const result = collection[i].apply(collection, _args.slice(0, _args.length - 1));\n        this.conn.emit('operation-end', { _id: opId, modelName: _this.modelName, collectionName: this.name, method: i, result });\n        return lastArg.call(this, null, result);\n      }\n\n      const ret = collection[i].apply(collection, _args);\n      if (ret != null && typeof ret.then === 'function') {\n        return ret.then(\n          result => {\n            if (typeof lastArg === 'function') {\n              lastArg(null, result);\n            } else {\n              this.conn.emit('operation-end', { _id: opId, modelName: _this.modelName, collectionName: this.name, method: i, result });\n            }\n            return result;\n          },\n          error => {\n            if (typeof lastArg === 'function') {\n              lastArg(error);\n              return;\n            } else {\n              this.conn.emit('operation-end', { _id: opId, modelName: _this.modelName, collectionName: this.name, method: i, error });\n            }\n            throw error;\n          }\n        );\n      }\n      return ret;\n    } catch (error) {\n      // Collection operation may throw because of max bson size, catch it here\n      // See gh-3906\n      if (typeof lastArg === 'function') {\n        return lastArg(error);\n      } else {\n        this.conn.emit('operation-end', { _id: opId, modelName: _this.modelName, collectionName: this.name, method: i, error: error });\n\n        throw error;\n      }\n    }\n  };\n}\n\nfor (const key of Object.getOwnPropertyNames(Collection.prototype)) {\n  // Janky hack to work around gh-3005 until we can get rid of the mongoose\n  // collection abstraction\n  const descriptor = Object.getOwnPropertyDescriptor(Collection.prototype, key);\n  // Skip properties with getters because they may throw errors (gh-8528)\n  if (descriptor.get !== undefined) {\n    continue;\n  }\n  if (typeof Collection.prototype[key] !== 'function') {\n    continue;\n  }\n\n  iter(key);\n}\n\n/**\n * Debug print helper\n *\n * @api public\n * @method $print\n */\n\nNativeCollection.prototype.$print = function(name, i, args, color, shell) {\n  const moduleName = color ? '\\x1B[0;36mMongoose:\\x1B[0m ' : 'Mongoose: ';\n  const functionCall = [name, i].join('.');\n  const _args = [];\n  for (let j = args.length - 1; j >= 0; --j) {\n    if (this.$format(args[j]) || _args.length) {\n      _args.unshift(this.$format(args[j], color, shell));\n    }\n  }\n  const params = '(' + _args.join(', ') + ')';\n\n  console.info(moduleName + functionCall + params);\n};\n\n/**\n * Debug print helper\n *\n * @api public\n * @method $print\n */\n\nNativeCollection.prototype.$printToStream = function(name, i, args, stream) {\n  const functionCall = [name, i].join('.');\n  const _args = [];\n  for (let j = args.length - 1; j >= 0; --j) {\n    if (this.$format(args[j]) || _args.length) {\n      _args.unshift(this.$format(args[j]));\n    }\n  }\n  const params = '(' + _args.join(', ') + ')';\n\n  stream.write(functionCall + params, 'utf8');\n};\n\n/**\n * Formatter for debug print args\n *\n * @api public\n * @method $format\n */\n\nNativeCollection.prototype.$format = function(arg, color, shell) {\n  const type = typeof arg;\n  if (type === 'function' || type === 'undefined') return '';\n  return format(arg, false, color, shell);\n};\n\n/**\n * Debug print helper\n * @param {Any} representation\n * @api private\n */\n\nfunction inspectable(representation) {\n  const ret = {\n    inspect: function() { return representation; }\n  };\n  if (util.inspect.custom) {\n    ret[util.inspect.custom] = ret.inspect;\n  }\n  return ret;\n}\nfunction map(o) {\n  return format(o, true);\n}\nfunction formatObjectId(x, key) {\n  x[key] = inspectable('ObjectId(\"' + x[key].toHexString() + '\")');\n}\nfunction formatDate(x, key, shell) {\n  if (shell) {\n    x[key] = inspectable('ISODate(\"' + x[key].toUTCString() + '\")');\n  } else {\n    x[key] = inspectable('new Date(\"' + x[key].toUTCString() + '\")');\n  }\n}\nfunction format(obj, sub, color, shell) {\n  if (obj && typeof obj.toBSON === 'function') {\n    obj = obj.toBSON();\n  }\n  if (obj == null) {\n    return obj;\n  }\n\n  const clone = require('../../helpers/clone');\n  // `sub` indicates `format()` was called recursively, so skip cloning because we already\n  // did a deep clone on the top-level object.\n  let x = sub ? obj : clone(obj, formatToObjectOptions);\n  const constructorName = getConstructorName(x);\n\n  if (constructorName === 'Binary') {\n    x = 'BinData(' + x.sub_type + ', \"' + x.toString('base64') + '\")';\n  } else if (constructorName === 'ObjectId') {\n    x = inspectable('ObjectId(\"' + x.toHexString() + '\")');\n  } else if (constructorName === 'Date') {\n    x = inspectable('new Date(\"' + x.toUTCString() + '\")');\n  } else if (constructorName === 'Object') {\n    const keys = Object.keys(x);\n    const numKeys = keys.length;\n    let key;\n    for (let i = 0; i < numKeys; ++i) {\n      key = keys[i];\n      if (x[key]) {\n        let error;\n        if (typeof x[key].toBSON === 'function') {\n          try {\n            // `session.toBSON()` throws an error. This means we throw errors\n            // in debug mode when using transactions, see gh-6712. As a\n            // workaround, catch `toBSON()` errors, try to serialize without\n            // `toBSON()`, and rethrow if serialization still fails.\n            x[key] = x[key].toBSON();\n          } catch (_error) {\n            error = _error;\n          }\n        }\n        const _constructorName = getConstructorName(x[key]);\n        if (_constructorName === 'Binary') {\n          x[key] = 'BinData(' + x[key].sub_type + ', \"' +\n            x[key].buffer.toString('base64') + '\")';\n        } else if (_constructorName === 'Object') {\n          x[key] = format(x[key], true);\n        } else if (_constructorName === 'ObjectId') {\n          formatObjectId(x, key);\n        } else if (_constructorName === 'Date') {\n          formatDate(x, key, shell);\n        } else if (_constructorName === 'ClientSession') {\n          x[key] = inspectable('ClientSession(\"' +\n            (\n              x[key] &&\n              x[key].id &&\n              x[key].id.id &&\n              x[key].id.id.buffer || ''\n            ).toString('hex') + '\")');\n        } else if (Array.isArray(x[key])) {\n          x[key] = x[key].map(map);\n        } else if (error != null) {\n          // If there was an error with `toBSON()` and the object wasn't\n          // already converted to a string representation, rethrow it.\n          // Open to better ideas on how to handle this.\n          throw error;\n        }\n      }\n    }\n  }\n  if (sub) {\n    return x;\n  }\n\n  return util.\n    inspect(x, false, 10, color).\n    replace(/\\n/g, '').\n    replace(/\\s{2,}/g, ' ');\n}\n\n/**\n * Retrieves information about this collections indexes.\n *\n * @method getIndexes\n * @api public\n */\n\nNativeCollection.prototype.getIndexes = NativeCollection.prototype.indexInformation;\n\n/*!\n * Module exports.\n */\n\nmodule.exports = NativeCollection;\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 471, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/backend/node_modules/mongoose/lib/drivers/node-mongodb-native/connection.js"],"sourcesContent":["/*!\n * Module dependencies.\n */\n\n'use strict';\n\nconst MongooseConnection = require('../../connection');\nconst MongooseError = require('../../error/index');\nconst STATES = require('../../connectionState');\nconst mongodb = require('mongodb');\nconst pkg = require('../../../package.json');\nconst processConnectionOptions = require('../../helpers/processConnectionOptions');\nconst setTimeout = require('../../helpers/timers').setTimeout;\nconst utils = require('../../utils');\nconst Schema = require('../../schema');\n\n/**\n * A [node-mongodb-native](https://github.com/mongodb/node-mongodb-native) connection implementation.\n *\n * @inherits Connection\n * @api private\n */\n\nfunction NativeConnection() {\n  MongooseConnection.apply(this, arguments);\n  this._listening = false;\n  // Tracks the last time (as unix timestamp) the connection received a\n  // serverHeartbeatSucceeded or serverHeartbeatFailed event from the underlying MongoClient.\n  // If we haven't received one in a while (like due to a frozen AWS Lambda container) then\n  // `readyState` is likely stale.\n  this._lastHeartbeatAt = null;\n}\n\n/**\n * Expose the possible connection states.\n * @api public\n */\n\nNativeConnection.STATES = STATES;\n\n/*!\n * Inherits from Connection.\n */\n\nObject.setPrototypeOf(NativeConnection.prototype, MongooseConnection.prototype);\n\n/**\n * Switches to a different database using the same connection pool.\n *\n * Returns a new connection object, with the new db. If you set the `useCache`\n * option, `useDb()` will cache connections by `name`.\n *\n * **Note:** Calling `close()` on a `useDb()` connection will close the base connection as well.\n *\n * @param {String} name The database name\n * @param {Object} [options]\n * @param {Boolean} [options.useCache=false] If true, cache results so calling `useDb()` multiple times with the same name only creates 1 connection object.\n * @param {Boolean} [options.noListener=false] If true, the new connection object won't listen to any events on the base connection. This is better for memory usage in cases where you're calling `useDb()` for every request.\n * @return {Connection} New Connection Object\n * @api public\n */\n\nNativeConnection.prototype.useDb = function(name, options) {\n  // Return immediately if cached\n  options = options || {};\n  if (options.useCache && this.relatedDbs[name]) {\n    return this.relatedDbs[name];\n  }\n\n  // we have to manually copy all of the attributes...\n  const newConn = new this.constructor();\n  newConn.name = name;\n  newConn.base = this.base;\n  newConn.collections = {};\n  newConn.models = {};\n  newConn.replica = this.replica;\n  newConn.config = Object.assign({}, this.config, newConn.config);\n  newConn.name = this.name;\n  newConn.options = this.options;\n  newConn._readyState = this._readyState;\n  newConn._closeCalled = this._closeCalled;\n  newConn._hasOpened = this._hasOpened;\n  newConn._listening = false;\n  newConn._parent = this;\n\n  newConn.host = this.host;\n  newConn.port = this.port;\n  newConn.user = this.user;\n  newConn.pass = this.pass;\n\n  // First, when we create another db object, we are not guaranteed to have a\n  // db object to work with. So, in the case where we have a db object and it\n  // is connected, we can just proceed with setting everything up. However, if\n  // we do not have a db or the state is not connected, then we need to wait on\n  // the 'open' event of the connection before doing the rest of the setup\n  // the 'connected' event is the first time we'll have access to the db object\n\n  const _this = this;\n\n  newConn.client = _this.client;\n\n  if (this.db && this._readyState === STATES.connected) {\n    wireup();\n  } else {\n    this._queue.push({ fn: wireup });\n  }\n\n  function wireup() {\n    newConn.client = _this.client;\n    const _opts = {};\n    if (options.hasOwnProperty('noListener')) {\n      _opts.noListener = options.noListener;\n    }\n    newConn.db = _this.client.db(name, _opts);\n    newConn._lastHeartbeatAt = _this._lastHeartbeatAt;\n    newConn.onOpen();\n  }\n\n  newConn.name = name;\n\n  // push onto the otherDbs stack, this is used when state changes and when heartbeat is received\n  if (options.noListener !== true) {\n    this.otherDbs.push(newConn);\n  }\n  newConn.otherDbs.push(this);\n\n  // push onto the relatedDbs cache, this is used when state changes\n  if (options && options.useCache) {\n    this.relatedDbs[newConn.name] = newConn;\n    newConn.relatedDbs = this.relatedDbs;\n  }\n\n  return newConn;\n};\n\n/**\n * Runs a [db-level aggregate()](https://www.mongodb.com/docs/manual/reference/method/db.aggregate/) on this connection's underlying `db`\n *\n * @param {Array} pipeline\n * @param {Object} [options]\n */\n\nNativeConnection.prototype.aggregate = function aggregate(pipeline, options) {\n  return new this.base.Aggregate(null, this).append(pipeline).option(options ?? {});\n};\n\n/**\n * Removes the database connection with the given name created with `useDb()`.\n *\n * Throws an error if the database connection was not found.\n *\n * #### Example:\n *\n *     // Connect to `initialdb` first\n *     const conn = await mongoose.createConnection('mongodb://127.0.0.1:27017/initialdb').asPromise();\n *\n *     // Creates an un-cached connection to `mydb`\n *     const db = conn.useDb('mydb');\n *\n *     // Closes `db`, and removes `db` from `conn.relatedDbs` and `conn.otherDbs`\n *     await conn.removeDb('mydb');\n *\n * @method removeDb\n * @memberOf Connection\n * @param {String} name The database name\n * @return {Connection} this\n */\n\nNativeConnection.prototype.removeDb = function removeDb(name) {\n  const dbs = this.otherDbs.filter(db => db.name === name);\n  if (!dbs.length) {\n    throw new MongooseError(`No connections to database \"${name}\" found`);\n  }\n\n  for (const db of dbs) {\n    db._closeCalled = true;\n    db._destroyCalled = true;\n    db._readyState = STATES.disconnected;\n    db.$wasForceClosed = true;\n  }\n  delete this.relatedDbs[name];\n  this.otherDbs = this.otherDbs.filter(db => db.name !== name);\n};\n\n/**\n * Closes the connection\n *\n * @param {Boolean} [force]\n * @return {Connection} this\n * @api private\n */\n\nNativeConnection.prototype.doClose = async function doClose(force) {\n  if (this.client == null) {\n    return this;\n  }\n\n  let skipCloseClient = false;\n  if (force != null && typeof force === 'object') {\n    skipCloseClient = force.skipCloseClient;\n    force = force.force;\n  }\n\n  if (skipCloseClient) {\n    return this;\n  }\n\n  await this.client.close(force);\n  // Defer because the driver will wait at least 1ms before finishing closing\n  // the pool, see https://github.com/mongodb-js/mongodb-core/blob/a8f8e4ce41936babc3b9112bf42d609779f03b39/lib/connection/pool.js#L1026-L1030.\n  // If there's queued operations, you may still get some background work\n  // after the callback is called.\n  await new Promise(resolve => setTimeout(resolve, 1));\n\n  return this;\n};\n\n/**\n * Implementation of `listDatabases()` for MongoDB driver\n *\n * @return Promise\n * @api public\n */\n\nNativeConnection.prototype.listDatabases = async function listDatabases() {\n  await this._waitForConnect();\n\n  return await this.db.admin().listDatabases();\n};\n\n/*!\n * ignore\n */\n\nNativeConnection.prototype.createClient = async function createClient(uri, options) {\n  if (typeof uri !== 'string') {\n    throw new MongooseError('The `uri` parameter to `openUri()` must be a ' +\n      `string, got \"${typeof uri}\". Make sure the first parameter to ` +\n      '`mongoose.connect()` or `mongoose.createConnection()` is a string.');\n  }\n\n  if (this._destroyCalled) {\n    throw new MongooseError(\n      'Connection has been closed and destroyed, and cannot be used for re-opening the connection. ' +\n      'Please create a new connection with `mongoose.createConnection()` or `mongoose.connect()`.'\n    );\n  }\n\n  if (this.readyState === STATES.connecting || this.readyState === STATES.connected) {\n    if (this._connectionString !== uri) {\n      throw new MongooseError('Can\\'t call `openUri()` on an active connection with ' +\n        'different connection strings. Make sure you aren\\'t calling `mongoose.connect()` ' +\n        'multiple times. See: https://mongoosejs.com/docs/connections.html#multiple_connections');\n    }\n  }\n\n  options = processConnectionOptions(uri, options);\n\n  if (options) {\n\n    const autoIndex = options.config && options.config.autoIndex != null ?\n      options.config.autoIndex :\n      options.autoIndex;\n    if (autoIndex != null) {\n      this.config.autoIndex = autoIndex !== false;\n      delete options.config;\n      delete options.autoIndex;\n    }\n\n    if ('autoCreate' in options) {\n      this.config.autoCreate = !!options.autoCreate;\n      delete options.autoCreate;\n    }\n\n    if ('sanitizeFilter' in options) {\n      this.config.sanitizeFilter = options.sanitizeFilter;\n      delete options.sanitizeFilter;\n    }\n\n    if ('autoSearchIndex' in options) {\n      this.config.autoSearchIndex = options.autoSearchIndex;\n      delete options.autoSearchIndex;\n    }\n\n    if ('bufferTimeoutMS' in options) {\n      this.config.bufferTimeoutMS = options.bufferTimeoutMS;\n      delete options.bufferTimeoutMS;\n    }\n\n    // Backwards compat\n    if (options.user || options.pass) {\n      options.auth = options.auth || {};\n      options.auth.username = options.user;\n      options.auth.password = options.pass;\n\n      this.user = options.user;\n      this.pass = options.pass;\n    }\n    delete options.user;\n    delete options.pass;\n\n    if (options.bufferCommands != null) {\n      this.config.bufferCommands = options.bufferCommands;\n      delete options.bufferCommands;\n    }\n  } else {\n    options = {};\n  }\n\n  this._connectionOptions = options;\n  const dbName = options.dbName;\n  if (dbName != null) {\n    this.$dbName = dbName;\n  }\n  delete options.dbName;\n\n  if (!utils.hasUserDefinedProperty(options, 'driverInfo')) {\n    options.driverInfo = {\n      name: 'Mongoose',\n      version: pkg.version\n    };\n  }\n\n  const { schemaMap, encryptedFieldsMap } = this._buildEncryptionSchemas();\n\n  if ((Object.keys(schemaMap).length > 0 || Object.keys(encryptedFieldsMap).length) && !options.autoEncryption) {\n    throw new Error('Must provide `autoEncryption` when connecting with encrypted schemas.');\n  }\n\n  if (Object.keys(schemaMap).length > 0) {\n    options.autoEncryption.schemaMap = schemaMap;\n  }\n\n  if (Object.keys(encryptedFieldsMap).length > 0) {\n    options.autoEncryption.encryptedFieldsMap = encryptedFieldsMap;\n  }\n\n  this.readyState = STATES.connecting;\n  this._connectionString = uri;\n\n  let client;\n  try {\n    client = new mongodb.MongoClient(uri, options);\n  } catch (error) {\n    this.readyState = STATES.disconnected;\n    throw error;\n  }\n  this.client = client;\n\n  client.setMaxListeners(0);\n  await client.connect();\n\n  _setClient(this, client, options, dbName);\n\n  for (const db of this.otherDbs) {\n    _setClient(db, client, {}, db.name);\n  }\n  return this;\n};\n\n/**\n * Given a connection, which may or may not have encrypted models, build\n * a schemaMap and/or an encryptedFieldsMap for the connection, combining all models\n * into a single schemaMap and encryptedFields map.\n *\n * @returns the generated schemaMap and encryptedFieldsMap\n  */\nNativeConnection.prototype._buildEncryptionSchemas = function() {\n  const qeMappings = {};\n  const csfleMappings = {};\n\n  const encryptedModels = Object.values(this.models).filter(model => model.schema._hasEncryptedFields());\n\n  // If discriminators are configured for the collection, there might be multiple models\n  // pointing to the same namespace.  For this scenario, we merge all the schemas for each namespace\n  // into a single schema and then generate a schemaMap/encryptedFieldsMap for the combined schema.\n  for (const model of encryptedModels) {\n    const { schema, collection: { collectionName } } = model;\n    const namespace = `${this.$dbName}.${collectionName}`;\n    const mappings = schema.encryptionType() === 'csfle' ? csfleMappings : qeMappings;\n\n    mappings[namespace] ??= new Schema({}, { encryptionType: schema.encryptionType() });\n\n    const isNonRootDiscriminator = schema.discriminatorMapping && !schema.discriminatorMapping.isRoot;\n    if (isNonRootDiscriminator) {\n      const rootSchema = schema._baseSchema;\n      schema.eachPath((pathname) => {\n        if (rootSchema.path(pathname)) return;\n        if (!mappings[namespace]._hasEncryptedField(pathname)) return;\n\n        throw new Error(`Cannot have duplicate keys in discriminators with encryption. key=${pathname}`);\n      });\n    }\n\n    mappings[namespace].add(schema);\n  }\n\n  const schemaMap = Object.fromEntries(Object.entries(csfleMappings).map(\n    ([namespace, schema]) => ([namespace, schema._buildSchemaMap()])\n  ));\n\n  const encryptedFieldsMap = Object.fromEntries(Object.entries(qeMappings).map(\n    ([namespace, schema]) => ([namespace, schema._buildEncryptedFields()])\n  ));\n\n  return {\n    schemaMap, encryptedFieldsMap\n  };\n};\n\n/*!\n * ignore\n */\n\nNativeConnection.prototype.setClient = function setClient(client) {\n  if (!(client instanceof mongodb.MongoClient)) {\n    throw new MongooseError('Must call `setClient()` with an instance of MongoClient');\n  }\n  if (this.readyState !== STATES.disconnected) {\n    throw new MongooseError('Cannot call `setClient()` on a connection that is already connected.');\n  }\n  if (client.topology == null) {\n    throw new MongooseError('Cannot call `setClient()` with a MongoClient that you have not called `connect()` on yet.');\n  }\n\n  this._connectionString = client.s.url;\n  _setClient(this, client, {}, client.s.options.dbName);\n\n  for (const model of Object.values(this.models)) {\n    // Errors handled internally, so safe to ignore error\n    model.init().catch(function $modelInitNoop() {});\n  }\n\n  return this;\n};\n\n/*!\n * ignore\n */\n\nfunction _setClient(conn, client, options, dbName) {\n  const db = dbName != null ? client.db(dbName) : client.db();\n  conn.db = db;\n  conn.client = client;\n  conn.host = client &&\n    client.s &&\n    client.s.options &&\n    client.s.options.hosts &&\n    client.s.options.hosts[0] &&\n    client.s.options.hosts[0].host || void 0;\n  conn.port = client &&\n    client.s &&\n    client.s.options &&\n    client.s.options.hosts &&\n    client.s.options.hosts[0] &&\n    client.s.options.hosts[0].port || void 0;\n  conn.name = dbName != null ? dbName : db.databaseName;\n  conn._closeCalled = client._closeCalled;\n\n  const _handleReconnect = () => {\n    // If we aren't disconnected, we assume this reconnect is due to a\n    // socket timeout. If there's no activity on a socket for\n    // `socketTimeoutMS`, the driver will attempt to reconnect and emit\n    // this event.\n    if (conn.readyState !== STATES.connected) {\n      conn.readyState = STATES.connected;\n      conn.emit('reconnect');\n      conn.emit('reconnected');\n      conn.onOpen();\n    }\n  };\n\n  const type = client &&\n  client.topology &&\n  client.topology.description &&\n  client.topology.description.type || '';\n\n  if (type === 'Single') {\n    client.on('serverDescriptionChanged', ev => {\n      const newDescription = ev.newDescription;\n      if (newDescription.type === 'Unknown') {\n        conn.readyState = STATES.disconnected;\n      } else {\n        _handleReconnect();\n      }\n    });\n  } else if (type.startsWith('ReplicaSet')) {\n    client.on('topologyDescriptionChanged', ev => {\n      // Emit disconnected if we've lost connectivity to the primary\n      const description = ev.newDescription;\n      if (conn.readyState === STATES.connected && description.type !== 'ReplicaSetWithPrimary') {\n        // Implicitly emits 'disconnected'\n        conn.readyState = STATES.disconnected;\n      } else if (conn.readyState === STATES.disconnected && description.type === 'ReplicaSetWithPrimary') {\n        _handleReconnect();\n      }\n    });\n  }\n\n  conn._lastHeartbeatAt = null;\n\n  client.on('serverHeartbeatSucceeded', () => {\n    conn._lastHeartbeatAt = Date.now();\n    for (const otherDb of conn.otherDbs) {\n      otherDb._lastHeartbeatAt = conn._lastHeartbeatAt;\n    }\n  });\n\n  if (options.monitorCommands) {\n    client.on('commandStarted', (data) => conn.emit('commandStarted', data));\n    client.on('commandFailed', (data) => conn.emit('commandFailed', data));\n    client.on('commandSucceeded', (data) => conn.emit('commandSucceeded', data));\n  }\n\n  conn.onOpen();\n\n  for (const i in conn.collections) {\n    if (utils.object.hasOwnProperty(conn.collections, i)) {\n      conn.collections[i].onOpen();\n    }\n  }\n}\n\n/*!\n * Module exports.\n */\n\nmodule.exports = NativeConnection;\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 886, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/backend/node_modules/mongoose/lib/drivers/node-mongodb-native/index.js"],"sourcesContent":["/*!\n * Module exports.\n */\n\n'use strict';\n\nexports.BulkWriteResult = require('./bulkWriteResult');\nexports.Collection = require('./collection');\nexports.Connection = require('./connection');\nexports.ClientEncryption = require('mongodb').ClientEncryption;\n"],"names":[],"mappings":"AAAA;;CAEC,GAID,QAAQ,eAAe;AACvB,QAAQ,UAAU;AAClB,QAAQ,UAAU;AAClB,QAAQ,gBAAgB,GAAG,kGAAmB,gBAAgB","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 896, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/backend/node_modules/mongoose/lib/connectionState.js"],"sourcesContent":["\n/*!\n * Connection states\n */\n\n'use strict';\n\nconst STATES = module.exports = exports = Object.create(null);\n\nconst disconnected = 'disconnected';\nconst connected = 'connected';\nconst connecting = 'connecting';\nconst disconnecting = 'disconnecting';\nconst uninitialized = 'uninitialized';\n\nSTATES[0] = disconnected;\nSTATES[1] = connected;\nSTATES[2] = connecting;\nSTATES[3] = disconnecting;\nSTATES[99] = uninitialized;\n\nSTATES[disconnected] = 0;\nSTATES[connected] = 1;\nSTATES[connecting] = 2;\nSTATES[disconnecting] = 3;\nSTATES[uninitialized] = 99;\n"],"names":[],"mappings":"AACA;;CAEC,GAID,MAAM,SAAS,OAAO,OAAO,GAAG,UAAU,OAAO,MAAM,CAAC;AAExD,MAAM,eAAe;AACrB,MAAM,YAAY;AAClB,MAAM,aAAa;AACnB,MAAM,gBAAgB;AACtB,MAAM,gBAAgB;AAEtB,MAAM,CAAC,EAAE,GAAG;AACZ,MAAM,CAAC,EAAE,GAAG;AACZ,MAAM,CAAC,EAAE,GAAG;AACZ,MAAM,CAAC,EAAE,GAAG;AACZ,MAAM,CAAC,GAAG,GAAG;AAEb,MAAM,CAAC,aAAa,GAAG;AACvB,MAAM,CAAC,UAAU,GAAG;AACpB,MAAM,CAAC,WAAW,GAAG;AACrB,MAAM,CAAC,cAAc,GAAG;AACxB,MAAM,CAAC,cAAc,GAAG","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 918, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/backend/node_modules/mongoose/lib/collection.js"],"sourcesContent":["'use strict';\n\n/*!\n * Module dependencies.\n */\n\nconst EventEmitter = require('events').EventEmitter;\nconst STATES = require('./connectionState');\nconst immediate = require('./helpers/immediate');\n\n/**\n * Abstract Collection constructor\n *\n * This is the base class that drivers inherit from and implement.\n *\n * @param {String} name name of the collection\n * @param {Connection} conn A MongooseConnection instance\n * @param {Object} [opts] optional collection options\n * @api public\n */\n\nfunction Collection(name, conn, opts) {\n  if (opts === void 0) {\n    opts = {};\n  }\n\n  this.opts = opts;\n  this.name = name;\n  this.collectionName = name;\n  this.conn = conn;\n  this.queue = [];\n  this.buffer = !conn?._hasOpened;\n  this.emitter = new EventEmitter();\n\n  if (STATES.connected === this.conn.readyState) {\n    this.onOpen();\n  }\n}\n\n/**\n * The collection name\n *\n * @api public\n * @property name\n */\n\nCollection.prototype.name;\n\n/**\n * The collection name\n *\n * @api public\n * @property collectionName\n */\n\nCollection.prototype.collectionName;\n\n/**\n * The Connection instance\n *\n * @api public\n * @property conn\n */\n\nCollection.prototype.conn;\n\n/**\n * Called when the database connects\n *\n * @api private\n */\n\nCollection.prototype.onOpen = function() {\n  this.buffer = false;\n  immediate(() => this.doQueue());\n};\n\n/**\n * Called when the database disconnects\n *\n * @api private\n */\n\nCollection.prototype.onClose = function() {};\n\n/**\n * Queues a method for later execution when its\n * database connection opens.\n *\n * @param {String} name name of the method to queue\n * @param {Array} args arguments to pass to the method when executed\n * @api private\n */\n\nCollection.prototype.addQueue = function(name, args) {\n  this.queue.push([name, args]);\n  return this;\n};\n\n/**\n * Removes a queued method\n *\n * @param {String} name name of the method to queue\n * @param {Array} args arguments to pass to the method when executed\n * @api private\n */\n\nCollection.prototype.removeQueue = function(name, args) {\n  const index = this.queue.findIndex(v => v[0] === name && v[1] === args);\n  if (index === -1) {\n    return false;\n  }\n  this.queue.splice(index, 1);\n  return true;\n};\n\n/**\n * Executes all queued methods and clears the queue.\n *\n * @api private\n */\n\nCollection.prototype.doQueue = function() {\n  for (const method of this.queue) {\n    if (typeof method[0] === 'function') {\n      method[0].apply(this, method[1]);\n    } else {\n      this[method[0]].apply(this, method[1]);\n    }\n  }\n  this.queue = [];\n  const _this = this;\n  immediate(function() {\n    _this.emitter.emit('queue');\n  });\n  return this;\n};\n\n/**\n * Abstract method that drivers must implement.\n */\n\nCollection.prototype.ensureIndex = function() {\n  throw new Error('Collection#ensureIndex unimplemented by driver');\n};\n\n/**\n * Abstract method that drivers must implement.\n */\n\nCollection.prototype.createIndex = function() {\n  throw new Error('Collection#createIndex unimplemented by driver');\n};\n\n/**\n * Abstract method that drivers must implement.\n */\n\nCollection.prototype.findAndModify = function() {\n  throw new Error('Collection#findAndModify unimplemented by driver');\n};\n\n/**\n * Abstract method that drivers must implement.\n */\n\nCollection.prototype.findOneAndUpdate = function() {\n  throw new Error('Collection#findOneAndUpdate unimplemented by driver');\n};\n\n/**\n * Abstract method that drivers must implement.\n */\n\nCollection.prototype.findOneAndDelete = function() {\n  throw new Error('Collection#findOneAndDelete unimplemented by driver');\n};\n\n/**\n * Abstract method that drivers must implement.\n */\n\nCollection.prototype.findOneAndReplace = function() {\n  throw new Error('Collection#findOneAndReplace unimplemented by driver');\n};\n\n/**\n * Abstract method that drivers must implement.\n */\n\nCollection.prototype.findOne = function() {\n  throw new Error('Collection#findOne unimplemented by driver');\n};\n\n/**\n * Abstract method that drivers must implement.\n */\n\nCollection.prototype.find = function() {\n  throw new Error('Collection#find unimplemented by driver');\n};\n\n/**\n * Abstract method that drivers must implement.\n */\n\nCollection.prototype.insert = function() {\n  throw new Error('Collection#insert unimplemented by driver');\n};\n\n/**\n * Abstract method that drivers must implement.\n */\n\nCollection.prototype.insertOne = function() {\n  throw new Error('Collection#insertOne unimplemented by driver');\n};\n\n/**\n * Abstract method that drivers must implement.\n */\n\nCollection.prototype.insertMany = function() {\n  throw new Error('Collection#insertMany unimplemented by driver');\n};\n\n/**\n * Abstract method that drivers must implement.\n */\n\nCollection.prototype.save = function() {\n  throw new Error('Collection#save unimplemented by driver');\n};\n\n/**\n * Abstract method that drivers must implement.\n */\n\nCollection.prototype.updateOne = function() {\n  throw new Error('Collection#updateOne unimplemented by driver');\n};\n\n/**\n * Abstract method that drivers must implement.\n */\n\nCollection.prototype.updateMany = function() {\n  throw new Error('Collection#updateMany unimplemented by driver');\n};\n\n/**\n * Abstract method that drivers must implement.\n */\n\nCollection.prototype.deleteOne = function() {\n  throw new Error('Collection#deleteOne unimplemented by driver');\n};\n\n/**\n * Abstract method that drivers must implement.\n */\n\nCollection.prototype.deleteMany = function() {\n  throw new Error('Collection#deleteMany unimplemented by driver');\n};\n\n/**\n * Abstract method that drivers must implement.\n */\n\nCollection.prototype.getIndexes = function() {\n  throw new Error('Collection#getIndexes unimplemented by driver');\n};\n\n/**\n * Abstract method that drivers must implement.\n */\n\nCollection.prototype.watch = function() {\n  throw new Error('Collection#watch unimplemented by driver');\n};\n\n/*!\n * ignore\n */\n\nCollection.prototype._shouldBufferCommands = function _shouldBufferCommands() {\n  const opts = this.opts;\n\n  if (opts.bufferCommands != null) {\n    return opts.bufferCommands;\n  }\n  if (opts && opts.schemaUserProvidedOptions != null && opts.schemaUserProvidedOptions.bufferCommands != null) {\n    return opts.schemaUserProvidedOptions.bufferCommands;\n  }\n\n  return this.conn._shouldBufferCommands();\n};\n\n/*!\n * ignore\n */\n\nCollection.prototype._getBufferTimeoutMS = function _getBufferTimeoutMS() {\n  const conn = this.conn;\n  const opts = this.opts;\n\n  if (opts.bufferTimeoutMS != null) {\n    return opts.bufferTimeoutMS;\n  }\n  if (opts && opts.schemaUserProvidedOptions != null && opts.schemaUserProvidedOptions.bufferTimeoutMS != null) {\n    return opts.schemaUserProvidedOptions.bufferTimeoutMS;\n  }\n  return conn._getBufferTimeoutMS();\n};\n\n/*!\n * Module exports.\n */\n\nmodule.exports = Collection;\n"],"names":[],"mappings":"AAEA;;CAEC,GAED,MAAM,eAAe,uEAAkB,YAAY;AACnD,MAAM;AACN,MAAM;AAEN;;;;;;;;;CASC,GAED,SAAS,WAAW,IAAI,EAAE,IAAI,EAAE,IAAI;IAClC,IAAI,SAAS,KAAK,GAAG;QACnB,OAAO,CAAC;IACV;IAEA,IAAI,CAAC,IAAI,GAAG;IACZ,IAAI,CAAC,IAAI,GAAG;IACZ,IAAI,CAAC,cAAc,GAAG;IACtB,IAAI,CAAC,IAAI,GAAG;IACZ,IAAI,CAAC,KAAK,GAAG,EAAE;IACf,IAAI,CAAC,MAAM,GAAG,CAAC,MAAM;IACrB,IAAI,CAAC,OAAO,GAAG,IAAI;IAEnB,IAAI,OAAO,SAAS,KAAK,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE;QAC7C,IAAI,CAAC,MAAM;IACb;AACF;AAEA;;;;;CAKC,GAED,WAAW,SAAS,CAAC,IAAI;AAEzB;;;;;CAKC,GAED,WAAW,SAAS,CAAC,cAAc;AAEnC;;;;;CAKC,GAED,WAAW,SAAS,CAAC,IAAI;AAEzB;;;;CAIC,GAED,WAAW,SAAS,CAAC,MAAM,GAAG;IAC5B,IAAI,CAAC,MAAM,GAAG;IACd,UAAU,IAAM,IAAI,CAAC,OAAO;AAC9B;AAEA;;;;CAIC,GAED,WAAW,SAAS,CAAC,OAAO,GAAG,YAAY;AAE3C;;;;;;;CAOC,GAED,WAAW,SAAS,CAAC,QAAQ,GAAG,SAAS,IAAI,EAAE,IAAI;IACjD,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC;QAAC;QAAM;KAAK;IAC5B,OAAO,IAAI;AACb;AAEA;;;;;;CAMC,GAED,WAAW,SAAS,CAAC,WAAW,GAAG,SAAS,IAAI,EAAE,IAAI;IACpD,MAAM,QAAQ,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,CAAA,IAAK,CAAC,CAAC,EAAE,KAAK,QAAQ,CAAC,CAAC,EAAE,KAAK;IAClE,IAAI,UAAU,CAAC,GAAG;QAChB,OAAO;IACT;IACA,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO;IACzB,OAAO;AACT;AAEA;;;;CAIC,GAED,WAAW,SAAS,CAAC,OAAO,GAAG;IAC7B,KAAK,MAAM,UAAU,IAAI,CAAC,KAAK,CAAE;QAC/B,IAAI,OAAO,MAAM,CAAC,EAAE,KAAK,YAAY;YACnC,MAAM,CAAC,EAAE,CAAC,KAAK,CAAC,IAAI,EAAE,MAAM,CAAC,EAAE;QACjC,OAAO;YACL,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC,KAAK,CAAC,IAAI,EAAE,MAAM,CAAC,EAAE;QACvC;IACF;IACA,IAAI,CAAC,KAAK,GAAG,EAAE;IACf,MAAM,QAAQ,IAAI;IAClB,UAAU;QACR,MAAM,OAAO,CAAC,IAAI,CAAC;IACrB;IACA,OAAO,IAAI;AACb;AAEA;;CAEC,GAED,WAAW,SAAS,CAAC,WAAW,GAAG;IACjC,MAAM,IAAI,MAAM;AAClB;AAEA;;CAEC,GAED,WAAW,SAAS,CAAC,WAAW,GAAG;IACjC,MAAM,IAAI,MAAM;AAClB;AAEA;;CAEC,GAED,WAAW,SAAS,CAAC,aAAa,GAAG;IACnC,MAAM,IAAI,MAAM;AAClB;AAEA;;CAEC,GAED,WAAW,SAAS,CAAC,gBAAgB,GAAG;IACtC,MAAM,IAAI,MAAM;AAClB;AAEA;;CAEC,GAED,WAAW,SAAS,CAAC,gBAAgB,GAAG;IACtC,MAAM,IAAI,MAAM;AAClB;AAEA;;CAEC,GAED,WAAW,SAAS,CAAC,iBAAiB,GAAG;IACvC,MAAM,IAAI,MAAM;AAClB;AAEA;;CAEC,GAED,WAAW,SAAS,CAAC,OAAO,GAAG;IAC7B,MAAM,IAAI,MAAM;AAClB;AAEA;;CAEC,GAED,WAAW,SAAS,CAAC,IAAI,GAAG;IAC1B,MAAM,IAAI,MAAM;AAClB;AAEA;;CAEC,GAED,WAAW,SAAS,CAAC,MAAM,GAAG;IAC5B,MAAM,IAAI,MAAM;AAClB;AAEA;;CAEC,GAED,WAAW,SAAS,CAAC,SAAS,GAAG;IAC/B,MAAM,IAAI,MAAM;AAClB;AAEA;;CAEC,GAED,WAAW,SAAS,CAAC,UAAU,GAAG;IAChC,MAAM,IAAI,MAAM;AAClB;AAEA;;CAEC,GAED,WAAW,SAAS,CAAC,IAAI,GAAG;IAC1B,MAAM,IAAI,MAAM;AAClB;AAEA;;CAEC,GAED,WAAW,SAAS,CAAC,SAAS,GAAG;IAC/B,MAAM,IAAI,MAAM;AAClB;AAEA;;CAEC,GAED,WAAW,SAAS,CAAC,UAAU,GAAG;IAChC,MAAM,IAAI,MAAM;AAClB;AAEA;;CAEC,GAED,WAAW,SAAS,CAAC,SAAS,GAAG;IAC/B,MAAM,IAAI,MAAM;AAClB;AAEA;;CAEC,GAED,WAAW,SAAS,CAAC,UAAU,GAAG;IAChC,MAAM,IAAI,MAAM;AAClB;AAEA;;CAEC,GAED,WAAW,SAAS,CAAC,UAAU,GAAG;IAChC,MAAM,IAAI,MAAM;AAClB;AAEA;;CAEC,GAED,WAAW,SAAS,CAAC,KAAK,GAAG;IAC3B,MAAM,IAAI,MAAM;AAClB;AAEA;;CAEC,GAED,WAAW,SAAS,CAAC,qBAAqB,GAAG,SAAS;IACpD,MAAM,OAAO,IAAI,CAAC,IAAI;IAEtB,IAAI,KAAK,cAAc,IAAI,MAAM;QAC/B,OAAO,KAAK,cAAc;IAC5B;IACA,IAAI,QAAQ,KAAK,yBAAyB,IAAI,QAAQ,KAAK,yBAAyB,CAAC,cAAc,IAAI,MAAM;QAC3G,OAAO,KAAK,yBAAyB,CAAC,cAAc;IACtD;IAEA,OAAO,IAAI,CAAC,IAAI,CAAC,qBAAqB;AACxC;AAEA;;CAEC,GAED,WAAW,SAAS,CAAC,mBAAmB,GAAG,SAAS;IAClD,MAAM,OAAO,IAAI,CAAC,IAAI;IACtB,MAAM,OAAO,IAAI,CAAC,IAAI;IAEtB,IAAI,KAAK,eAAe,IAAI,MAAM;QAChC,OAAO,KAAK,eAAe;IAC7B;IACA,IAAI,QAAQ,KAAK,yBAAyB,IAAI,QAAQ,KAAK,yBAAyB,CAAC,eAAe,IAAI,MAAM;QAC5G,OAAO,KAAK,yBAAyB,CAAC,eAAe;IACvD;IACA,OAAO,KAAK,mBAAmB;AACjC;AAEA;;CAEC,GAED,OAAO,OAAO,GAAG","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 1147, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/backend/node_modules/mongoose/lib/error/mongooseError.js"],"sourcesContent":["'use strict';\n\n/*!\n * ignore\n */\n\nclass MongooseError extends Error { }\n\nObject.defineProperty(MongooseError.prototype, 'name', {\n  value: 'MongooseError'\n});\n\nmodule.exports = MongooseError;\n"],"names":[],"mappings":"AAEA;;CAEC,GAED,MAAM,sBAAsB;AAAQ;AAEpC,OAAO,cAAc,CAAC,cAAc,SAAS,EAAE,QAAQ;IACrD,OAAO;AACT;AAEA,OAAO,OAAO,GAAG","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 1159, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/backend/node_modules/mongoose/lib/error/cast.js"],"sourcesContent":["'use strict';\n\n/*!\n * Module dependencies.\n */\n\nconst MongooseError = require('./mongooseError');\nconst util = require('util');\n\n/**\n * Casting Error constructor.\n *\n * @param {String} type\n * @param {String} value\n * @inherits MongooseError\n * @api private\n */\n\nclass CastError extends MongooseError {\n  constructor(type, value, path, reason, schemaType) {\n    // If no args, assume we'll `init()` later.\n    if (arguments.length > 0) {\n      const valueType = getValueType(value);\n      const messageFormat = getMessageFormat(schemaType);\n      const msg = formatMessage(null, type, value, path, messageFormat, valueType, reason);\n      super(msg);\n      this.init(type, value, path, reason, schemaType);\n    } else {\n      super(formatMessage());\n    }\n  }\n\n  toJSON() {\n    return {\n      stringValue: this.stringValue,\n      valueType: this.valueType,\n      kind: this.kind,\n      value: this.value,\n      path: this.path,\n      reason: this.reason,\n      name: this.name,\n      message: this.message\n    };\n  }\n  /*!\n   * ignore\n   */\n  init(type, value, path, reason, schemaType) {\n    this.stringValue = getStringValue(value);\n    this.messageFormat = getMessageFormat(schemaType);\n    this.kind = type;\n    this.value = value;\n    this.path = path;\n    this.reason = reason;\n    this.valueType = getValueType(value);\n  }\n\n  /**\n   * ignore\n   * @param {Readonly<CastError>} other\n   * @api private\n   */\n  copy(other) {\n    this.messageFormat = other.messageFormat;\n    this.stringValue = other.stringValue;\n    this.kind = other.kind;\n    this.value = other.value;\n    this.path = other.path;\n    this.reason = other.reason;\n    this.message = other.message;\n    this.valueType = other.valueType;\n  }\n\n  /*!\n   * ignore\n   */\n  setModel(model) {\n    this.message = formatMessage(model, this.kind, this.value, this.path,\n      this.messageFormat, this.valueType);\n  }\n}\n\nObject.defineProperty(CastError.prototype, 'name', {\n  value: 'CastError'\n});\n\nfunction getStringValue(value) {\n  let stringValue = util.inspect(value);\n  stringValue = stringValue.replace(/^'|'$/g, '\"');\n  if (!stringValue.startsWith('\"')) {\n    stringValue = '\"' + stringValue + '\"';\n  }\n  return stringValue;\n}\n\nfunction getValueType(value) {\n  if (value == null) {\n    return '' + value;\n  }\n\n  const t = typeof value;\n  if (t !== 'object') {\n    return t;\n  }\n  if (typeof value.constructor !== 'function') {\n    return t;\n  }\n  return value.constructor.name;\n}\n\nfunction getMessageFormat(schemaType) {\n  const messageFormat = schemaType && schemaType._castErrorMessage || null;\n  if (typeof messageFormat === 'string' || typeof messageFormat === 'function') {\n    return messageFormat;\n  }\n}\n\n/*!\n * ignore\n */\n\nfunction formatMessage(model, kind, value, path, messageFormat, valueType, reason) {\n  if (typeof messageFormat === 'string') {\n    const stringValue = getStringValue(value);\n    let ret = messageFormat.\n      replace('{KIND}', kind).\n      replace('{VALUE}', stringValue).\n      replace('{PATH}', path);\n    if (model != null) {\n      ret = ret.replace('{MODEL}', model.modelName);\n    }\n\n    return ret;\n  } else if (typeof messageFormat === 'function') {\n    return messageFormat(value, path, model, kind);\n  } else {\n    const stringValue = getStringValue(value);\n    const valueTypeMsg = valueType ? ' (type ' + valueType + ')' : '';\n    let ret = 'Cast to ' + kind + ' failed for value ' +\n      stringValue + valueTypeMsg + ' at path \"' + path + '\"';\n    if (model != null) {\n      ret += ' for model \"' + model.modelName + '\"';\n    }\n    if (reason != null &&\n        typeof reason.constructor === 'function' &&\n        reason.constructor.name !== 'AssertionError' &&\n        reason.constructor.name !== 'Error') {\n      ret += ' because of \"' + reason.constructor.name + '\"';\n    }\n    return ret;\n  }\n}\n\n/*!\n * exports\n */\n\nmodule.exports = CastError;\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 1288, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/backend/node_modules/mongoose/lib/error/messages.js"],"sourcesContent":["\n/**\n * The default built-in validator error messages. These may be customized.\n *\n *     // customize within each schema or globally like so\n *     const mongoose = require('mongoose');\n *     mongoose.Error.messages.String.enum  = \"Your custom message for {PATH}.\";\n *\n * Error messages support basic templating. Mongoose will replace the following strings with the corresponding value.\n *\n * - `{PATH}` is replaced with the invalid document path\n * - `{VALUE}` is replaced with the invalid value\n * - `{TYPE}` is replaced with the validator type such as \"regexp\", \"min\", or \"user defined\"\n * - `{MIN}` is replaced with the declared min value for the Number.min validator\n * - `{MAX}` is replaced with the declared max value for the Number.max validator\n *\n * Click the \"show code\" link below to see all defaults.\n *\n * @static\n * @memberOf MongooseError\n * @api public\n */\n\n'use strict';\n\nconst msg = module.exports = exports = {};\n\nmsg.DocumentNotFoundError = null;\n\nmsg.general = {};\nmsg.general.default = 'Validator failed for path `{PATH}` with value `{VALUE}`';\nmsg.general.required = 'Path `{PATH}` is required.';\n\nmsg.Number = {};\nmsg.Number.min = 'Path `{PATH}` ({VALUE}) is less than minimum allowed value ({MIN}).';\nmsg.Number.max = 'Path `{PATH}` ({VALUE}) is more than maximum allowed value ({MAX}).';\nmsg.Number.enum = '`{VALUE}` is not a valid enum value for path `{PATH}`.';\n\nmsg.Date = {};\nmsg.Date.min = 'Path `{PATH}` ({VALUE}) is before minimum allowed value ({MIN}).';\nmsg.Date.max = 'Path `{PATH}` ({VALUE}) is after maximum allowed value ({MAX}).';\n\nmsg.String = {};\nmsg.String.enum = '`{VALUE}` is not a valid enum value for path `{PATH}`.';\nmsg.String.match = 'Path `{PATH}` is invalid ({VALUE}).';\nmsg.String.minlength = 'Path `{PATH}` (`{VALUE}`, length {LENGTH}) is shorter than the minimum allowed length ({MINLENGTH}).';\nmsg.String.maxlength = 'Path `{PATH}` (`{VALUE}`, length {LENGTH}) is longer than the maximum allowed length ({MAXLENGTH}).';\n"],"names":[],"mappings":"AACA;;;;;;;;;;;;;;;;;;;;CAoBC,GAID,MAAM,MAAM,OAAO,OAAO,GAAG,UAAU,CAAC;AAExC,IAAI,qBAAqB,GAAG;AAE5B,IAAI,OAAO,GAAG,CAAC;AACf,IAAI,OAAO,CAAC,OAAO,GAAG;AACtB,IAAI,OAAO,CAAC,QAAQ,GAAG;AAEvB,IAAI,MAAM,GAAG,CAAC;AACd,IAAI,MAAM,CAAC,GAAG,GAAG;AACjB,IAAI,MAAM,CAAC,GAAG,GAAG;AACjB,IAAI,MAAM,CAAC,IAAI,GAAG;AAElB,IAAI,IAAI,GAAG,CAAC;AACZ,IAAI,IAAI,CAAC,GAAG,GAAG;AACf,IAAI,IAAI,CAAC,GAAG,GAAG;AAEf,IAAI,MAAM,GAAG,CAAC;AACd,IAAI,MAAM,CAAC,IAAI,GAAG;AAClB,IAAI,MAAM,CAAC,KAAK,GAAG;AACnB,IAAI,MAAM,CAAC,SAAS,GAAG;AACvB,IAAI,MAAM,CAAC,SAAS,GAAG","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 1329, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/backend/node_modules/mongoose/lib/error/notFound.js"],"sourcesContent":["'use strict';\n\n/*!\n * Module dependencies.\n */\n\nconst MongooseError = require('./mongooseError');\nconst util = require('util');\n\n/**\n * OverwriteModel Error constructor.\n * @api private\n */\n\nclass DocumentNotFoundError extends MongooseError {\n\n  constructor(filter, model, numAffected, result) {\n    let msg;\n    const messages = MongooseError.messages;\n    if (messages.DocumentNotFoundError != null) {\n      msg = typeof messages.DocumentNotFoundError === 'function' ?\n        messages.DocumentNotFoundError(filter, model) :\n        messages.DocumentNotFoundError;\n    } else {\n      msg = 'No document found for query \"' + util.inspect(filter) +\n        '\" on model \"' + model + '\"';\n    }\n\n    super(msg);\n\n    this.result = result;\n    this.numAffected = numAffected;\n    this.filter = filter;\n    // Backwards compat\n    this.query = filter;\n  }\n}\n\nObject.defineProperty(DocumentNotFoundError.prototype, 'name', {\n  value: 'DocumentNotFoundError'\n});\n\n/*!\n * exports\n */\n\nmodule.exports = DocumentNotFoundError;\n"],"names":[],"mappings":"AAEA;;CAEC,GAED,MAAM;AACN,MAAM;AAEN;;;CAGC,GAED,MAAM,8BAA8B;IAElC,YAAY,MAAM,EAAE,KAAK,EAAE,WAAW,EAAE,MAAM,CAAE;QAC9C,IAAI;QACJ,MAAM,WAAW,cAAc,QAAQ;QACvC,IAAI,SAAS,qBAAqB,IAAI,MAAM;YAC1C,MAAM,OAAO,SAAS,qBAAqB,KAAK,aAC9C,SAAS,qBAAqB,CAAC,QAAQ,SACvC,SAAS,qBAAqB;QAClC,OAAO;YACL,MAAM,kCAAkC,KAAK,OAAO,CAAC,UACnD,iBAAiB,QAAQ;QAC7B;QAEA,KAAK,CAAC;QAEN,IAAI,CAAC,MAAM,GAAG;QACd,IAAI,CAAC,WAAW,GAAG;QACnB,IAAI,CAAC,MAAM,GAAG;QACd,mBAAmB;QACnB,IAAI,CAAC,KAAK,GAAG;IACf;AACF;AAEA,OAAO,cAAc,CAAC,sBAAsB,SAAS,EAAE,QAAQ;IAC7D,OAAO;AACT;AAEA;;CAEC,GAED,OAAO,OAAO,GAAG","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 1363, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/backend/node_modules/mongoose/lib/error/validation.js"],"sourcesContent":["/*!\n * Module requirements\n */\n\n'use strict';\n\nconst MongooseError = require('./mongooseError');\nconst getConstructorName = require('../helpers/getConstructorName');\nconst util = require('util');\nconst combinePathErrors = require('../helpers/error/combinePathErrors');\n\n/**\n * Document Validation Error\n *\n * @api private\n * @param {Document} [instance]\n * @inherits MongooseError\n */\n\nclass ValidationError extends MongooseError {\n\n  constructor(instance) {\n    let _message;\n    if (getConstructorName(instance) === 'model') {\n      _message = instance.constructor.modelName + ' validation failed';\n    } else {\n      _message = 'Validation failed';\n    }\n\n    super(_message);\n\n    this.errors = {};\n    this._message = _message;\n\n    if (instance) {\n      instance.$errors = this.errors;\n    }\n  }\n\n  /**\n   * Console.log helper\n   */\n  toString() {\n    return this.name + ': ' + combinePathErrors(this);\n  }\n\n  /**\n   * inspect helper\n   * @api private\n   */\n  inspect() {\n    return Object.assign(new Error(this.message), this);\n  }\n\n  /**\n  * add message\n  * @param {String} path\n  * @param {String|Error} error\n  * @api private\n  */\n  addError(path, error) {\n    if (error instanceof ValidationError) {\n      const { errors } = error;\n      for (const errorPath of Object.keys(errors)) {\n        this.addError(`${path}.${errorPath}`, errors[errorPath]);\n      }\n\n      return;\n    }\n\n    this.errors[path] = error;\n    this.message = this._message + ': ' + combinePathErrors(this);\n  }\n}\n\n\nif (util.inspect.custom) {\n  // Avoid Node deprecation warning DEP0079\n  ValidationError.prototype[util.inspect.custom] = ValidationError.prototype.inspect;\n}\n\n/**\n * Helper for JSON.stringify\n * Ensure `name` and `message` show up in toJSON output re: gh-9847\n * @api private\n */\nObject.defineProperty(ValidationError.prototype, 'toJSON', {\n  enumerable: false,\n  writable: false,\n  configurable: true,\n  value: function() {\n    return Object.assign({}, this, { name: this.name, message: this.message });\n  }\n});\n\n\nObject.defineProperty(ValidationError.prototype, 'name', {\n  value: 'ValidationError'\n});\n\n/*!\n * Module exports\n */\n\nmodule.exports = ValidationError;\n"],"names":[],"mappings":"AAAA;;CAEC,GAID,MAAM;AACN,MAAM;AACN,MAAM;AACN,MAAM;AAEN;;;;;;CAMC,GAED,MAAM,wBAAwB;IAE5B,YAAY,QAAQ,CAAE;QACpB,IAAI;QACJ,IAAI,mBAAmB,cAAc,SAAS;YAC5C,WAAW,SAAS,WAAW,CAAC,SAAS,GAAG;QAC9C,OAAO;YACL,WAAW;QACb;QAEA,KAAK,CAAC;QAEN,IAAI,CAAC,MAAM,GAAG,CAAC;QACf,IAAI,CAAC,QAAQ,GAAG;QAEhB,IAAI,UAAU;YACZ,SAAS,OAAO,GAAG,IAAI,CAAC,MAAM;QAChC;IACF;IAEA;;GAEC,GACD,WAAW;QACT,OAAO,IAAI,CAAC,IAAI,GAAG,OAAO,kBAAkB,IAAI;IAClD;IAEA;;;GAGC,GACD,UAAU;QACR,OAAO,OAAO,MAAM,CAAC,IAAI,MAAM,IAAI,CAAC,OAAO,GAAG,IAAI;IACpD;IAEA;;;;;EAKA,GACA,SAAS,IAAI,EAAE,KAAK,EAAE;QACpB,IAAI,iBAAiB,iBAAiB;YACpC,MAAM,EAAE,MAAM,EAAE,GAAG;YACnB,KAAK,MAAM,aAAa,OAAO,IAAI,CAAC,QAAS;gBAC3C,IAAI,CAAC,QAAQ,CAAC,GAAG,KAAK,CAAC,EAAE,WAAW,EAAE,MAAM,CAAC,UAAU;YACzD;YAEA;QACF;QAEA,IAAI,CAAC,MAAM,CAAC,KAAK,GAAG;QACpB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,QAAQ,GAAG,OAAO,kBAAkB,IAAI;IAC9D;AACF;AAGA,IAAI,KAAK,OAAO,CAAC,MAAM,EAAE;IACvB,yCAAyC;IACzC,gBAAgB,SAAS,CAAC,KAAK,OAAO,CAAC,MAAM,CAAC,GAAG,gBAAgB,SAAS,CAAC,OAAO;AACpF;AAEA;;;;CAIC,GACD,OAAO,cAAc,CAAC,gBAAgB,SAAS,EAAE,UAAU;IACzD,YAAY;IACZ,UAAU;IACV,cAAc;IACd,OAAO;QACL,OAAO,OAAO,MAAM,CAAC,CAAC,GAAG,IAAI,EAAE;YAAE,MAAM,IAAI,CAAC,IAAI;YAAE,SAAS,IAAI,CAAC,OAAO;QAAC;IAC1E;AACF;AAGA,OAAO,cAAc,CAAC,gBAAgB,SAAS,EAAE,QAAQ;IACvD,OAAO;AACT;AAEA;;CAEC,GAED,OAAO,OAAO,GAAG","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 1447, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/backend/node_modules/mongoose/lib/error/validator.js"],"sourcesContent":["/*!\n * Module dependencies.\n */\n\n'use strict';\n\nconst MongooseError = require('./mongooseError');\n\n/**\n * Schema validator error\n *\n * @param {Object} properties\n * @param {Document} doc\n * @api private\n */\n\nclass ValidatorError extends MongooseError {\n\n  constructor(properties, doc) {\n    let msg = properties.message;\n    if (!msg) {\n      msg = MongooseError.messages.general.default;\n    }\n\n    const message = formatMessage(msg, properties, doc);\n    super(message);\n\n    properties = Object.assign({}, properties, { message: message });\n    this.properties = properties;\n    this.kind = properties.type;\n    this.path = properties.path;\n    this.value = properties.value;\n    this.reason = properties.reason;\n  }\n\n  /**\n   * toString helper\n   * TODO remove? This defaults to `${this.name}: ${this.message}`\n   * @api private\n   */\n  toString() {\n    return this.message;\n  }\n\n  /**\n   * Ensure `name` and `message` show up in toJSON output re: gh-9296\n   * @api private\n   */\n\n  toJSON() {\n    return Object.assign({ name: this.name, message: this.message }, this);\n  }\n}\n\n\nObject.defineProperty(ValidatorError.prototype, 'name', {\n  value: 'ValidatorError'\n});\n\n/**\n * The object used to define this validator. Not enumerable to hide\n * it from `require('util').inspect()` output re: gh-3925\n * @api private\n */\n\nObject.defineProperty(ValidatorError.prototype, 'properties', {\n  enumerable: false,\n  writable: true,\n  value: null\n});\n\n// Exposed for testing\nValidatorError.prototype.formatMessage = formatMessage;\n\n/**\n * Formats error messages\n * @api private\n */\n\nfunction formatMessage(msg, properties, doc) {\n  if (typeof msg === 'function') {\n    return msg(properties, doc);\n  }\n\n  const propertyNames = Object.keys(properties);\n  for (const propertyName of propertyNames) {\n    if (propertyName === 'message') {\n      continue;\n    }\n    msg = msg.replace('{' + propertyName.toUpperCase() + '}', properties[propertyName]);\n  }\n\n  return msg;\n}\n\n/*!\n * exports\n */\n\nmodule.exports = ValidatorError;\n"],"names":[],"mappings":"AAAA;;CAEC,GAID,MAAM;AAEN;;;;;;CAMC,GAED,MAAM,uBAAuB;IAE3B,YAAY,UAAU,EAAE,GAAG,CAAE;QAC3B,IAAI,MAAM,WAAW,OAAO;QAC5B,IAAI,CAAC,KAAK;YACR,MAAM,cAAc,QAAQ,CAAC,OAAO,CAAC,OAAO;QAC9C;QAEA,MAAM,UAAU,cAAc,KAAK,YAAY;QAC/C,KAAK,CAAC;QAEN,aAAa,OAAO,MAAM,CAAC,CAAC,GAAG,YAAY;YAAE,SAAS;QAAQ;QAC9D,IAAI,CAAC,UAAU,GAAG;QAClB,IAAI,CAAC,IAAI,GAAG,WAAW,IAAI;QAC3B,IAAI,CAAC,IAAI,GAAG,WAAW,IAAI;QAC3B,IAAI,CAAC,KAAK,GAAG,WAAW,KAAK;QAC7B,IAAI,CAAC,MAAM,GAAG,WAAW,MAAM;IACjC;IAEA;;;;GAIC,GACD,WAAW;QACT,OAAO,IAAI,CAAC,OAAO;IACrB;IAEA;;;GAGC,GAED,SAAS;QACP,OAAO,OAAO,MAAM,CAAC;YAAE,MAAM,IAAI,CAAC,IAAI;YAAE,SAAS,IAAI,CAAC,OAAO;QAAC,GAAG,IAAI;IACvE;AACF;AAGA,OAAO,cAAc,CAAC,eAAe,SAAS,EAAE,QAAQ;IACtD,OAAO;AACT;AAEA;;;;CAIC,GAED,OAAO,cAAc,CAAC,eAAe,SAAS,EAAE,cAAc;IAC5D,YAAY;IACZ,UAAU;IACV,OAAO;AACT;AAEA,sBAAsB;AACtB,eAAe,SAAS,CAAC,aAAa,GAAG;AAEzC;;;CAGC,GAED,SAAS,cAAc,GAAG,EAAE,UAAU,EAAE,GAAG;IACzC,IAAI,OAAO,QAAQ,YAAY;QAC7B,OAAO,IAAI,YAAY;IACzB;IAEA,MAAM,gBAAgB,OAAO,IAAI,CAAC;IAClC,KAAK,MAAM,gBAAgB,cAAe;QACxC,IAAI,iBAAiB,WAAW;YAC9B;QACF;QACA,MAAM,IAAI,OAAO,CAAC,MAAM,aAAa,WAAW,KAAK,KAAK,UAAU,CAAC,aAAa;IACpF;IAEA,OAAO;AACT;AAEA;;CAEC,GAED,OAAO,OAAO,GAAG","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 1527, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/backend/node_modules/mongoose/lib/error/version.js"],"sourcesContent":["'use strict';\n\n/*!\n * Module dependencies.\n */\n\nconst MongooseError = require('./mongooseError');\n\n/**\n * Version Error constructor.\n *\n * @param {Document} doc\n * @param {Number} currentVersion\n * @param {Array<String>} modifiedPaths\n * @api private\n */\n\nclass VersionError extends MongooseError {\n\n  constructor(doc, currentVersion, modifiedPaths) {\n    const modifiedPathsStr = modifiedPaths.join(', ');\n    super('No matching document found for id \"' + doc._doc._id +\n      '\" version ' + currentVersion + ' modifiedPaths \"' + modifiedPathsStr + '\"');\n    this.version = currentVersion;\n    this.modifiedPaths = modifiedPaths;\n  }\n}\n\n\nObject.defineProperty(VersionError.prototype, 'name', {\n  value: 'VersionError'\n});\n\n/*!\n * exports\n */\n\nmodule.exports = VersionError;\n"],"names":[],"mappings":"AAEA;;CAEC,GAED,MAAM;AAEN;;;;;;;CAOC,GAED,MAAM,qBAAqB;IAEzB,YAAY,GAAG,EAAE,cAAc,EAAE,aAAa,CAAE;QAC9C,MAAM,mBAAmB,cAAc,IAAI,CAAC;QAC5C,KAAK,CAAC,wCAAwC,IAAI,IAAI,CAAC,GAAG,GACxD,eAAe,iBAAiB,qBAAqB,mBAAmB;QAC1E,IAAI,CAAC,OAAO,GAAG;QACf,IAAI,CAAC,aAAa,GAAG;IACvB;AACF;AAGA,OAAO,cAAc,CAAC,aAAa,SAAS,EAAE,QAAQ;IACpD,OAAO;AACT;AAEA;;CAEC,GAED,OAAO,OAAO,GAAG","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 1555, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/backend/node_modules/mongoose/lib/error/parallelSave.js"],"sourcesContent":["'use strict';\n\n/*!\n * Module dependencies.\n */\n\nconst MongooseError = require('./mongooseError');\n\n\n/**\n * ParallelSave Error constructor.\n *\n * @param {Document} doc\n * @api private\n */\n\nclass ParallelSaveError extends MongooseError {\n\n  constructor(doc) {\n    const msg = 'Can\\'t save() the same doc multiple times in parallel. Document: ';\n    super(msg + doc._doc._id);\n  }\n}\n\nObject.defineProperty(ParallelSaveError.prototype, 'name', {\n  value: 'ParallelSaveError'\n});\n\n/*!\n * exports\n */\n\nmodule.exports = ParallelSaveError;\n"],"names":[],"mappings":"AAEA;;CAEC,GAED,MAAM;AAGN;;;;;CAKC,GAED,MAAM,0BAA0B;IAE9B,YAAY,GAAG,CAAE;QACf,MAAM,MAAM;QACZ,KAAK,CAAC,MAAM,IAAI,IAAI,CAAC,GAAG;IAC1B;AACF;AAEA,OAAO,cAAc,CAAC,kBAAkB,SAAS,EAAE,QAAQ;IACzD,OAAO;AACT;AAEA;;CAEC,GAED,OAAO,OAAO,GAAG","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 1579, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/backend/node_modules/mongoose/lib/error/overwriteModel.js"],"sourcesContent":["\n/*!\n * Module dependencies.\n */\n\n'use strict';\n\nconst MongooseError = require('./mongooseError');\n\n/**\n * OverwriteModel Error constructor.\n * @param {String} name\n * @api private\n */\n\nclass OverwriteModelError extends MongooseError {\n\n  constructor(name) {\n    super('Cannot overwrite `' + name + '` model once compiled.');\n  }\n}\n\nObject.defineProperty(OverwriteModelError.prototype, 'name', {\n  value: 'OverwriteModelError'\n});\n\n/*!\n * exports\n */\n\nmodule.exports = OverwriteModelError;\n"],"names":[],"mappings":"AACA;;CAEC,GAID,MAAM;AAEN;;;;CAIC,GAED,MAAM,4BAA4B;IAEhC,YAAY,IAAI,CAAE;QAChB,KAAK,CAAC,uBAAuB,OAAO;IACtC;AACF;AAEA,OAAO,cAAc,CAAC,oBAAoB,SAAS,EAAE,QAAQ;IAC3D,OAAO;AACT;AAEA;;CAEC,GAED,OAAO,OAAO,GAAG","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 1601, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/backend/node_modules/mongoose/lib/error/missingSchema.js"],"sourcesContent":["\n/*!\n * Module dependencies.\n */\n\n'use strict';\n\nconst MongooseError = require('./mongooseError');\n\n/**\n * MissingSchema Error constructor.\n * @param {String} name\n * @api private\n */\n\nclass MissingSchemaError extends MongooseError {\n\n  constructor(name) {\n    const msg = 'Schema hasn\\'t been registered for model \"' + name + '\".\\n'\n            + 'Use mongoose.model(name, schema)';\n    super(msg);\n  }\n}\n\nObject.defineProperty(MissingSchemaError.prototype, 'name', {\n  value: 'MissingSchemaError'\n});\n\n/*!\n * exports\n */\n\nmodule.exports = MissingSchemaError;\n"],"names":[],"mappings":"AACA;;CAEC,GAID,MAAM;AAEN;;;;CAIC,GAED,MAAM,2BAA2B;IAE/B,YAAY,IAAI,CAAE;QAChB,MAAM,MAAM,+CAA+C,OAAO,SACxD;QACV,KAAK,CAAC;IACR;AACF;AAEA,OAAO,cAAc,CAAC,mBAAmB,SAAS,EAAE,QAAQ;IAC1D,OAAO;AACT;AAEA;;CAEC,GAED,OAAO,OAAO,GAAG","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 1624, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/backend/node_modules/mongoose/lib/error/bulkSaveIncompleteError.js"],"sourcesContent":["/*!\n * Module dependencies.\n */\n\n'use strict';\n\nconst MongooseError = require('./mongooseError');\n\n\n/**\n * If the underwriting `bulkWrite()` for `bulkSave()` succeeded, but wasn't able to update or\n * insert all documents, we throw this error.\n *\n * @api private\n */\n\nclass MongooseBulkSaveIncompleteError extends MongooseError {\n  constructor(modelName, documents, bulkWriteResult) {\n    const matchedCount = bulkWriteResult?.matchedCount ?? 0;\n    const insertedCount = bulkWriteResult?.insertedCount ?? 0;\n    let preview = documents.map(doc => doc._id).join(', ');\n    if (preview.length > 100) {\n      preview = preview.slice(0, 100) + '...';\n    }\n\n    const numDocumentsNotUpdated = documents.length - matchedCount - insertedCount;\n    super(`${modelName}.bulkSave() was not able to update ${numDocumentsNotUpdated} of the given documents due to incorrect version or optimistic concurrency, document ids: ${preview}`);\n\n    this.modelName = modelName;\n    this.documents = documents;\n    this.bulkWriteResult = bulkWriteResult;\n    this.numDocumentsNotUpdated = numDocumentsNotUpdated;\n  }\n}\n\nObject.defineProperty(MongooseBulkSaveIncompleteError.prototype, 'name', {\n  value: 'MongooseBulkSaveIncompleteError'\n});\n\n/*!\n * exports\n */\n\nmodule.exports = MongooseBulkSaveIncompleteError;\n"],"names":[],"mappings":"AAAA;;CAEC,GAID,MAAM;AAGN;;;;;CAKC,GAED,MAAM,wCAAwC;IAC5C,YAAY,SAAS,EAAE,SAAS,EAAE,eAAe,CAAE;QACjD,MAAM,eAAe,iBAAiB,gBAAgB;QACtD,MAAM,gBAAgB,iBAAiB,iBAAiB;QACxD,IAAI,UAAU,UAAU,GAAG,CAAC,CAAA,MAAO,IAAI,GAAG,EAAE,IAAI,CAAC;QACjD,IAAI,QAAQ,MAAM,GAAG,KAAK;YACxB,UAAU,QAAQ,KAAK,CAAC,GAAG,OAAO;QACpC;QAEA,MAAM,yBAAyB,UAAU,MAAM,GAAG,eAAe;QACjE,KAAK,CAAC,GAAG,UAAU,mCAAmC,EAAE,uBAAuB,0FAA0F,EAAE,SAAS;QAEpL,IAAI,CAAC,SAAS,GAAG;QACjB,IAAI,CAAC,SAAS,GAAG;QACjB,IAAI,CAAC,eAAe,GAAG;QACvB,IAAI,CAAC,sBAAsB,GAAG;IAChC;AACF;AAEA,OAAO,cAAc,CAAC,gCAAgC,SAAS,EAAE,QAAQ;IACvE,OAAO;AACT;AAEA;;CAEC,GAED,OAAO,OAAO,GAAG","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 1658, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/backend/node_modules/mongoose/lib/error/serverSelection.js"],"sourcesContent":["/*!\n * Module dependencies.\n */\n\n'use strict';\n\nconst MongooseError = require('./mongooseError');\nconst allServersUnknown = require('../helpers/topology/allServersUnknown');\nconst isAtlas = require('../helpers/topology/isAtlas');\nconst isSSLError = require('../helpers/topology/isSSLError');\n\n/*!\n * ignore\n */\n\nconst atlasMessage = 'Could not connect to any servers in your MongoDB Atlas cluster. ' +\n  'One common reason is that you\\'re trying to access the database from ' +\n  'an IP that isn\\'t whitelisted. Make sure your current IP address is on your Atlas ' +\n  'cluster\\'s IP whitelist: https://www.mongodb.com/docs/atlas/security-whitelist/';\n\nconst sslMessage = 'Mongoose is connecting with SSL enabled, but the server is ' +\n  'not accepting SSL connections. Please ensure that the MongoDB server you are ' +\n  'connecting to is configured to accept SSL connections. Learn more: ' +\n  'https://mongoosejs.com/docs/tutorials/ssl.html';\n\nclass MongooseServerSelectionError extends MongooseError {\n  /**\n   * MongooseServerSelectionError constructor\n   *\n   * @api private\n   */\n  assimilateError(err) {\n    const reason = err.reason;\n    // Special message for a case that is likely due to IP whitelisting issues.\n    const isAtlasWhitelistError = isAtlas(reason) &&\n      allServersUnknown(reason) &&\n      err.message.indexOf('bad auth') === -1 &&\n      err.message.indexOf('Authentication failed') === -1;\n\n    if (isAtlasWhitelistError) {\n      this.message = atlasMessage;\n    } else if (isSSLError(reason)) {\n      this.message = sslMessage;\n    } else {\n      this.message = err.message;\n    }\n    for (const key in err) {\n      if (key !== 'name') {\n        this[key] = err[key];\n      }\n    }\n    this.cause = reason;\n\n    return this;\n  }\n}\n\nObject.defineProperty(MongooseServerSelectionError.prototype, 'name', {\n  value: 'MongooseServerSelectionError'\n});\n\nmodule.exports = MongooseServerSelectionError;\n"],"names":[],"mappings":"AAAA;;CAEC,GAID,MAAM;AACN,MAAM;AACN,MAAM;AACN,MAAM;AAEN;;CAEC,GAED,MAAM,eAAe,qEACnB,0EACA,uFACA;AAEF,MAAM,aAAa,gEACjB,kFACA,wEACA;AAEF,MAAM,qCAAqC;IACzC;;;;GAIC,GACD,gBAAgB,GAAG,EAAE;QACnB,MAAM,SAAS,IAAI,MAAM;QACzB,2EAA2E;QAC3E,MAAM,wBAAwB,QAAQ,WACpC,kBAAkB,WAClB,IAAI,OAAO,CAAC,OAAO,CAAC,gBAAgB,CAAC,KACrC,IAAI,OAAO,CAAC,OAAO,CAAC,6BAA6B,CAAC;QAEpD,IAAI,uBAAuB;YACzB,IAAI,CAAC,OAAO,GAAG;QACjB,OAAO,IAAI,WAAW,SAAS;YAC7B,IAAI,CAAC,OAAO,GAAG;QACjB,OAAO;YACL,IAAI,CAAC,OAAO,GAAG,IAAI,OAAO;QAC5B;QACA,IAAK,MAAM,OAAO,IAAK;YACrB,IAAI,QAAQ,QAAQ;gBAClB,IAAI,CAAC,IAAI,GAAG,GAAG,CAAC,IAAI;YACtB;QACF;QACA,IAAI,CAAC,KAAK,GAAG;QAEb,OAAO,IAAI;IACb;AACF;AAEA,OAAO,cAAc,CAAC,6BAA6B,SAAS,EAAE,QAAQ;IACpE,OAAO;AACT;AAEA,OAAO,OAAO,GAAG","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 1701, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/backend/node_modules/mongoose/lib/error/divergentArray.js"],"sourcesContent":["\n/*!\n * Module dependencies.\n */\n\n'use strict';\n\nconst MongooseError = require('./mongooseError');\n\n/**\n * DivergentArrayError constructor.\n * @param {Array<String>} paths\n * @api private\n */\n\nclass DivergentArrayError extends MongooseError {\n\n  constructor(paths) {\n    const msg = 'For your own good, using `document.save()` to update an array '\n            + 'which was selected using an $elemMatch projection OR '\n            + 'populated using skip, limit, query conditions, or exclusion of '\n            + 'the _id field when the operation results in a $pop or $set of '\n            + 'the entire array is not supported. The following '\n            + 'path(s) would have been modified unsafely:\\n'\n            + '  ' + paths.join('\\n  ') + '\\n'\n            + 'Use Model.updateOne() to update these arrays instead.';\n    // TODO write up a docs page (FAQ) and link to it\n    super(msg);\n  }\n}\n\nObject.defineProperty(DivergentArrayError.prototype, 'name', {\n  value: 'DivergentArrayError'\n});\n\n/*!\n * exports\n */\n\nmodule.exports = DivergentArrayError;\n"],"names":[],"mappings":"AACA;;CAEC,GAID,MAAM;AAEN;;;;CAIC,GAED,MAAM,4BAA4B;IAEhC,YAAY,KAAK,CAAE;QACjB,MAAM,MAAM,mEACF,0DACA,oEACA,mEACA,sDACA,iDACA,OAAO,MAAM,IAAI,CAAC,UAAU,OAC5B;QACV,iDAAiD;QACjD,KAAK,CAAC;IACR;AACF;AAEA,OAAO,cAAc,CAAC,oBAAoB,SAAS,EAAE,QAAQ;IAC3D,OAAO;AACT;AAEA;;CAEC,GAED,OAAO,OAAO,GAAG","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 1725, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/backend/node_modules/mongoose/lib/error/strict.js"],"sourcesContent":["/*!\n * Module dependencies.\n */\n\n'use strict';\n\nconst MongooseError = require('./mongooseError');\n\n/**\n * Strict mode error constructor\n *\n * @param {String} path\n * @param {String} [msg]\n * @param {Boolean} [immutable]\n * @inherits MongooseError\n * @api private\n */\n\n\nclass StrictModeError extends MongooseError {\n\n  constructor(path, msg, immutable) {\n    msg = msg || 'Field `' + path + '` is not in schema and strict ' +\n      'mode is set to throw.';\n    super(msg);\n    this.isImmutableError = !!immutable;\n    this.path = path;\n  }\n}\n\nObject.defineProperty(StrictModeError.prototype, 'name', {\n  value: 'StrictModeError'\n});\n\nmodule.exports = StrictModeError;\n"],"names":[],"mappings":"AAAA;;CAEC,GAID,MAAM;AAEN;;;;;;;;CAQC,GAGD,MAAM,wBAAwB;IAE5B,YAAY,IAAI,EAAE,GAAG,EAAE,SAAS,CAAE;QAChC,MAAM,OAAO,YAAY,OAAO,mCAC9B;QACF,KAAK,CAAC;QACN,IAAI,CAAC,gBAAgB,GAAG,CAAC,CAAC;QAC1B,IAAI,CAAC,IAAI,GAAG;IACd;AACF;AAEA,OAAO,cAAc,CAAC,gBAAgB,SAAS,EAAE,QAAQ;IACvD,OAAO;AACT;AAEA,OAAO,OAAO,GAAG","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 1752, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/backend/node_modules/mongoose/lib/error/strictPopulate.js"],"sourcesContent":["/*!\n * Module dependencies.\n */\n\n'use strict';\n\nconst MongooseError = require('./mongooseError');\n\n/**\n * Strict mode error constructor\n *\n * @param {String} path\n * @param {String} [msg]\n * @inherits MongooseError\n * @api private\n */\n\nclass StrictPopulateError extends MongooseError {\n\n  constructor(path, msg) {\n    msg = msg || 'Cannot populate path `' + path + '` because it is not in your schema. ' + 'Set the `strictPopulate` option to false to override.';\n    super(msg);\n    this.path = path;\n  }\n}\n\nObject.defineProperty(StrictPopulateError.prototype, 'name', {\n  value: 'StrictPopulateError'\n});\n\nmodule.exports = StrictPopulateError;\n"],"names":[],"mappings":"AAAA;;CAEC,GAID,MAAM;AAEN;;;;;;;CAOC,GAED,MAAM,4BAA4B;IAEhC,YAAY,IAAI,EAAE,GAAG,CAAE;QACrB,MAAM,OAAO,2BAA2B,OAAO,yCAAyC;QACxF,KAAK,CAAC;QACN,IAAI,CAAC,IAAI,GAAG;IACd;AACF;AAEA,OAAO,cAAc,CAAC,oBAAoB,SAAS,EAAE,QAAQ;IAC3D,OAAO;AACT;AAEA,OAAO,OAAO,GAAG","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 1777, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/backend/node_modules/mongoose/lib/error/index.js"],"sourcesContent":["'use strict';\n\n/**\n * MongooseError constructor. MongooseError is the base class for all\n * Mongoose-specific errors.\n *\n * #### Example:\n *\n *     const Model = mongoose.model('Test', new mongoose.Schema({ answer: Number }));\n *     const doc = new Model({ answer: 'not a number' });\n *     const err = doc.validateSync();\n *\n *     err instanceof mongoose.Error.ValidationError; // true\n *\n * @constructor Error\n * @param {String} msg Error message\n * @inherits Error https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Error\n */\n\nconst MongooseError = require('./mongooseError');\n\n/**\n * The name of the error. The name uniquely identifies this Mongoose error. The\n * possible values are:\n *\n * - `MongooseError`: general Mongoose error\n * - `CastError`: Mongoose could not convert a value to the type defined in the schema path. May be in a `ValidationError` class' `errors` property.\n * - `DivergentArrayError`: You attempted to `save()` an array that was modified after you loaded it with a `$elemMatch` or similar projection\n * - `MissingSchemaError`: You tried to access a model with [`mongoose.model()`](https://mongoosejs.com/docs/api/mongoose.html#Mongoose.model()) that was not defined\n * - `DocumentNotFoundError`: The document you tried to [`save()`](https://mongoosejs.com/docs/api/document.html#Document.prototype.save()) was not found\n * - `ValidatorError`: error from an individual schema path's validator\n * - `ValidationError`: error returned from [`validate()`](https://mongoosejs.com/docs/api/document.html#Document.prototype.validate()) or [`validateSync()`](https://mongoosejs.com/docs/api/document.html#Document.prototype.validateSync()). Contains zero or more `ValidatorError` instances in `.errors` property.\n * - `MissingSchemaError`: You called `mongoose.Document()` without a schema\n * - `ObjectExpectedError`: Thrown when you set a nested path to a non-object value with [strict mode set](https://mongoosejs.com/docs/guide.html#strict).\n * - `ObjectParameterError`: Thrown when you pass a non-object value to a function which expects an object as a paramter\n * - `OverwriteModelError`: Thrown when you call [`mongoose.model()`](https://mongoosejs.com/docs/api/mongoose.html#Mongoose.model()) to re-define a model that was already defined.\n * - `ParallelSaveError`: Thrown when you call [`save()`](https://mongoosejs.com/docs/api/model.html#Model.prototype.save()) on a document when the same document instance is already saving.\n * - `StrictModeError`: Thrown when you set a path that isn't the schema and [strict mode](https://mongoosejs.com/docs/guide.html#strict) is set to `throw`.\n * - `VersionError`: Thrown when the [document is out of sync](https://mongoosejs.com/docs/guide.html#versionKey)\n *\n * @api public\n * @property {String} name\n * @memberOf Error\n * @instance\n */\n\n/*!\n * Module exports.\n */\n\nmodule.exports = exports = MongooseError;\n\n/**\n * The default built-in validator error messages.\n *\n * @see Error.messages https://mongoosejs.com/docs/api/error.html#Error.messages\n * @api public\n * @memberOf Error\n * @static\n */\n\nMongooseError.messages = require('./messages');\n\n// backward compat\nMongooseError.Messages = MongooseError.messages;\n\n/**\n * An instance of this error class will be thrown when mongoose failed to\n * cast a value.\n *\n * @api public\n * @memberOf Error\n * @static\n */\n\nMongooseError.CastError = require('./cast');\n\n/**\n * An instance of this error class will be thrown when `save()` fails\n * because the underlying\n * document was not found. The constructor takes one parameter, the\n * conditions that mongoose passed to `updateOne()` when trying to update\n * the document.\n *\n * @api public\n * @memberOf Error\n * @static\n */\n\nMongooseError.DocumentNotFoundError = require('./notFound');\n\n/**\n * An instance of this error class will be thrown when [validation](https://mongoosejs.com/docs/validation.html) failed.\n * The `errors` property contains an object whose keys are the paths that failed and whose values are\n * instances of CastError or ValidationError.\n *\n * @api public\n * @memberOf Error\n * @static\n */\n\nMongooseError.ValidationError = require('./validation');\n\n/**\n * A `ValidationError` has a hash of `errors` that contain individual\n * `ValidatorError` instances.\n *\n * #### Example:\n *\n *     const schema = Schema({ name: { type: String, required: true } });\n *     const Model = mongoose.model('Test', schema);\n *     const doc = new Model({});\n *\n *     // Top-level error is a ValidationError, **not** a ValidatorError\n *     const err = doc.validateSync();\n *     err instanceof mongoose.Error.ValidationError; // true\n *\n *     // A ValidationError `err` has 0 or more ValidatorErrors keyed by the\n *     // path in the `err.errors` property.\n *     err.errors['name'] instanceof mongoose.Error.ValidatorError;\n *\n *     err.errors['name'].kind; // 'required'\n *     err.errors['name'].path; // 'name'\n *     err.errors['name'].value; // undefined\n *\n * Instances of `ValidatorError` have the following properties:\n *\n * - `kind`: The validator's `type`, like `'required'` or `'regexp'`\n * - `path`: The path that failed validation\n * - `value`: The value that failed validation\n *\n * @api public\n * @memberOf Error\n * @static\n */\n\nMongooseError.ValidatorError = require('./validator');\n\n/**\n * An instance of this error class will be thrown when you call `save()` after\n * the document in the database was changed in a potentially unsafe way. See\n * the [`versionKey` option](https://mongoosejs.com/docs/guide.html#versionKey) for more information.\n *\n * @api public\n * @memberOf Error\n * @static\n */\n\nMongooseError.VersionError = require('./version');\n\n/**\n * An instance of this error class will be thrown when you call `save()` multiple\n * times on the same document in parallel. See the [FAQ](https://mongoosejs.com/docs/faq.html) for more\n * information.\n *\n * @api public\n * @memberOf Error\n * @static\n */\n\nMongooseError.ParallelSaveError = require('./parallelSave');\n\n/**\n * Thrown when a model with the given name was already registered on the connection.\n * See [the FAQ about `OverwriteModelError`](https://mongoosejs.com/docs/faq.html#overwrite-model-error).\n *\n * @api public\n * @memberOf Error\n * @static\n */\n\nMongooseError.OverwriteModelError = require('./overwriteModel');\n\n/**\n * Thrown when you try to access a model that has not been registered yet\n *\n * @api public\n * @memberOf Error\n * @static\n */\n\nMongooseError.MissingSchemaError = require('./missingSchema');\n\n/**\n * Thrown when some documents failed to save when calling `bulkSave()`\n *\n * @api public\n * @memberOf Error\n * @static\n */\n\nMongooseError.MongooseBulkSaveIncompleteError = require('./bulkSaveIncompleteError');\n\n/**\n * Thrown when the MongoDB Node driver can't connect to a valid server\n * to send an operation to.\n *\n * @api public\n * @memberOf Error\n * @static\n */\n\nMongooseError.MongooseServerSelectionError = require('./serverSelection');\n\n/**\n * An instance of this error will be thrown if you used an array projection\n * and then modified the array in an unsafe way.\n *\n * @api public\n * @memberOf Error\n * @static\n */\n\nMongooseError.DivergentArrayError = require('./divergentArray');\n\n/**\n * Thrown when your try to pass values to model constructor that\n * were not specified in schema or change immutable properties when\n * `strict` mode is `\"throw\"`\n *\n * @api public\n * @memberOf Error\n * @static\n */\n\nMongooseError.StrictModeError = require('./strict');\n\n/**\n * An instance of this error class will be returned when mongoose failed to\n * populate with a path that is not existing.\n *\n * @api public\n * @memberOf Error\n * @static\n */\n\nMongooseError.StrictPopulateError = require('./strictPopulate');\n"],"names":[],"mappings":"AAEA;;;;;;;;;;;;;;;CAeC,GAED,MAAM;AAEN;;;;;;;;;;;;;;;;;;;;;;;CAuBC,GAED;;CAEC,GAED,OAAO,OAAO,GAAG,UAAU;AAE3B;;;;;;;CAOC,GAED,cAAc,QAAQ;AAEtB,kBAAkB;AAClB,cAAc,QAAQ,GAAG,cAAc,QAAQ;AAE/C;;;;;;;CAOC,GAED,cAAc,SAAS;AAEvB;;;;;;;;;;CAUC,GAED,cAAc,qBAAqB;AAEnC;;;;;;;;CAQC,GAED,cAAc,eAAe;AAE7B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CA+BC,GAED,cAAc,cAAc;AAE5B;;;;;;;;CAQC,GAED,cAAc,YAAY;AAE1B;;;;;;;;CAQC,GAED,cAAc,iBAAiB;AAE/B;;;;;;;CAOC,GAED,cAAc,mBAAmB;AAEjC;;;;;;CAMC,GAED,cAAc,kBAAkB;AAEhC;;;;;;CAMC,GAED,cAAc,+BAA+B;AAE7C;;;;;;;CAOC,GAED,cAAc,4BAA4B;AAE1C;;;;;;;CAOC,GAED,cAAc,mBAAmB;AAEjC;;;;;;;;CAQC,GAED,cAAc,eAAe;AAE7B;;;;;;;CAOC,GAED,cAAc,mBAAmB","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 1966, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/backend/node_modules/mongoose/lib/error/objectExpected.js"],"sourcesContent":["/*!\n * Module dependencies.\n */\n\n'use strict';\n\nconst MongooseError = require('./mongooseError');\n\n/**\n * Strict mode error constructor\n *\n * @param {string} type\n * @param {string} value\n * @api private\n */\n\nclass ObjectExpectedError extends MongooseError {\n\n  constructor(path, val) {\n    const typeDescription = Array.isArray(val) ? 'array' : 'primitive value';\n    super('Tried to set nested object field `' + path +\n      `\\` to ${typeDescription} \\`` + val + '`');\n    this.path = path;\n  }\n}\n\nObject.defineProperty(ObjectExpectedError.prototype, 'name', {\n  value: 'ObjectExpectedError'\n});\n\nmodule.exports = ObjectExpectedError;\n"],"names":[],"mappings":"AAAA;;CAEC,GAID,MAAM;AAEN;;;;;;CAMC,GAED,MAAM,4BAA4B;IAEhC,YAAY,IAAI,EAAE,GAAG,CAAE;QACrB,MAAM,kBAAkB,MAAM,OAAO,CAAC,OAAO,UAAU;QACvD,KAAK,CAAC,uCAAuC,OAC3C,CAAC,MAAM,EAAE,gBAAgB,GAAG,CAAC,GAAG,MAAM;QACxC,IAAI,CAAC,IAAI,GAAG;IACd;AACF;AAEA,OAAO,cAAc,CAAC,oBAAoB,SAAS,EAAE,QAAQ;IAC3D,OAAO;AACT;AAEA,OAAO,OAAO,GAAG","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 1990, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/backend/node_modules/mongoose/lib/error/objectParameter.js"],"sourcesContent":["/*!\n * Module dependencies.\n */\n\n'use strict';\n\nconst MongooseError = require('./mongooseError');\n\n/**\n * Constructor for errors that happen when a parameter that's expected to be\n * an object isn't an object\n *\n * @param {Any} value\n * @param {String} paramName\n * @param {String} fnName\n * @api private\n */\n\nclass ObjectParameterError extends MongooseError {\n\n  constructor(value, paramName, fnName) {\n    super('Parameter \"' + paramName + '\" to ' + fnName +\n      '() must be an object, got \"' + value.toString() + '\" (type ' + typeof value + ')');\n  }\n}\n\n\nObject.defineProperty(ObjectParameterError.prototype, 'name', {\n  value: 'ObjectParameterError'\n});\n\nmodule.exports = ObjectParameterError;\n"],"names":[],"mappings":"AAAA;;CAEC,GAID,MAAM;AAEN;;;;;;;;CAQC,GAED,MAAM,6BAA6B;IAEjC,YAAY,KAAK,EAAE,SAAS,EAAE,MAAM,CAAE;QACpC,KAAK,CAAC,gBAAgB,YAAY,UAAU,SAC1C,gCAAgC,MAAM,QAAQ,KAAK,aAAa,OAAO,QAAQ;IACnF;AACF;AAGA,OAAO,cAAc,CAAC,qBAAqB,SAAS,EAAE,QAAQ;IAC5D,OAAO;AACT;AAEA,OAAO,OAAO,GAAG","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 2014, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/backend/node_modules/mongoose/lib/error/parallelValidate.js"],"sourcesContent":["'use strict';\n\n/*!\n * Module dependencies.\n */\n\nconst MongooseError = require('./mongooseError');\n\n\n/**\n * ParallelValidate Error constructor.\n *\n * @param {Document} doc\n * @api private\n */\n\nclass ParallelValidateError extends MongooseError {\n\n  constructor(doc) {\n    const msg = 'Can\\'t validate() the same doc multiple times in parallel. Document: ';\n    super(msg + doc._doc._id);\n  }\n}\n\nObject.defineProperty(ParallelValidateError.prototype, 'name', {\n  value: 'ParallelValidateError'\n});\n\n/*!\n * exports\n */\n\nmodule.exports = ParallelValidateError;\n"],"names":[],"mappings":"AAEA;;CAEC,GAED,MAAM;AAGN;;;;;CAKC,GAED,MAAM,8BAA8B;IAElC,YAAY,GAAG,CAAE;QACf,MAAM,MAAM;QACZ,KAAK,CAAC,MAAM,IAAI,IAAI,CAAC,GAAG;IAC1B;AACF;AAEA,OAAO,cAAc,CAAC,sBAAsB,SAAS,EAAE,QAAQ;IAC7D,OAAO;AACT;AAEA;;CAEC,GAED,OAAO,OAAO,GAAG","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 2038, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/backend/node_modules/mongoose/lib/error/invalidSchemaOption.js"],"sourcesContent":["\n/*!\n * Module dependencies.\n */\n\n'use strict';\n\nconst MongooseError = require('./mongooseError');\n\n/**\n * InvalidSchemaOption Error constructor.\n * @param {String} name\n * @api private\n */\n\nclass InvalidSchemaOptionError extends MongooseError {\n\n  constructor(name, option) {\n    const msg = `Cannot create use schema for property \"${name}\" because the schema has the ${option} option enabled.`;\n    super(msg);\n  }\n}\n\nObject.defineProperty(InvalidSchemaOptionError.prototype, 'name', {\n  value: 'InvalidSchemaOptionError'\n});\n\n/*!\n * exports\n */\n\nmodule.exports = InvalidSchemaOptionError;\n"],"names":[],"mappings":"AACA;;CAEC,GAID,MAAM;AAEN;;;;CAIC,GAED,MAAM,iCAAiC;IAErC,YAAY,IAAI,EAAE,MAAM,CAAE;QACxB,MAAM,MAAM,CAAC,uCAAuC,EAAE,KAAK,6BAA6B,EAAE,OAAO,gBAAgB,CAAC;QAClH,KAAK,CAAC;IACR;AACF;AAEA,OAAO,cAAc,CAAC,yBAAyB,SAAS,EAAE,QAAQ;IAChE,OAAO;AACT;AAEA;;CAEC,GAED,OAAO,OAAO,GAAG","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 2061, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/backend/node_modules/mongoose/lib/error/bulkWriteError.js"],"sourcesContent":["/*!\n * Module dependencies.\n */\n\n'use strict';\n\nconst MongooseError = require('./');\n\n\n/**\n * If `bulkWrite()` or `insertMany()` has validation errors, but\n * all valid operations succeed, and 'throwOnValidationError' is true,\n * Mongoose will throw this error.\n *\n * @api private\n */\n\nclass MongooseBulkWriteError extends MongooseError {\n  constructor(validationErrors, results, rawResult, operation) {\n    let preview = validationErrors.map(e => e.message).join(', ');\n    if (preview.length > 200) {\n      preview = preview.slice(0, 200) + '...';\n    }\n    super(`${operation} failed with ${validationErrors.length} Mongoose validation errors: ${preview}`);\n\n    this.validationErrors = validationErrors;\n    this.results = results;\n    this.rawResult = rawResult;\n    this.operation = operation;\n  }\n}\n\nObject.defineProperty(MongooseBulkWriteError.prototype, 'name', {\n  value: 'MongooseBulkWriteError'\n});\n\n/*!\n * exports\n */\n\nmodule.exports = MongooseBulkWriteError;\n"],"names":[],"mappings":"AAAA;;CAEC,GAID,MAAM;AAGN;;;;;;CAMC,GAED,MAAM,+BAA+B;IACnC,YAAY,gBAAgB,EAAE,OAAO,EAAE,SAAS,EAAE,SAAS,CAAE;QAC3D,IAAI,UAAU,iBAAiB,GAAG,CAAC,CAAA,IAAK,EAAE,OAAO,EAAE,IAAI,CAAC;QACxD,IAAI,QAAQ,MAAM,GAAG,KAAK;YACxB,UAAU,QAAQ,KAAK,CAAC,GAAG,OAAO;QACpC;QACA,KAAK,CAAC,GAAG,UAAU,aAAa,EAAE,iBAAiB,MAAM,CAAC,6BAA6B,EAAE,SAAS;QAElG,IAAI,CAAC,gBAAgB,GAAG;QACxB,IAAI,CAAC,OAAO,GAAG;QACf,IAAI,CAAC,SAAS,GAAG;QACjB,IAAI,CAAC,SAAS,GAAG;IACnB;AACF;AAEA,OAAO,cAAc,CAAC,uBAAuB,SAAS,EAAE,QAAQ;IAC9D,OAAO;AACT;AAEA;;CAEC,GAED,OAAO,OAAO,GAAG","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 2093, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/backend/node_modules/mongoose/lib/error/syncIndexes.js"],"sourcesContent":["'use strict';\n\n/*!\n * Module dependencies.\n */\n\nconst MongooseError = require('./mongooseError');\n\n/**\n * SyncIndexes Error constructor.\n *\n * @param {String} message\n * @param {String} errorsMap\n * @inherits MongooseError\n * @api private\n */\n\nclass SyncIndexesError extends MongooseError {\n  constructor(message, errorsMap) {\n    super(message);\n    this.errors = errorsMap;\n  }\n}\n\nObject.defineProperty(SyncIndexesError.prototype, 'name', {\n  value: 'SyncIndexesError'\n});\n\n\nmodule.exports = SyncIndexesError;\n"],"names":[],"mappings":"AAEA;;CAEC,GAED,MAAM;AAEN;;;;;;;CAOC,GAED,MAAM,yBAAyB;IAC7B,YAAY,OAAO,EAAE,SAAS,CAAE;QAC9B,KAAK,CAAC;QACN,IAAI,CAAC,MAAM,GAAG;IAChB;AACF;AAEA,OAAO,cAAc,CAAC,iBAAiB,SAAS,EAAE,QAAQ;IACxD,OAAO;AACT;AAGA,OAAO,OAAO,GAAG","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 2117, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/backend/node_modules/mongoose/lib/error/createCollectionsError.js"],"sourcesContent":["'use strict';\n\nconst MongooseError = require('./mongooseError');\n\n/**\n * createCollections Error constructor\n *\n * @param {String} message\n * @param {String} errorsMap\n * @inherits MongooseError\n * @api private\n */\n\nclass CreateCollectionsError extends MongooseError {\n  constructor(message, errorsMap) {\n    super(message);\n    this.errors = errorsMap;\n  }\n}\n\nObject.defineProperty(CreateCollectionsError.prototype, 'name', {\n  value: 'CreateCollectionsError'\n});\n\nmodule.exports = CreateCollectionsError;\n\n"],"names":[],"mappings":"AAEA,MAAM;AAEN;;;;;;;CAOC,GAED,MAAM,+BAA+B;IACnC,YAAY,OAAO,EAAE,SAAS,CAAE;QAC9B,KAAK,CAAC;QACN,IAAI,CAAC,MAAM,GAAG;IAChB;AACF;AAEA,OAAO,cAAc,CAAC,uBAAuB,SAAS,EAAE,QAAQ;IAC9D,OAAO;AACT;AAEA,OAAO,OAAO,GAAG","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 2139, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/backend/node_modules/mongoose/lib/error/eachAsyncMultiError.js"],"sourcesContent":["/*!\n * Module dependencies.\n */\n\n'use strict';\n\nconst MongooseError = require('./mongooseError');\n\n\n/**\n * If `eachAsync()` is called with `continueOnError: true`, there can be\n * multiple errors. This error class contains an `errors` property, which\n * contains an array of all errors that occurred in `eachAsync()`.\n *\n * @api private\n */\n\nclass EachAsyncMultiError extends MongooseError {\n  /**\n   * @param {String} connectionString\n   */\n  constructor(errors) {\n    let preview = errors.map(e => e.message).join(', ');\n    if (preview.length > 50) {\n      preview = preview.slice(0, 50) + '...';\n    }\n    super(`eachAsync() finished with ${errors.length} errors: ${preview}`);\n\n    this.errors = errors;\n  }\n}\n\nObject.defineProperty(EachAsyncMultiError.prototype, 'name', {\n  value: 'EachAsyncMultiError'\n});\n\n/*!\n * exports\n */\n\nmodule.exports = EachAsyncMultiError;\n"],"names":[],"mappings":"AAAA;;CAEC,GAID,MAAM;AAGN;;;;;;CAMC,GAED,MAAM,4BAA4B;IAChC;;GAEC,GACD,YAAY,MAAM,CAAE;QAClB,IAAI,UAAU,OAAO,GAAG,CAAC,CAAA,IAAK,EAAE,OAAO,EAAE,IAAI,CAAC;QAC9C,IAAI,QAAQ,MAAM,GAAG,IAAI;YACvB,UAAU,QAAQ,KAAK,CAAC,GAAG,MAAM;QACnC;QACA,KAAK,CAAC,CAAC,0BAA0B,EAAE,OAAO,MAAM,CAAC,SAAS,EAAE,SAAS;QAErE,IAAI,CAAC,MAAM,GAAG;IAChB;AACF;AAEA,OAAO,cAAc,CAAC,oBAAoB,SAAS,EAAE,QAAQ;IAC3D,OAAO;AACT;AAEA;;CAEC,GAED,OAAO,OAAO,GAAG","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 2170, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/backend/node_modules/mongoose/lib/error/setOptionError.js"],"sourcesContent":["/*!\n * Module requirements\n */\n\n'use strict';\n\nconst MongooseError = require('./mongooseError');\nconst util = require('util');\nconst combinePathErrors = require('../helpers/error/combinePathErrors');\n\n/**\n * Mongoose.set Error\n *\n * @api private\n * @inherits MongooseError\n */\n\nclass SetOptionError extends MongooseError {\n\n  constructor() {\n    super('');\n\n    this.errors = {};\n  }\n\n  /**\n   * Console.log helper\n   */\n  toString() {\n    return combinePathErrors(this);\n  }\n\n  /**\n   * inspect helper\n   * @api private\n   */\n  inspect() {\n    return Object.assign(new Error(this.message), this);\n  }\n\n  /**\n  * add message\n  * @param {String} key\n  * @param {String|Error} error\n  * @api private\n  */\n  addError(key, error) {\n    if (error instanceof SetOptionError) {\n      const { errors } = error;\n      for (const optionKey of Object.keys(errors)) {\n        this.addError(optionKey, errors[optionKey]);\n      }\n\n      return;\n    }\n\n    this.errors[key] = error;\n    this.message = combinePathErrors(this);\n  }\n}\n\n\nif (util.inspect.custom) {\n  // Avoid Node deprecation warning DEP0079\n  SetOptionError.prototype[util.inspect.custom] = SetOptionError.prototype.inspect;\n}\n\n/**\n * Helper for JSON.stringify\n * Ensure `name` and `message` show up in toJSON output re: gh-9847\n * @api private\n */\nObject.defineProperty(SetOptionError.prototype, 'toJSON', {\n  enumerable: false,\n  writable: false,\n  configurable: true,\n  value: function() {\n    return Object.assign({}, this, { name: this.name, message: this.message });\n  }\n});\n\n\nObject.defineProperty(SetOptionError.prototype, 'name', {\n  value: 'SetOptionError'\n});\n\nclass SetOptionInnerError extends MongooseError {\n  /**\n   * Error for the \"errors\" array in \"SetOptionError\" with consistent message\n   * @param {String} key\n   */\n  constructor(key) {\n    super(`\"${key}\" is not a valid option to set`);\n  }\n}\n\nSetOptionError.SetOptionInnerError = SetOptionInnerError;\n\n/*!\n * Module exports\n */\n\nmodule.exports = SetOptionError;\n"],"names":[],"mappings":"AAAA;;CAEC,GAID,MAAM;AACN,MAAM;AACN,MAAM;AAEN;;;;;CAKC,GAED,MAAM,uBAAuB;IAE3B,aAAc;QACZ,KAAK,CAAC;QAEN,IAAI,CAAC,MAAM,GAAG,CAAC;IACjB;IAEA;;GAEC,GACD,WAAW;QACT,OAAO,kBAAkB,IAAI;IAC/B;IAEA;;;GAGC,GACD,UAAU;QACR,OAAO,OAAO,MAAM,CAAC,IAAI,MAAM,IAAI,CAAC,OAAO,GAAG,IAAI;IACpD;IAEA;;;;;EAKA,GACA,SAAS,GAAG,EAAE,KAAK,EAAE;QACnB,IAAI,iBAAiB,gBAAgB;YACnC,MAAM,EAAE,MAAM,EAAE,GAAG;YACnB,KAAK,MAAM,aAAa,OAAO,IAAI,CAAC,QAAS;gBAC3C,IAAI,CAAC,QAAQ,CAAC,WAAW,MAAM,CAAC,UAAU;YAC5C;YAEA;QACF;QAEA,IAAI,CAAC,MAAM,CAAC,IAAI,GAAG;QACnB,IAAI,CAAC,OAAO,GAAG,kBAAkB,IAAI;IACvC;AACF;AAGA,IAAI,KAAK,OAAO,CAAC,MAAM,EAAE;IACvB,yCAAyC;IACzC,eAAe,SAAS,CAAC,KAAK,OAAO,CAAC,MAAM,CAAC,GAAG,eAAe,SAAS,CAAC,OAAO;AAClF;AAEA;;;;CAIC,GACD,OAAO,cAAc,CAAC,eAAe,SAAS,EAAE,UAAU;IACxD,YAAY;IACZ,UAAU;IACV,cAAc;IACd,OAAO;QACL,OAAO,OAAO,MAAM,CAAC,CAAC,GAAG,IAAI,EAAE;YAAE,MAAM,IAAI,CAAC,IAAI;YAAE,SAAS,IAAI,CAAC,OAAO;QAAC;IAC1E;AACF;AAGA,OAAO,cAAc,CAAC,eAAe,SAAS,EAAE,QAAQ;IACtD,OAAO;AACT;AAEA,MAAM,4BAA4B;IAChC;;;GAGC,GACD,YAAY,GAAG,CAAE;QACf,KAAK,CAAC,CAAC,CAAC,EAAE,IAAI,8BAA8B,CAAC;IAC/C;AACF;AAEA,eAAe,mBAAmB,GAAG;AAErC;;CAEC,GAED,OAAO,OAAO,GAAG","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 2251, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/backend/node_modules/mongoose/lib/types/objectid.js"],"sourcesContent":["/**\n * ObjectId type constructor\n *\n * #### Example:\n *\n *     const id = new mongoose.Types.ObjectId;\n *\n * @constructor ObjectId\n */\n\n'use strict';\n\nconst ObjectId = require('bson').ObjectId;\nconst objectIdSymbol = require('../helpers/symbols').objectIdSymbol;\n\n/**\n * Getter for convenience with populate, see gh-6115\n * @api private\n */\n\nObject.defineProperty(ObjectId.prototype, '_id', {\n  enumerable: false,\n  configurable: true,\n  get: function() {\n    return this;\n  }\n});\n\n/*!\n * Convenience `valueOf()` to allow comparing ObjectIds using double equals re: gh-7299\n */\n\nif (!ObjectId.prototype.hasOwnProperty('valueOf')) {\n  ObjectId.prototype.valueOf = function objectIdValueOf() {\n    return this.toString();\n  };\n}\n\nObjectId.prototype[objectIdSymbol] = true;\n\nmodule.exports = ObjectId;\n"],"names":[],"mappings":"AAAA;;;;;;;;CAQC,GAID,MAAM,WAAW,+FAAgB,QAAQ;AACzC,MAAM,iBAAiB,6GAA8B,cAAc;AAEnE;;;CAGC,GAED,OAAO,cAAc,CAAC,SAAS,SAAS,EAAE,OAAO;IAC/C,YAAY;IACZ,cAAc;IACd,KAAK;QACH,OAAO,IAAI;IACb;AACF;AAEA;;CAEC,GAED,IAAI,CAAC,SAAS,SAAS,CAAC,cAAc,CAAC,YAAY;IACjD,SAAS,SAAS,CAAC,OAAO,GAAG,SAAS;QACpC,OAAO,IAAI,CAAC,QAAQ;IACtB;AACF;AAEA,SAAS,SAAS,CAAC,eAAe,GAAG;AAErC,OAAO,OAAO,GAAG","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 2284, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/backend/node_modules/mongoose/lib/types/decimal128.js"],"sourcesContent":["/**\n * Decimal128 type constructor\n *\n * #### Example:\n *\n *     const id = new mongoose.Types.Decimal128('3.1415');\n *\n * @constructor Decimal128\n */\n\n'use strict';\n\nmodule.exports = require('bson').Decimal128;\n"],"names":[],"mappings":"AAAA;;;;;;;;CAQC,GAID,OAAO,OAAO,GAAG,+FAAgB,UAAU","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 2297, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/backend/node_modules/mongoose/lib/types/array/isMongooseArray.js"],"sourcesContent":["'use strict';\n\nexports.isMongooseArray = function(mongooseArray) {\n  return Array.isArray(mongooseArray) && mongooseArray.isMongooseArray;\n};\n"],"names":[],"mappings":"AAEA,QAAQ,eAAe,GAAG,SAAS,aAAa;IAC9C,OAAO,MAAM,OAAO,CAAC,kBAAkB,cAAc,eAAe;AACtE","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 2304, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/backend/node_modules/mongoose/lib/types/documentArray/isMongooseDocumentArray.js"],"sourcesContent":["'use strict';\n\nexports.isMongooseDocumentArray = function(mongooseDocumentArray) {\n  return Array.isArray(mongooseDocumentArray) && mongooseDocumentArray.isMongooseDocumentArray;\n};\n"],"names":[],"mappings":"AAEA,QAAQ,uBAAuB,GAAG,SAAS,qBAAqB;IAC9D,OAAO,MAAM,OAAO,CAAC,0BAA0B,sBAAsB,uBAAuB;AAC9F","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 2311, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/backend/node_modules/mongoose/lib/types/buffer.js"],"sourcesContent":["/*!\n * Module dependencies.\n */\n\n'use strict';\n\nconst Binary = require('bson').Binary;\nconst UUID = require('bson').UUID;\nconst utils = require('../utils');\n\n/**\n * Mongoose Buffer constructor.\n *\n * Values always have to be passed to the constructor to initialize.\n *\n * @param {Buffer} value\n * @param {String} encode\n * @param {Number} offset\n * @api private\n * @inherits Buffer https://nodejs.org/api/buffer.html\n * @see https://bit.ly/f6CnZU\n */\n\nfunction MongooseBuffer(value, encode, offset) {\n  let val = value;\n  if (value == null) {\n    val = 0;\n  }\n\n  let encoding;\n  let path;\n  let doc;\n\n  if (Array.isArray(encode)) {\n    // internal casting\n    path = encode[0];\n    doc = encode[1];\n  } else {\n    encoding = encode;\n  }\n\n  let buf;\n  if (typeof val === 'number' || val instanceof Number) {\n    buf = Buffer.alloc(val);\n  } else { // string, array or object { type: 'Buffer', data: [...] }\n    buf = Buffer.from(val, encoding, offset);\n  }\n  utils.decorate(buf, MongooseBuffer.mixin);\n  buf.isMongooseBuffer = true;\n\n  // make sure these internal props don't show up in Object.keys()\n  buf[MongooseBuffer.pathSymbol] = path;\n  buf[parentSymbol] = doc;\n\n  buf._subtype = 0;\n  return buf;\n}\n\nconst pathSymbol = Symbol.for('mongoose#Buffer#_path');\nconst parentSymbol = Symbol.for('mongoose#Buffer#_parent');\nMongooseBuffer.pathSymbol = pathSymbol;\n\n/*!\n * Inherit from Buffer.\n */\n\nMongooseBuffer.mixin = {\n\n  /**\n   * Default subtype for the Binary representing this Buffer\n   *\n   * @api private\n   * @property _subtype\n   * @memberOf MongooseBuffer.mixin\n   * @static\n   */\n\n  _subtype: undefined,\n\n  /**\n   * Marks this buffer as modified.\n   *\n   * @api private\n   * @method _markModified\n   * @memberOf MongooseBuffer.mixin\n   * @static\n   */\n\n  _markModified: function() {\n    const parent = this[parentSymbol];\n\n    if (parent) {\n      parent.markModified(this[MongooseBuffer.pathSymbol]);\n    }\n    return this;\n  },\n\n  /**\n   * Writes the buffer.\n   *\n   * @api public\n   * @method write\n   * @memberOf MongooseBuffer.mixin\n   * @static\n   */\n\n  write: function() {\n    const written = Buffer.prototype.write.apply(this, arguments);\n\n    if (written > 0) {\n      this._markModified();\n    }\n\n    return written;\n  },\n\n  /**\n   * Copies the buffer.\n   *\n   * #### Note:\n   *\n   * `Buffer#copy` does not mark `target` as modified so you must copy from a `MongooseBuffer` for it to work as expected. This is a work around since `copy` modifies the target, not this.\n   *\n   * @return {Number} The number of bytes copied.\n   * @param {Buffer} target\n   * @method copy\n   * @memberOf MongooseBuffer.mixin\n   * @static\n   */\n\n  copy: function(target) {\n    const ret = Buffer.prototype.copy.apply(this, arguments);\n\n    if (target && target.isMongooseBuffer) {\n      target._markModified();\n    }\n\n    return ret;\n  }\n};\n\n/*!\n * Compile other Buffer methods marking this buffer as modified.\n */\n\nutils.each(\n  [\n    // node < 0.5\n    'writeUInt8', 'writeUInt16', 'writeUInt32', 'writeInt8', 'writeInt16', 'writeInt32',\n    'writeFloat', 'writeDouble', 'fill',\n    'utf8Write', 'binaryWrite', 'asciiWrite', 'set',\n\n    // node >= 0.5\n    'writeUInt16LE', 'writeUInt16BE', 'writeUInt32LE', 'writeUInt32BE',\n    'writeInt16LE', 'writeInt16BE', 'writeInt32LE', 'writeInt32BE', 'writeFloatLE', 'writeFloatBE', 'writeDoubleLE', 'writeDoubleBE']\n  , function(method) {\n    if (!Buffer.prototype[method]) {\n      return;\n    }\n    MongooseBuffer.mixin[method] = function() {\n      const ret = Buffer.prototype[method].apply(this, arguments);\n      this._markModified();\n      return ret;\n    };\n  });\n\n/**\n * Converts this buffer to its Binary type representation.\n *\n * #### SubTypes:\n *\n *     const bson = require('bson')\n *     bson.BSON_BINARY_SUBTYPE_DEFAULT\n *     bson.BSON_BINARY_SUBTYPE_FUNCTION\n *     bson.BSON_BINARY_SUBTYPE_BYTE_ARRAY\n *     bson.BSON_BINARY_SUBTYPE_UUID\n *     bson.BSON_BINARY_SUBTYPE_MD5\n *     bson.BSON_BINARY_SUBTYPE_USER_DEFINED\n *     doc.buffer.toObject(bson.BSON_BINARY_SUBTYPE_USER_DEFINED);\n *\n * @see bsonspec https://bsonspec.org/#/specification\n * @param {Hex} [subtype]\n * @return {Binary}\n * @api public\n * @method toObject\n * @memberOf MongooseBuffer\n */\n\nMongooseBuffer.mixin.toObject = function(options) {\n  const subtype = typeof options === 'number'\n    ? options\n    : (this._subtype || 0);\n  return new Binary(Buffer.from(this), subtype);\n};\n\nMongooseBuffer.mixin.$toObject = MongooseBuffer.mixin.toObject;\n\n/**\n * Converts this buffer for storage in MongoDB, including subtype\n *\n * @return {Binary}\n * @api public\n * @method toBSON\n * @memberOf MongooseBuffer\n */\n\nMongooseBuffer.mixin.toBSON = function() {\n  return new Binary(this, this._subtype || 0);\n};\n\n/**\n * Converts this buffer to a UUID. Throws an error if subtype is not 4.\n *\n * @return {UUID}\n * @api public\n * @method toUUID\n * @memberOf MongooseBuffer\n */\n\nMongooseBuffer.mixin.toUUID = function() {\n  if (this._subtype !== 4) {\n    throw new Error('Cannot convert a Buffer with subtype ' + this._subtype + ' to a UUID');\n  }\n  return new UUID(this);\n};\n\n/**\n * Determines if this buffer is equals to `other` buffer\n *\n * @param {Buffer} other\n * @return {Boolean}\n * @method equals\n * @memberOf MongooseBuffer\n */\n\nMongooseBuffer.mixin.equals = function(other) {\n  if (!Buffer.isBuffer(other)) {\n    return false;\n  }\n\n  if (this.length !== other.length) {\n    return false;\n  }\n\n  for (let i = 0; i < this.length; ++i) {\n    if (this[i] !== other[i]) {\n      return false;\n    }\n  }\n\n  return true;\n};\n\n/**\n * Sets the subtype option and marks the buffer modified.\n *\n * #### SubTypes:\n *\n *     const bson = require('bson')\n *     bson.BSON_BINARY_SUBTYPE_DEFAULT\n *     bson.BSON_BINARY_SUBTYPE_FUNCTION\n *     bson.BSON_BINARY_SUBTYPE_BYTE_ARRAY\n *     bson.BSON_BINARY_SUBTYPE_UUID\n *     bson.BSON_BINARY_SUBTYPE_MD5\n *     bson.BSON_BINARY_SUBTYPE_USER_DEFINED\n *\n *     doc.buffer.subtype(bson.BSON_BINARY_SUBTYPE_UUID);\n *\n * @see bsonspec https://bsonspec.org/#/specification\n * @param {Hex} subtype\n * @api public\n * @method subtype\n * @memberOf MongooseBuffer\n */\n\nMongooseBuffer.mixin.subtype = function(subtype) {\n  if (typeof subtype !== 'number') {\n    throw new TypeError('Invalid subtype. Expected a number');\n  }\n\n  if (this._subtype !== subtype) {\n    this._markModified();\n  }\n\n  this._subtype = subtype;\n};\n\n/*!\n * Module exports.\n */\n\nMongooseBuffer.Binary = Binary;\n\nmodule.exports = MongooseBuffer;\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 2564, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/backend/node_modules/mongoose/lib/types/subdocument.js"],"sourcesContent":["'use strict';\n\nconst Document = require('../document');\nconst immediate = require('../helpers/immediate');\nconst internalToObjectOptions = require('../options').internalToObjectOptions;\nconst util = require('util');\nconst utils = require('../utils');\n\nmodule.exports = Subdocument;\n\n/**\n * Subdocument constructor.\n *\n * @inherits Document\n * @api private\n */\n\nfunction Subdocument(value, fields, parent, skipId, options) {\n  if (typeof skipId === 'object' && skipId != null && options == null) {\n    options = skipId;\n    skipId = undefined;\n  }\n  if (parent != null) {\n    // If setting a nested path, should copy isNew from parent re: gh-7048\n    const parentOptions = { isNew: parent.isNew };\n    if ('defaults' in parent.$__) {\n      parentOptions.defaults = parent.$__.defaults;\n    }\n    options = Object.assign(parentOptions, options);\n  }\n  if (options != null && options.path != null) {\n    this.$basePath = options.path;\n  }\n  if (options != null && options.pathRelativeToParent != null) {\n    this.$pathRelativeToParent = options.pathRelativeToParent;\n  }\n\n  // Don't pass `path` to Document constructor: path is used for storing the\n  // absolute path to this schematype relative to the top-level document, but\n  // subdocuments use relative paths (relative to the parent document) to track changes.\n  // This avoids the subdocument's fields receiving the subdocument's path as options.path.\n  let documentOptions = options;\n  if (options != null && options.path != null) {\n    documentOptions = Object.assign({}, options);\n    delete documentOptions.path;\n  }\n\n  Document.call(this, value, fields, skipId, documentOptions);\n\n  delete this.$__.priorDoc;\n}\n\nSubdocument.prototype = Object.create(Document.prototype);\n\nObject.defineProperty(Subdocument.prototype, '$isSubdocument', {\n  configurable: false,\n  writable: false,\n  value: true\n});\n\nObject.defineProperty(Subdocument.prototype, '$isSingleNested', {\n  configurable: false,\n  writable: false,\n  value: true\n});\n\n/*!\n * ignore\n */\n\nSubdocument.prototype.toBSON = function() {\n  return this.toObject(internalToObjectOptions);\n};\n\n/**\n * Used as a stub for middleware\n *\n * #### Note:\n *\n * _This is a no-op. Does not actually save the doc to the db._\n *\n * @param {Function} [fn]\n * @return {Promise} resolved Promise\n * @api private\n */\n\nSubdocument.prototype.save = async function save(options) {\n  options = options || {};\n\n  if (!options.suppressWarning) {\n    utils.warn('mongoose: calling `save()` on a subdoc does **not** save ' +\n      'the document to MongoDB, it only runs save middleware. ' +\n      'Use `subdoc.save({ suppressWarning: true })` to hide this warning ' +\n      'if you\\'re sure this behavior is right for your app.');\n  }\n\n  return new Promise((resolve, reject) => {\n    this.$__save((err) => {\n      if (err != null) {\n        return reject(err);\n      }\n      resolve(this);\n    });\n  });\n};\n\n/**\n * Given a path relative to this document, return the path relative\n * to the top-level document.\n * @param {String} path\n * @method $__fullPath\n * @memberOf Subdocument\n * @instance\n * @returns {String}\n * @api private\n */\n\nSubdocument.prototype.$__fullPath = function(path) {\n  if (!this.$__.fullPath) {\n    this.ownerDocument();\n  }\n\n  return path ?\n    this.$__.fullPath + '.' + path :\n    this.$__.fullPath;\n};\n\n/**\n * Given a path relative to this document, return the path relative\n * to the parent document.\n * @param {String} p\n * @returns {String}\n * @method $__pathRelativeToParent\n * @memberOf Subdocument\n * @instance\n * @api private\n */\n\nSubdocument.prototype.$__pathRelativeToParent = function(p) {\n  // If this subdocument has a stored relative path (set by map when subdoc is created),\n  // use it directly to avoid string operations\n  if (this.$pathRelativeToParent != null) {\n    return p == null ? this.$pathRelativeToParent : this.$pathRelativeToParent + '.' + p;\n  }\n\n  if (p == null) {\n    return this.$basePath;\n  }\n  if (!this.$basePath) {\n    return p;\n  }\n  return [this.$basePath, p].join('.');\n};\n\n/**\n * Used as a stub for middleware\n *\n * #### Note:\n *\n * _This is a no-op. Does not actually save the doc to the db._\n *\n * @param {Function} [fn]\n * @method $__save\n * @api private\n */\n\nSubdocument.prototype.$__save = function(fn) {\n  return immediate(() => fn(null, this));\n};\n\n/*!\n * ignore\n */\n\nSubdocument.prototype.$isValid = function(path) {\n  const parent = this.$parent();\n  const fullPath = this.$__pathRelativeToParent(path);\n  if (parent != null && fullPath != null) {\n    return parent.$isValid(fullPath);\n  }\n  return Document.prototype.$isValid.call(this, path);\n};\n\n/*!\n * ignore\n */\n\nSubdocument.prototype.markModified = function(path) {\n  Document.prototype.markModified.call(this, path);\n  const parent = this.$parent();\n\n  if (parent == null) {\n    return;\n  }\n\n  const pathToMark = this.$__pathRelativeToParent(path);\n  if (pathToMark == null) {\n    return;\n  }\n\n  const myPath = this.$__pathRelativeToParent().replace(/\\.$/, '');\n  if (parent.isDirectModified(myPath) || this.isNew) {\n    return;\n  }\n\n  this.$__parent.markModified(pathToMark, this);\n};\n\n/*!\n * ignore\n */\n\nSubdocument.prototype.isModified = function(paths, options, modifiedPaths) {\n  const parent = this.$parent();\n  if (parent != null) {\n    if (Array.isArray(paths) || typeof paths === 'string') {\n      paths = (Array.isArray(paths) ? paths : paths.split(' '));\n      paths = paths.map(p => this.$__pathRelativeToParent(p)).filter(p => p != null);\n    } else if (!paths) {\n      paths = this.$__pathRelativeToParent();\n    }\n\n    return parent.$isModified(paths, options, modifiedPaths);\n  }\n\n  return Document.prototype.isModified.call(this, paths, options, modifiedPaths);\n};\n\n/**\n * Marks a path as valid, removing existing validation errors.\n *\n * @param {String} path the field to mark as valid\n * @api private\n * @method $markValid\n * @memberOf Subdocument\n */\n\nSubdocument.prototype.$markValid = function(path) {\n  Document.prototype.$markValid.call(this, path);\n  const parent = this.$parent();\n  const fullPath = this.$__pathRelativeToParent(path);\n  if (parent != null && fullPath != null) {\n    parent.$markValid(fullPath);\n  }\n};\n\n/*!\n * ignore\n */\n\nSubdocument.prototype.invalidate = function(path, err, val) {\n  Document.prototype.invalidate.call(this, path, err, val);\n\n  const parent = this.$parent();\n  const fullPath = this.$__pathRelativeToParent(path);\n  if (parent != null && fullPath != null) {\n    parent.invalidate(fullPath, err, val);\n  } else if (err.kind === 'cast' || err.name === 'CastError' || fullPath == null) {\n    throw err;\n  }\n\n  return this.ownerDocument().$__.validationError;\n};\n\n/*!\n * ignore\n */\n\nSubdocument.prototype.$ignore = function(path) {\n  Document.prototype.$ignore.call(this, path);\n  const parent = this.$parent();\n  const fullPath = this.$__pathRelativeToParent(path);\n  if (parent != null && fullPath != null) {\n    parent.$ignore(fullPath);\n  }\n};\n\n/**\n * Returns the top level document of this sub-document.\n *\n * @return {Document}\n */\n\nSubdocument.prototype.ownerDocument = function() {\n  if (this.$__.ownerDocument) {\n    return this.$__.ownerDocument;\n  }\n\n  let parent = this; // eslint-disable-line consistent-this\n  const paths = [];\n  const seenDocs = new Set([parent]);\n\n  while (true) {\n    if (typeof parent.$__pathRelativeToParent !== 'function') {\n      break;\n    }\n    paths.unshift(parent.$__pathRelativeToParent(void 0, true));\n    const _parent = parent.$parent();\n    if (_parent == null) {\n      break;\n    }\n    parent = _parent;\n    if (seenDocs.has(parent)) {\n      throw new Error('Infinite subdocument loop: subdoc with _id ' + parent._id + ' is a parent of itself');\n    }\n\n    seenDocs.add(parent);\n  }\n\n  this.$__.fullPath = paths.join('.');\n\n  this.$__.ownerDocument = parent;\n  return this.$__.ownerDocument;\n};\n\n/*!\n * ignore\n */\n\nSubdocument.prototype.$__fullPathWithIndexes = function() {\n  let parent = this; // eslint-disable-line consistent-this\n  const paths = [];\n  const seenDocs = new Set([parent]);\n\n  while (true) {\n    if (typeof parent.$__pathRelativeToParent !== 'function') {\n      break;\n    }\n    paths.unshift(parent.$__pathRelativeToParent(void 0, false));\n    const _parent = parent.$parent();\n    if (_parent == null) {\n      break;\n    }\n    parent = _parent;\n    if (seenDocs.has(parent)) {\n      throw new Error('Infinite subdocument loop: subdoc with _id ' + parent._id + ' is a parent of itself');\n    }\n\n    seenDocs.add(parent);\n  }\n\n  return paths.join('.');\n};\n\n/**\n * Returns this sub-documents parent document.\n *\n * @api public\n */\n\nSubdocument.prototype.parent = function() {\n  return this.$__parent;\n};\n\n/**\n * Returns this sub-documents parent document.\n *\n * @api public\n * @method $parent\n */\n\nSubdocument.prototype.$parent = Subdocument.prototype.parent;\n\n/**\n * no-op for hooks\n * @param {Function} cb\n * @method $__deleteOne\n * @memberOf Subdocument\n * @instance\n * @api private\n */\n\nSubdocument.prototype.$__deleteOne = function(cb) {\n  if (cb == null) {\n    return;\n  }\n  return cb(null, this);\n};\n\n/**\n * ignore\n * @method $__removeFromParent\n * @memberOf Subdocument\n * @instance\n * @api private\n */\n\nSubdocument.prototype.$__removeFromParent = function() {\n  this.$__parent.set(this.$basePath, null);\n};\n\n/**\n * Null-out this subdoc\n *\n * @param {Object} [options]\n * @param {Function} [callback] optional callback for compatibility with Document.prototype.remove\n */\n\nSubdocument.prototype.deleteOne = function(options, callback) {\n  if (typeof options === 'function') {\n    callback = options;\n    options = null;\n  }\n  registerRemoveListener(this);\n\n  // If removing entire doc, no need to remove subdoc\n  if (!options || !options.noop) {\n    this.$__removeFromParent();\n\n    const owner = this.ownerDocument();\n    owner.$__.removedSubdocs = owner.$__.removedSubdocs || [];\n    owner.$__.removedSubdocs.push(this);\n  }\n\n  return this.$__deleteOne(callback);\n};\n\n/*!\n * ignore\n */\n\nSubdocument.prototype.populate = function() {\n  throw new Error('Mongoose does not support calling populate() on nested ' +\n    'docs. Instead of `doc.nested.populate(\"path\")`, use ' +\n    '`doc.populate(\"nested.path\")`');\n};\n\n/**\n * Helper for console.log\n *\n * @api public\n */\n\nSubdocument.prototype.inspect = function() {\n  return this.toObject();\n};\n\nif (util.inspect.custom) {\n  // Avoid Node deprecation warning DEP0079\n  Subdocument.prototype[util.inspect.custom] = Subdocument.prototype.inspect;\n}\n\n/**\n * Override `$toObject()` to handle minimizing the whole path. Should not minimize if schematype-level minimize\n * is set to false re: gh-11247, gh-14058, gh-14151\n */\n\nSubdocument.prototype.$toObject = function $toObject(options, json) {\n  const ret = Document.prototype.$toObject.call(this, options, json);\n\n  // If `$toObject()` was called recursively, respect the minimize option, including schematype level minimize.\n  // If minimize is set, then we can minimize out the whole object.\n  if (Object.keys(ret).length === 0 && options?._calledWithOptions != null) {\n    const minimize = options._calledWithOptions?.minimize ?? this?.$__schemaTypeOptions?.minimize ?? options.minimize;\n    if (minimize && !this.constructor.$__required) {\n      return undefined;\n    }\n  }\n  return ret;\n};\n\n/**\n * Registers remove event listeners for triggering\n * on subdocuments.\n *\n * @param {Subdocument} sub\n * @api private\n */\n\nfunction registerRemoveListener(sub) {\n  const owner = sub.ownerDocument();\n\n  function emitRemove() {\n    owner.$removeListener('save', emitRemove);\n    owner.$removeListener('deleteOne', emitRemove);\n    sub.emit('deleteOne', sub);\n    sub.constructor.emit('deleteOne', sub);\n  }\n\n  owner.$on('save', emitRemove);\n  owner.$on('deleteOne', emitRemove);\n}\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 2947, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/backend/node_modules/mongoose/lib/types/arraySubdocument.js"],"sourcesContent":["/*!\n * Module dependencies.\n */\n\n'use strict';\n\nconst EventEmitter = require('events').EventEmitter;\nconst Subdocument = require('./subdocument');\nconst utils = require('../utils');\n\nconst documentArrayParent = require('../helpers/symbols').documentArrayParent;\n\n/**\n * A constructor.\n *\n * @param {Object} obj js object returned from the db\n * @param {MongooseDocumentArray} parentArr the parent array of this document\n * @param {Boolean} skipId\n * @param {Object} fields\n * @param {Number} index\n * @inherits Document\n * @api private\n */\n\nfunction ArraySubdocument(obj, parentArr, skipId, fields, index) {\n  if (utils.isMongooseDocumentArray(parentArr)) {\n    this.__parentArray = parentArr;\n    this[documentArrayParent] = parentArr.$parent();\n  } else {\n    this.__parentArray = undefined;\n    this[documentArrayParent] = undefined;\n  }\n  this.$setIndex(index);\n  this.$__parent = this[documentArrayParent];\n\n  let options;\n  if (typeof skipId === 'object' && skipId != null) {\n    options = { isNew: true, ...skipId };\n    skipId = undefined;\n  } else {\n    options = { isNew: true };\n  }\n\n  Subdocument.call(this, obj, fields, this[documentArrayParent], skipId, options);\n}\n\n/*!\n * Inherit from Subdocument\n */\nArraySubdocument.prototype = Object.create(Subdocument.prototype);\nArraySubdocument.prototype.constructor = ArraySubdocument;\n\nObject.defineProperty(ArraySubdocument.prototype, '$isSingleNested', {\n  configurable: false,\n  writable: false,\n  value: false\n});\n\nObject.defineProperty(ArraySubdocument.prototype, '$isDocumentArrayElement', {\n  configurable: false,\n  writable: false,\n  value: true\n});\n\nfor (const i in EventEmitter.prototype) {\n  ArraySubdocument[i] = EventEmitter.prototype[i];\n}\n\n/*!\n * ignore\n */\n\nArraySubdocument.prototype.$setIndex = function(index) {\n  this.__index = index;\n\n  if (this.$__ != null && this.$__.validationError != null) {\n    const keys = Object.keys(this.$__.validationError.errors);\n    for (const key of keys) {\n      this.invalidate(key, this.$__.validationError.errors[key]);\n    }\n  }\n};\n\n/*!\n * ignore\n */\n\nArraySubdocument.prototype.populate = function() {\n  throw new Error('Mongoose does not support calling populate() on nested ' +\n    'docs. Instead of `doc.arr[0].populate(\"path\")`, use ' +\n    '`doc.populate(\"arr.0.path\")`');\n};\n\n/*!\n * ignore\n */\n\nArraySubdocument.prototype.$__removeFromParent = function() {\n  const _id = this._doc._id;\n  if (!_id) {\n    throw new Error('For your own good, Mongoose does not know ' +\n      'how to remove an ArraySubdocument that has no _id');\n  }\n  this.__parentArray.pull({ _id: _id });\n};\n\n/**\n * Returns the full path to this document. If optional `path` is passed, it is appended to the full path.\n *\n * @param {String} [path]\n * @param {Boolean} [skipIndex] Skip adding the array index. For example `arr.foo` instead of `arr.0.foo`.\n * @return {String}\n * @api private\n * @method $__fullPath\n * @memberOf ArraySubdocument\n * @instance\n */\n\nArraySubdocument.prototype.$__fullPath = function(path, skipIndex) {\n  if (this.__index == null) {\n    return null;\n  }\n  if (!this.$__.fullPath) {\n    this.ownerDocument();\n  }\n\n  if (skipIndex) {\n    return path ?\n      this.$__.fullPath + '.' + path :\n      this.$__.fullPath;\n  }\n\n  return path ?\n    this.$__.fullPath + '.' + this.__index + '.' + path :\n    this.$__.fullPath + '.' + this.__index;\n};\n\n/**\n * Given a path relative to this document, return the path relative\n * to the top-level document.\n * @method $__pathRelativeToParent\n * @memberOf ArraySubdocument\n * @instance\n * @api private\n */\n\nArraySubdocument.prototype.$__pathRelativeToParent = function(path, skipIndex) {\n  if (this.__index == null || (!this.__parentArray || !this.__parentArray.$path)) {\n    return null;\n  }\n  if (skipIndex) {\n    return path == null ? this.__parentArray.$path() : this.__parentArray.$path() + '.' + path;\n  }\n  if (path == null) {\n    return this.__parentArray.$path() + '.' + this.__index;\n  }\n  return this.__parentArray.$path() + '.' + this.__index + '.' + path;\n};\n\n/**\n * Returns this sub-documents parent document.\n * @method $parent\n * @memberOf ArraySubdocument\n * @instance\n * @api public\n */\n\nArraySubdocument.prototype.$parent = function() {\n  return this[documentArrayParent];\n};\n\n/**\n * Returns this subdocument's parent array.\n *\n * #### Example:\n *\n *     const Test = mongoose.model('Test', new Schema({\n *       docArr: [{ name: String }]\n *     }));\n *     const doc = new Test({ docArr: [{ name: 'test subdoc' }] });\n *\n *     doc.docArr[0].parentArray() === doc.docArr; // true\n *\n * @api public\n * @method parentArray\n * @returns DocumentArray\n */\n\nArraySubdocument.prototype.parentArray = function() {\n  return this.__parentArray;\n};\n\n/*!\n * Module exports.\n */\n\nmodule.exports = ArraySubdocument;\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 3106, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/backend/node_modules/mongoose/lib/types/array/methods/index.js"],"sourcesContent":["'use strict';\n\nconst Document = require('../../../document');\nconst ArraySubdocument = require('../../arraySubdocument');\nconst MongooseError = require('../../../error/mongooseError');\nconst cleanModifiedSubpaths = require('../../../helpers/document/cleanModifiedSubpaths');\nconst clone = require('../../../helpers/clone');\nconst internalToObjectOptions = require('../../../options').internalToObjectOptions;\nconst mpath = require('mpath');\nconst utils = require('../../../utils');\nconst isBsonType = require('../../../helpers/isBsonType');\n\nconst arrayAtomicsSymbol = require('../../../helpers/symbols').arrayAtomicsSymbol;\nconst arrayParentSymbol = require('../../../helpers/symbols').arrayParentSymbol;\nconst arrayPathSymbol = require('../../../helpers/symbols').arrayPathSymbol;\nconst arraySchemaSymbol = require('../../../helpers/symbols').arraySchemaSymbol;\nconst populateModelSymbol = require('../../../helpers/symbols').populateModelSymbol;\nconst slicedSymbol = Symbol('mongoose#Array#sliced');\n\nconst _basePush = Array.prototype.push;\n\n/*!\n * ignore\n */\n\nconst methods = {\n  /**\n   * Depopulates stored atomic operation values as necessary for direct insertion to MongoDB.\n   *\n   * If no atomics exist, we return all array values after conversion.\n   *\n   * @return {Array}\n   * @method $__getAtomics\n   * @memberOf MongooseArray\n   * @instance\n   * @api private\n   */\n\n  $__getAtomics() {\n    const ret = [];\n    const keys = Object.keys(this[arrayAtomicsSymbol] || {});\n    let i = keys.length;\n\n    const opts = Object.assign({}, internalToObjectOptions, { _isNested: true });\n\n    if (i === 0) {\n      ret[0] = ['$set', this.toObject(opts)];\n      return ret;\n    }\n\n    while (i--) {\n      const op = keys[i];\n      let val = this[arrayAtomicsSymbol][op];\n\n      // the atomic values which are arrays are not MongooseArrays. we\n      // need to convert their elements as if they were MongooseArrays\n      // to handle populated arrays versus DocumentArrays properly.\n      if (utils.isMongooseObject(val)) {\n        val = val.toObject(opts);\n      } else if (Array.isArray(val)) {\n        val = this.toObject.call(val, opts);\n      } else if (val != null && Array.isArray(val.$each)) {\n        val.$each = this.toObject.call(val.$each, opts);\n      } else if (val != null && typeof val.valueOf === 'function') {\n        val = val.valueOf();\n      }\n\n      if (op === '$addToSet') {\n        val = { $each: val };\n      }\n\n      ret.push([op, val]);\n    }\n\n    return ret;\n  },\n\n  /*!\n   * ignore\n   */\n\n  $atomics() {\n    return this[arrayAtomicsSymbol];\n  },\n\n  /*!\n   * ignore\n   */\n\n  $parent() {\n    return this[arrayParentSymbol];\n  },\n\n  /*!\n   * ignore\n   */\n\n  $path() {\n    return this[arrayPathSymbol];\n  },\n\n  /*!\n   * ignore\n   */\n  $schemaType() {\n    return this[arraySchemaSymbol];\n  },\n\n  /**\n   * Atomically shifts the array at most one time per document `save()`.\n   *\n   * #### Note:\n   *\n   * _Calling this multiple times on an array before saving sends the same command as calling it once._\n   * _This update is implemented using the MongoDB [$pop](https://www.mongodb.com/docs/manual/reference/operator/update/pop/) method which enforces this restriction._\n   *\n   *      doc.array = [1,2,3];\n   *\n   *      const shifted = doc.array.$shift();\n   *      console.log(shifted); // 1\n   *      console.log(doc.array); // [2,3]\n   *\n   *      // no affect\n   *      shifted = doc.array.$shift();\n   *      console.log(doc.array); // [2,3]\n   *\n   *      doc.save(function (err) {\n   *        if (err) return handleError(err);\n   *\n   *        // we saved, now $shift works again\n   *        shifted = doc.array.$shift();\n   *        console.log(shifted ); // 2\n   *        console.log(doc.array); // [3]\n   *      })\n   *\n   * @api public\n   * @memberOf MongooseArray\n   * @instance\n   * @method $shift\n   * @see mongodb https://www.mongodb.com/docs/manual/reference/operator/update/pop/\n   */\n\n  $shift() {\n    this._registerAtomic('$pop', -1);\n    this._markModified();\n\n    // only allow shifting once\n    const __array = this.__array;\n    if (__array._shifted) {\n      return;\n    }\n    __array._shifted = true;\n\n    return [].shift.call(__array);\n  },\n\n  /**\n   * Pops the array atomically at most one time per document `save()`.\n   *\n   * #### NOTE:\n   *\n   * _Calling this multiple times on an array before saving sends the same command as calling it once._\n   * _This update is implemented using the MongoDB [$pop](https://www.mongodb.com/docs/manual/reference/operator/update/pop/) method which enforces this restriction._\n   *\n   *      doc.array = [1,2,3];\n   *\n   *      const popped = doc.array.$pop();\n   *      console.log(popped); // 3\n   *      console.log(doc.array); // [1,2]\n   *\n   *      // no affect\n   *      popped = doc.array.$pop();\n   *      console.log(doc.array); // [1,2]\n   *\n   *      doc.save(function (err) {\n   *        if (err) return handleError(err);\n   *\n   *        // we saved, now $pop works again\n   *        popped = doc.array.$pop();\n   *        console.log(popped); // 2\n   *        console.log(doc.array); // [1]\n   *      })\n   *\n   * @api public\n   * @method $pop\n   * @memberOf MongooseArray\n   * @instance\n   * @see mongodb https://www.mongodb.com/docs/manual/reference/operator/update/pop/\n   * @method $pop\n   * @memberOf MongooseArray\n   */\n\n  $pop() {\n    this._registerAtomic('$pop', 1);\n    this._markModified();\n\n    // only allow popping once\n    if (this._popped) {\n      return;\n    }\n    this._popped = true;\n\n    return [].pop.call(this);\n  },\n\n  /*!\n   * ignore\n   */\n\n  $schema() {\n    return this[arraySchemaSymbol];\n  },\n\n  /**\n   * Casts a member based on this arrays schema.\n   *\n   * @param {any} value\n   * @return value the casted value\n   * @method _cast\n   * @api private\n   * @memberOf MongooseArray\n   */\n\n  _cast(value) {\n    let populated = false;\n    let Model;\n\n    const parent = this[arrayParentSymbol];\n    if (parent) {\n      populated = parent.$populated(this[arrayPathSymbol], true);\n    }\n\n    if (populated && value !== null && value !== undefined) {\n      // cast to the populated Models schema\n      Model = populated.options[populateModelSymbol];\n      if (Model == null) {\n        throw new MongooseError('No populated model found for path `' + this[arrayPathSymbol] + '`. This is likely a bug in Mongoose, please report an issue on github.com/Automattic/mongoose.');\n      }\n\n      // only objects are permitted so we can safely assume that\n      // non-objects are to be interpreted as _id\n      if (Buffer.isBuffer(value) ||\n          isBsonType(value, 'ObjectId') || !utils.isObject(value)) {\n        value = { _id: value };\n      }\n\n      // gh-2399\n      // we should cast model only when it's not a discriminator\n      const isDisc = value.schema && value.schema.discriminatorMapping &&\n          value.schema.discriminatorMapping.key !== undefined;\n      if (!isDisc) {\n        value = new Model(value);\n      }\n      return this[arraySchemaSymbol].caster.applySetters(value, parent, true);\n    }\n\n    return this[arraySchemaSymbol].caster.applySetters(value, parent, false);\n  },\n\n  /**\n   * Internal helper for .map()\n   *\n   * @api private\n   * @return {Number}\n   * @method _mapCast\n   * @memberOf MongooseArray\n   */\n\n  _mapCast(val, index) {\n    return this._cast(val, this.length + index);\n  },\n\n  /**\n   * Marks this array as modified.\n   *\n   * If it bubbles up from an embedded document change, then it takes the following arguments (otherwise, takes 0 arguments)\n   *\n   * @param {ArraySubdocument} subdoc the embedded doc that invoked this method on the Array\n   * @param {String} embeddedPath the path which changed in the subdoc\n   * @method _markModified\n   * @api private\n   * @memberOf MongooseArray\n   */\n\n  _markModified(elem) {\n    const parent = this[arrayParentSymbol];\n    let dirtyPath;\n\n    if (parent) {\n      dirtyPath = this[arrayPathSymbol];\n\n      if (arguments.length) {\n        dirtyPath = dirtyPath + '.' + elem;\n      }\n\n      if (dirtyPath != null && dirtyPath.endsWith('.$')) {\n        return this;\n      }\n\n      parent.markModified(dirtyPath, arguments.length !== 0 ? elem : parent);\n    }\n\n    return this;\n  },\n\n  /**\n   * Register an atomic operation with the parent.\n   *\n   * @param {Array} op operation\n   * @param {any} val\n   * @method _registerAtomic\n   * @api private\n   * @memberOf MongooseArray\n   */\n\n  _registerAtomic(op, val) {\n    if (this[slicedSymbol]) {\n      return;\n    }\n    if (op === '$set') {\n      // $set takes precedence over all other ops.\n      // mark entire array modified.\n      this[arrayAtomicsSymbol] = { $set: val };\n      cleanModifiedSubpaths(this[arrayParentSymbol], this[arrayPathSymbol]);\n      this._markModified();\n      return this;\n    }\n\n    const atomics = this[arrayAtomicsSymbol];\n\n    // reset pop/shift after save\n    if (op === '$pop' && !('$pop' in atomics)) {\n      const _this = this;\n      this[arrayParentSymbol].once('save', function() {\n        _this._popped = _this._shifted = null;\n      });\n    }\n\n    // check for impossible $atomic combos (Mongo denies more than one\n    // $atomic op on a single path\n    if (atomics.$set || Object.keys(atomics).length && !(op in atomics)) {\n      // a different op was previously registered.\n      // save the entire thing.\n      this[arrayAtomicsSymbol] = { $set: this };\n      return this;\n    }\n\n    let selector;\n\n    if (op === '$pullAll' || op === '$addToSet') {\n      atomics[op] || (atomics[op] = []);\n      atomics[op] = atomics[op].concat(val);\n    } else if (op === '$pullDocs') {\n      const pullOp = atomics['$pull'] || (atomics['$pull'] = {});\n      if (val[0] instanceof ArraySubdocument) {\n        selector = pullOp['$or'] || (pullOp['$or'] = []);\n        Array.prototype.push.apply(selector, val.map(v => {\n          return v.toObject({\n            transform: (doc, ret) => {\n              if (v == null || v.$__ == null) {\n                return ret;\n              }\n\n              Object.keys(v.$__.activePaths.getStatePaths('default')).forEach(path => {\n                mpath.unset(path, ret);\n\n                _minimizePath(ret, path);\n              });\n\n              return ret;\n            },\n            virtuals: false\n          });\n        }));\n      } else {\n        selector = pullOp['_id'] || (pullOp['_id'] = { $in: [] });\n        selector['$in'] = selector['$in'].concat(val);\n      }\n    } else if (op === '$push') {\n      atomics.$push = atomics.$push || { $each: [] };\n      if (val != null && utils.hasUserDefinedProperty(val, '$each')) {\n        atomics.$push = val;\n      } else {\n        if (val.length === 1) {\n          atomics.$push.$each.push(val[0]);\n        } else if (val.length < 10000) {\n          atomics.$push.$each.push(...val);\n        } else {\n          for (const v of val) {\n            atomics.$push.$each.push(v);\n          }\n        }\n      }\n    } else {\n      atomics[op] = val;\n    }\n\n    return this;\n  },\n\n  /**\n   * Adds values to the array if not already present.\n   *\n   * #### Example:\n   *\n   *     console.log(doc.array) // [2,3,4]\n   *     const added = doc.array.addToSet(4,5);\n   *     console.log(doc.array) // [2,3,4,5]\n   *     console.log(added)     // [5]\n   *\n   * @param {...any} [args]\n   * @return {Array} the values that were added\n   * @memberOf MongooseArray\n   * @api public\n   * @method addToSet\n   */\n\n  addToSet() {\n    _checkManualPopulation(this, arguments);\n    _depopulateIfNecessary(this, arguments);\n\n    const values = [].map.call(arguments, this._mapCast, this);\n    const added = [];\n    let type = '';\n    if (values[0] instanceof ArraySubdocument) {\n      type = 'doc';\n    } else if (values[0] instanceof Date) {\n      type = 'date';\n    } else if (isBsonType(values[0], 'ObjectId')) {\n      type = 'ObjectId';\n    }\n\n    const rawValues = utils.isMongooseArray(values) ? values.__array : values;\n    const rawArray = utils.isMongooseArray(this) ? this.__array : this;\n\n    rawValues.forEach(function(v) {\n      let found;\n      const val = +v;\n      switch (type) {\n        case 'doc':\n          found = this.some(function(doc) {\n            return doc.equals(v);\n          });\n          break;\n        case 'date':\n          found = this.some(function(d) {\n            return +d === val;\n          });\n          break;\n        case 'ObjectId':\n          found = this.find(o => o.toString() === v.toString());\n          break;\n        default:\n          found = ~this.indexOf(v);\n          break;\n      }\n\n      if (!found) {\n        this._markModified();\n        rawArray.push(v);\n        this._registerAtomic('$addToSet', v);\n        [].push.call(added, v);\n      }\n    }, this);\n\n    return added;\n  },\n\n  /**\n   * Returns the number of pending atomic operations to send to the db for this array.\n   *\n   * @api private\n   * @return {Number}\n   * @method hasAtomics\n   * @memberOf MongooseArray\n   */\n\n  hasAtomics() {\n    if (!utils.isPOJO(this[arrayAtomicsSymbol])) {\n      return 0;\n    }\n\n    return Object.keys(this[arrayAtomicsSymbol]).length;\n  },\n\n  /**\n   * Return whether or not the `obj` is included in the array.\n   *\n   * @param {Object} obj the item to check\n   * @param {Number} fromIndex\n   * @return {Boolean}\n   * @api public\n   * @method includes\n   * @memberOf MongooseArray\n   */\n\n  includes(obj, fromIndex) {\n    const ret = this.indexOf(obj, fromIndex);\n    return ret !== -1;\n  },\n\n  /**\n   * Return the index of `obj` or `-1` if not found.\n   *\n   * @param {Object} obj the item to look for\n   * @param {Number} fromIndex\n   * @return {Number}\n   * @api public\n   * @method indexOf\n   * @memberOf MongooseArray\n   */\n\n  indexOf(obj, fromIndex) {\n    if (isBsonType(obj, 'ObjectId')) {\n      obj = obj.toString();\n    }\n\n    fromIndex = fromIndex == null ? 0 : fromIndex;\n    const len = this.length;\n    for (let i = fromIndex; i < len; ++i) {\n      if (obj == this[i]) {\n        return i;\n      }\n    }\n    return -1;\n  },\n\n  /**\n   * Helper for console.log\n   *\n   * @api public\n   * @method inspect\n   * @memberOf MongooseArray\n   */\n\n  inspect() {\n    return JSON.stringify(this);\n  },\n\n  /**\n   * Pushes items to the array non-atomically.\n   *\n   * #### Note:\n   *\n   * _marks the entire array as modified, which if saved, will store it as a `$set` operation, potentially overwritting any changes that happen between when you retrieved the object and when you save it._\n   *\n   * @param {...any} [args]\n   * @api public\n   * @method nonAtomicPush\n   * @memberOf MongooseArray\n   */\n\n  nonAtomicPush() {\n    const values = [].map.call(arguments, this._mapCast, this);\n    this._markModified();\n    const ret = [].push.apply(this, values);\n    this._registerAtomic('$set', this);\n    return ret;\n  },\n\n  /**\n   * Wraps [`Array#pop`](https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/pop) with proper change tracking.\n   *\n   * #### Note:\n   *\n   * _marks the entire array as modified which will pass the entire thing to $set potentially overwriting any changes that happen between when you retrieved the object and when you save it._\n   *\n   * @see MongooseArray#$pop https://mongoosejs.com/docs/api/array.html#MongooseArray.prototype.$pop()\n   * @api public\n   * @method pop\n   * @memberOf MongooseArray\n   */\n\n  pop() {\n    this._markModified();\n    const ret = [].pop.call(this);\n    this._registerAtomic('$set', this);\n    return ret;\n  },\n\n  /**\n   * Pulls items from the array atomically. Equality is determined by casting\n   * the provided value to an embedded document and comparing using\n   * [the `Document.equals()` function.](https://mongoosejs.com/docs/api/document.html#Document.prototype.equals())\n   *\n   * #### Example:\n   *\n   *     doc.array.pull(ObjectId)\n   *     doc.array.pull({ _id: 'someId' })\n   *     doc.array.pull(36)\n   *     doc.array.pull('tag 1', 'tag 2')\n   *\n   * To remove a document from a subdocument array we may pass an object with a matching `_id`.\n   *\n   *     doc.subdocs.push({ _id: 4815162342 })\n   *     doc.subdocs.pull({ _id: 4815162342 }) // removed\n   *\n   * Or we may passing the _id directly and let mongoose take care of it.\n   *\n   *     doc.subdocs.push({ _id: 4815162342 })\n   *     doc.subdocs.pull(4815162342); // works\n   *\n   * The first pull call will result in a atomic operation on the database, if pull is called repeatedly without saving the document, a $set operation is used on the complete array instead, overwriting possible changes that happened on the database in the meantime.\n   *\n   * @param {...any} [args]\n   * @see mongodb https://www.mongodb.com/docs/manual/reference/operator/update/pull/\n   * @api public\n   * @method pull\n   * @memberOf MongooseArray\n   */\n\n  pull() {\n    const values = [].map.call(arguments, (v, i) => this._cast(v, i, { defaults: false }), this);\n    let cur = this;\n    if (utils.isMongooseArray(cur)) {\n      cur = cur.__array;\n    }\n    let i = cur.length;\n    let mem;\n    this._markModified();\n\n    while (i--) {\n      mem = cur[i];\n      if (mem instanceof Document) {\n        const some = values.some(function(v) {\n          return mem.equals(v);\n        });\n        if (some) {\n          cur.splice(i, 1);\n        }\n      } else if (~this.indexOf.call(values, mem)) {\n        cur.splice(i, 1);\n      }\n    }\n\n    if (values[0] instanceof ArraySubdocument) {\n      this._registerAtomic('$pullDocs', values.map(function(v) {\n        const _id = v.$__getValue('_id');\n        if (_id === undefined || v.$isDefault('_id')) {\n          return v;\n        }\n        return _id;\n      }));\n    } else {\n      this._registerAtomic('$pullAll', values);\n    }\n\n\n    // Might have modified child paths and then pulled, like\n    // `doc.children[1].name = 'test';` followed by\n    // `doc.children.remove(doc.children[0]);`. In this case we fall back\n    // to a `$set` on the whole array. See #3511\n    if (cleanModifiedSubpaths(this[arrayParentSymbol], this[arrayPathSymbol]) > 0) {\n      this._registerAtomic('$set', this);\n    }\n\n    return this;\n  },\n\n  /**\n   * Wraps [`Array#push`](https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/push) with proper change tracking.\n   *\n   * #### Example:\n   *\n   *     const schema = Schema({ nums: [Number] });\n   *     const Model = mongoose.model('Test', schema);\n   *\n   *     const doc = await Model.create({ nums: [3, 4] });\n   *     doc.nums.push(5); // Add 5 to the end of the array\n   *     await doc.save();\n   *\n   *     // You can also pass an object with `$each` as the\n   *     // first parameter to use MongoDB's `$position`\n   *     doc.nums.push({\n   *       $each: [1, 2],\n   *       $position: 0\n   *     });\n   *     doc.nums; // [1, 2, 3, 4, 5]\n   *\n   * @param {...Object} [args]\n   * @api public\n   * @method push\n   * @memberOf MongooseArray\n   */\n\n  push() {\n    let values = arguments;\n    let atomic = values;\n    const isOverwrite = values[0] != null &&\n      utils.hasUserDefinedProperty(values[0], '$each');\n    const arr = utils.isMongooseArray(this) ? this.__array : this;\n    if (isOverwrite) {\n      atomic = values[0];\n      values = values[0].$each;\n    }\n\n    if (this[arraySchemaSymbol] == null) {\n      return _basePush.apply(this, values);\n    }\n\n    _checkManualPopulation(this, values);\n    _depopulateIfNecessary(this, values);\n\n    values = [].map.call(values, this._mapCast, this);\n    let ret;\n    const atomics = this[arrayAtomicsSymbol];\n    this._markModified();\n    if (isOverwrite) {\n      atomic.$each = values;\n\n      if ((atomics.$push && atomics.$push.$each && atomics.$push.$each.length || 0) !== 0 &&\n          atomics.$push.$position != atomic.$position) {\n        if (atomic.$position != null) {\n          [].splice.apply(arr, [atomic.$position, 0].concat(values));\n          ret = arr.length;\n        } else {\n          ret = [].push.apply(arr, values);\n        }\n\n        this._registerAtomic('$set', this);\n      } else if (atomic.$position != null) {\n        [].splice.apply(arr, [atomic.$position, 0].concat(values));\n        ret = this.length;\n      } else {\n        ret = [].push.apply(arr, values);\n      }\n    } else {\n      atomic = values;\n      ret = _basePush.apply(arr, values);\n    }\n\n    this._registerAtomic('$push', atomic);\n\n    return ret;\n  },\n\n  /**\n   * Alias of [pull](https://mongoosejs.com/docs/api/array.html#MongooseArray.prototype.pull())\n   *\n   * @see MongooseArray#pull https://mongoosejs.com/docs/api/array.html#MongooseArray.prototype.pull()\n   * @see mongodb https://www.mongodb.com/docs/manual/reference/operator/update/pull/\n   * @api public\n   * @memberOf MongooseArray\n   * @instance\n   * @method remove\n   */\n\n  remove() {\n    return this.pull.apply(this, arguments);\n  },\n\n  /**\n   * Sets the casted `val` at index `i` and marks the array modified.\n   *\n   * #### Example:\n   *\n   *     // given documents based on the following\n   *     const Doc = mongoose.model('Doc', new Schema({ array: [Number] }));\n   *\n   *     const doc = new Doc({ array: [2,3,4] })\n   *\n   *     console.log(doc.array) // [2,3,4]\n   *\n   *     doc.array.set(1,\"5\");\n   *     console.log(doc.array); // [2,5,4] // properly cast to number\n   *     doc.save() // the change is saved\n   *\n   *     // VS not using array#set\n   *     doc.array[1] = \"5\";\n   *     console.log(doc.array); // [2,\"5\",4] // no casting\n   *     doc.save() // change is not saved\n   *\n   * @return {Array} this\n   * @api public\n   * @method set\n   * @memberOf MongooseArray\n   */\n\n  set(i, val, skipModified) {\n    const arr = this.__array;\n    if (skipModified) {\n      arr[i] = val;\n      return this;\n    }\n    const value = methods._cast.call(this, val, i);\n    methods._markModified.call(this, i);\n    arr[i] = value;\n    return this;\n  },\n\n  /**\n   * Wraps [`Array#shift`](https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/unshift) with proper change tracking.\n   *\n   * #### Example:\n   *\n   *     doc.array = [2,3];\n   *     const res = doc.array.shift();\n   *     console.log(res) // 2\n   *     console.log(doc.array) // [3]\n   *\n   * #### Note:\n   *\n   * _marks the entire array as modified, which if saved, will store it as a `$set` operation, potentially overwritting any changes that happen between when you retrieved the object and when you save it._\n   *\n   * @api public\n   * @method shift\n   * @memberOf MongooseArray\n   */\n\n  shift() {\n    const arr = utils.isMongooseArray(this) ? this.__array : this;\n    this._markModified();\n    const ret = [].shift.call(arr);\n    this._registerAtomic('$set', this);\n    return ret;\n  },\n\n  /**\n   * Wraps [`Array#sort`](https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/sort) with proper change tracking.\n   *\n   * #### Note:\n   *\n   * _marks the entire array as modified, which if saved, will store it as a `$set` operation, potentially overwritting any changes that happen between when you retrieved the object and when you save it._\n   *\n   * @api public\n   * @method sort\n   * @memberOf MongooseArray\n   * @see MasteringJS: Array sort https://masteringjs.io/tutorials/fundamentals/array-sort\n   */\n\n  sort() {\n    const arr = utils.isMongooseArray(this) ? this.__array : this;\n    const ret = [].sort.apply(arr, arguments);\n    this._registerAtomic('$set', this);\n    return ret;\n  },\n\n  /**\n   * Wraps [`Array#splice`](https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/splice) with proper change tracking and casting.\n   *\n   * #### Note:\n   *\n   * _marks the entire array as modified, which if saved, will store it as a `$set` operation, potentially overwritting any changes that happen between when you retrieved the object and when you save it._\n   *\n   * @api public\n   * @method splice\n   * @memberOf MongooseArray\n   * @see MasteringJS: Array splice https://masteringjs.io/tutorials/fundamentals/array-splice\n   */\n\n  splice() {\n    let ret;\n    const arr = utils.isMongooseArray(this) ? this.__array : this;\n\n    this._markModified();\n    _checkManualPopulation(this, Array.prototype.slice.call(arguments, 2));\n\n    if (arguments.length) {\n      let vals;\n      if (this[arraySchemaSymbol] == null) {\n        vals = arguments;\n      } else {\n        vals = [];\n        for (let i = 0; i < arguments.length; ++i) {\n          vals[i] = i < 2 ?\n            arguments[i] :\n            this._cast(arguments[i], arguments[0] + (i - 2));\n        }\n      }\n\n      ret = [].splice.apply(arr, vals);\n      this._registerAtomic('$set', this);\n    }\n\n    return ret;\n  },\n\n  /*!\n   * ignore\n   */\n\n  toBSON() {\n    return this.toObject(internalToObjectOptions);\n  },\n\n  /**\n   * Returns a native js Array.\n   *\n   * @param {Object} options\n   * @return {Array}\n   * @api public\n   * @method toObject\n   * @memberOf MongooseArray\n   */\n\n  toObject(options) {\n    const arr = utils.isMongooseArray(this) ? this.__array : this;\n    if (options && options.depopulate) {\n      options = clone(options);\n      options._isNested = true;\n      // Ensure return value is a vanilla array, because in Node.js 6+ `map()`\n      // is smart enough to use the inherited array's constructor.\n      return [].concat(arr).map(function(doc) {\n        return doc instanceof Document\n          ? doc.toObject(options)\n          : doc;\n      });\n    }\n\n    return [].concat(arr);\n  },\n\n  $toObject() {\n    return this.constructor.prototype.toObject.apply(this, arguments);\n  },\n  /**\n   * Wraps [`Array#unshift`](https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/unshift) with proper change tracking.\n   *\n   * #### Note:\n   *\n   * _marks the entire array as modified, which if saved, will store it as a `$set` operation, potentially overwriting any changes that happen between when you retrieved the object and when you save it._\n   *\n   * @api public\n   * @method unshift\n   * @memberOf MongooseArray\n   */\n\n  unshift() {\n    _checkManualPopulation(this, arguments);\n\n    let values;\n    if (this[arraySchemaSymbol] == null) {\n      values = arguments;\n    } else {\n      values = [].map.call(arguments, this._cast, this);\n    }\n\n    const arr = utils.isMongooseArray(this) ? this.__array : this;\n    this._markModified();\n    [].unshift.apply(arr, values);\n    this._registerAtomic('$set', this);\n    return this.length;\n  }\n};\n\n/*!\n * ignore\n */\n\nfunction _isAllSubdocs(docs, ref) {\n  if (!ref) {\n    return false;\n  }\n\n  for (const arg of docs) {\n    if (arg == null) {\n      return false;\n    }\n    const model = arg.constructor;\n    if (!(arg instanceof Document) ||\n      (model.modelName !== ref && model.baseModelName !== ref)) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\n/*!\n * Minimize _just_ empty objects along the path chain specified\n * by `parts`, ignoring all other paths. Useful in cases where\n * you want to minimize after unsetting a path.\n *\n * #### Example:\n *\n *     const obj = { foo: { bar: { baz: {} } }, a: {} };\n *     _minimizePath(obj, 'foo.bar.baz');\n *     obj; // { a: {} }\n */\n\nfunction _minimizePath(obj, parts, i) {\n  if (typeof parts === 'string') {\n    if (parts.indexOf('.') === -1) {\n      return;\n    }\n\n    parts = mpath.stringToParts(parts);\n  }\n  i = i || 0;\n  if (i >= parts.length) {\n    return;\n  }\n  if (obj == null || typeof obj !== 'object') {\n    return;\n  }\n\n  _minimizePath(obj[parts[0]], parts, i + 1);\n  if (obj[parts[0]] != null && typeof obj[parts[0]] === 'object' && Object.keys(obj[parts[0]]).length === 0) {\n    delete obj[parts[0]];\n  }\n}\n\n/*!\n * ignore\n */\n\nfunction _checkManualPopulation(arr, docs) {\n  const ref = arr == null ?\n    null :\n    arr[arraySchemaSymbol] && arr[arraySchemaSymbol].caster && arr[arraySchemaSymbol].caster.options && arr[arraySchemaSymbol].caster.options.ref || null;\n  if (arr.length === 0 &&\n      docs.length !== 0) {\n    if (_isAllSubdocs(docs, ref)) {\n      arr[arrayParentSymbol].$populated(arr[arrayPathSymbol], [], {\n        [populateModelSymbol]: docs[0].constructor\n      });\n    }\n  }\n}\n\n/*!\n * If `docs` isn't all instances of the right model, depopulate `arr`\n */\n\nfunction _depopulateIfNecessary(arr, docs) {\n  const ref = arr == null ?\n    null :\n    arr[arraySchemaSymbol] && arr[arraySchemaSymbol].caster && arr[arraySchemaSymbol].caster.options && arr[arraySchemaSymbol].caster.options.ref || null;\n  const parentDoc = arr[arrayParentSymbol];\n  const path = arr[arrayPathSymbol];\n  if (!ref || !parentDoc.populated(path)) {\n    return;\n  }\n  for (const doc of docs) {\n    if (doc == null) {\n      continue;\n    }\n    if (typeof doc !== 'object' || doc instanceof String || doc instanceof Number || doc instanceof Buffer || utils.isMongooseType(doc)) {\n      parentDoc.depopulate(path);\n      break;\n    }\n  }\n}\n\nconst returnVanillaArrayMethods = [\n  'filter',\n  'flat',\n  'flatMap',\n  'map',\n  'slice'\n];\nfor (const method of returnVanillaArrayMethods) {\n  if (Array.prototype[method] == null) {\n    continue;\n  }\n\n  methods[method] = function() {\n    const _arr = utils.isMongooseArray(this) ? this.__array : this;\n    const arr = [].concat(_arr);\n\n    return arr[method].apply(arr, arguments);\n  };\n}\n\nmodule.exports = methods;\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 4021, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/backend/node_modules/mongoose/lib/types/array/index.js"],"sourcesContent":["/*!\n * Module dependencies.\n */\n\n'use strict';\n\nconst mongooseArrayMethods = require('./methods');\n\nconst arrayAtomicsSymbol = require('../../helpers/symbols').arrayAtomicsSymbol;\nconst arrayAtomicsBackupSymbol = require('../../helpers/symbols').arrayAtomicsBackupSymbol;\nconst arrayParentSymbol = require('../../helpers/symbols').arrayParentSymbol;\nconst arrayPathSymbol = require('../../helpers/symbols').arrayPathSymbol;\nconst arraySchemaSymbol = require('../../helpers/symbols').arraySchemaSymbol;\n\n/**\n * Mongoose Array constructor.\n *\n * #### Note:\n *\n * _Values always have to be passed to the constructor to initialize, otherwise `MongooseArray#push` will mark the array as modified._\n *\n * @param {Array} values\n * @param {String} path\n * @param {Document} doc parent document\n * @api private\n * @inherits Array https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array\n * @see https://bit.ly/f6CnZU\n */\nconst _basePush = Array.prototype.push;\nconst numberRE = /^\\d+$/;\n\nfunction MongooseArray(values, path, doc, schematype) {\n  let __array;\n\n  if (Array.isArray(values)) {\n    const len = values.length;\n\n    // Perf optimizations for small arrays: much faster to use `...` than `for` + `push`,\n    // but large arrays may cause stack overflows. And for arrays of length 0/1, just\n    // modifying the array is faster. Seems small, but adds up when you have a document\n    // with thousands of nested arrays.\n    if (len === 0) {\n      __array = new Array();\n    } else if (len === 1) {\n      __array = new Array(1);\n      __array[0] = values[0];\n    } else if (len < 10000) {\n      __array = new Array();\n      _basePush.apply(__array, values);\n    } else {\n      __array = new Array();\n      for (let i = 0; i < len; ++i) {\n        _basePush.call(__array, values[i]);\n      }\n    }\n  } else {\n    __array = [];\n  }\n\n  const internals = {\n    [arrayAtomicsSymbol]: {},\n    [arrayAtomicsBackupSymbol]: void 0,\n    [arrayPathSymbol]: path,\n    [arraySchemaSymbol]: schematype,\n    [arrayParentSymbol]: void 0,\n    isMongooseArray: true,\n    isMongooseArrayProxy: true,\n    __array: __array\n  };\n\n  if (values && values[arrayAtomicsSymbol] != null) {\n    internals[arrayAtomicsSymbol] = values[arrayAtomicsSymbol];\n  }\n\n  if (doc != null && doc.$__) {\n    internals[arrayParentSymbol] = doc;\n    internals[arraySchemaSymbol] = schematype || doc.schema.path(path);\n  }\n\n  const proxy = new Proxy(__array, {\n    get: function(target, prop) {\n      if (internals.hasOwnProperty(prop)) {\n        return internals[prop];\n      }\n      if (mongooseArrayMethods.hasOwnProperty(prop)) {\n        return mongooseArrayMethods[prop];\n      }\n      if (schematype && schematype.virtuals && schematype.virtuals.hasOwnProperty(prop)) {\n        return schematype.virtuals[prop].applyGetters(undefined, target);\n      }\n      if (typeof prop === 'string' && numberRE.test(prop) && schematype?.$embeddedSchemaType != null) {\n        return schematype.$embeddedSchemaType.applyGetters(__array[prop], doc);\n      }\n\n      return __array[prop];\n    },\n    set: function(target, prop, value) {\n      if (typeof prop === 'string' && numberRE.test(prop)) {\n        mongooseArrayMethods.set.call(proxy, prop, value, false);\n      } else if (internals.hasOwnProperty(prop)) {\n        internals[prop] = value;\n      } else if (schematype && schematype.virtuals && schematype.virtuals.hasOwnProperty(prop)) {\n        schematype.virtuals[prop].applySetters(value, target);\n      } else {\n        __array[prop] = value;\n      }\n\n      return true;\n    }\n  });\n\n  return proxy;\n}\n\n/*!\n * Module exports.\n */\n\nmodule.exports = exports = MongooseArray;\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 4124, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/backend/node_modules/mongoose/lib/types/documentArray/methods/index.js"],"sourcesContent":["'use strict';\n\nconst ArrayMethods = require('../../array/methods');\nconst Document = require('../../../document');\nconst castObjectId = require('../../../cast/objectid');\nconst getDiscriminatorByValue = require('../../../helpers/discriminator/getDiscriminatorByValue');\nconst internalToObjectOptions = require('../../../options').internalToObjectOptions;\nconst utils = require('../../../utils');\nconst isBsonType = require('../../../helpers/isBsonType');\n\nconst arrayParentSymbol = require('../../../helpers/symbols').arrayParentSymbol;\nconst arrayPathSymbol = require('../../../helpers/symbols').arrayPathSymbol;\nconst arraySchemaSymbol = require('../../../helpers/symbols').arraySchemaSymbol;\nconst documentArrayParent = require('../../../helpers/symbols').documentArrayParent;\n\nconst _baseToString = Array.prototype.toString;\n\nconst methods = {\n  /*!\n   * ignore\n   */\n\n  toBSON() {\n    return this.toObject(internalToObjectOptions);\n  },\n\n  toString() {\n    return _baseToString.call(this.__array.map(subdoc => {\n      if (subdoc != null && subdoc.$__ != null) {\n        return subdoc.toString();\n      }\n      return subdoc;\n    }));\n  },\n\n  /*!\n   * ignore\n   */\n\n  getArrayParent() {\n    return this[arrayParentSymbol];\n  },\n\n  /*!\n   * ignore\n   */\n  $schemaType() {\n    return this[arraySchemaSymbol];\n  },\n\n  /**\n   * Overrides MongooseArray#cast\n   *\n   * @method _cast\n   * @api private\n   * @memberOf MongooseDocumentArray\n   */\n\n  _cast(value, index, options) {\n    if (this[arraySchemaSymbol] == null) {\n      return value;\n    }\n    let Constructor = this[arraySchemaSymbol].casterConstructor;\n    const isInstance = Constructor.$isMongooseDocumentArray ?\n      utils.isMongooseDocumentArray(value) :\n      value instanceof Constructor;\n    if (isInstance ||\n        // Hack re: #5001, see #5005\n        (value && value.constructor && value.constructor.baseCasterConstructor === Constructor)) {\n      if (!(value[documentArrayParent] && value.__parentArray)) {\n        // value may have been created using array.create()\n        value[documentArrayParent] = this[arrayParentSymbol];\n        value.__parentArray = this;\n      }\n      value.$setIndex(index);\n      return value;\n    }\n\n    if (value === undefined || value === null) {\n      return null;\n    }\n\n    // handle cast('string') or cast(ObjectId) etc.\n    // only objects are permitted so we can safely assume that\n    // non-objects are to be interpreted as _id\n    if (Buffer.isBuffer(value) ||\n        isBsonType(value, 'ObjectId') || !utils.isObject(value)) {\n      value = { _id: value };\n    }\n\n    if (value &&\n        Constructor.discriminators &&\n        Constructor.schema &&\n        Constructor.schema.options &&\n        Constructor.schema.options.discriminatorKey) {\n      if (typeof value[Constructor.schema.options.discriminatorKey] === 'string' &&\n          Constructor.discriminators[value[Constructor.schema.options.discriminatorKey]]) {\n        Constructor = Constructor.discriminators[value[Constructor.schema.options.discriminatorKey]];\n      } else {\n        const constructorByValue = getDiscriminatorByValue(Constructor.discriminators, value[Constructor.schema.options.discriminatorKey]);\n        if (constructorByValue) {\n          Constructor = constructorByValue;\n        }\n      }\n    }\n\n    if (Constructor.$isMongooseDocumentArray) {\n      return Constructor.cast(value, this, undefined, undefined, index);\n    }\n    const ret = new Constructor(value, this, options, undefined, index);\n    ret.isNew = true;\n    return ret;\n  },\n\n  /**\n   * Searches array items for the first document with a matching _id.\n   *\n   * #### Example:\n   *\n   *     const embeddedDoc = m.array.id(some_id);\n   *\n   * @return {EmbeddedDocument|null} the subdocument or null if not found.\n   * @param {ObjectId|String|Number|Buffer} id\n   * @TODO cast to the _id based on schema for proper comparison\n   * @method id\n   * @api public\n   * @memberOf MongooseDocumentArray\n   */\n\n  id(id) {\n    let casted;\n    let sid;\n    let _id;\n\n    try {\n      casted = castObjectId(id).toString();\n    } catch (e) {\n      casted = null;\n    }\n\n    for (const val of this) {\n      if (!val) {\n        continue;\n      }\n\n      _id = val.get('_id');\n\n      if (_id === null || typeof _id === 'undefined') {\n        continue;\n      } else if (_id instanceof Document) {\n        sid || (sid = String(id));\n        if (sid == _id._id) {\n          return val;\n        }\n      } else if (!isBsonType(id, 'ObjectId') && !isBsonType(_id, 'ObjectId')) {\n        if (id == _id || utils.deepEqual(id, _id)) {\n          return val;\n        }\n      } else if (casted == _id) {\n        return val;\n      }\n    }\n\n    return null;\n  },\n\n  /**\n   * Returns a native js Array of plain js objects\n   *\n   * #### Note:\n   *\n   * _Each sub-document is converted to a plain object by calling its `#toObject` method._\n   *\n   * @param {Object} [options] optional options to pass to each documents `toObject` method call during conversion\n   * @return {Array}\n   * @method toObject\n   * @api public\n   * @memberOf MongooseDocumentArray\n   */\n\n  toObject(options) {\n    // `[].concat` coerces the return value into a vanilla JS array, rather\n    // than a Mongoose array.\n    return [].concat(this.map(function(doc) {\n      if (doc == null) {\n        return null;\n      }\n      if (typeof doc.toObject !== 'function') {\n        return doc;\n      }\n      return doc.toObject(options);\n    }));\n  },\n\n  $toObject() {\n    return this.constructor.prototype.toObject.apply(this, arguments);\n  },\n\n  /**\n   * Wraps [`Array#push`](https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/push) with proper change tracking.\n   *\n   * @param {...Object} [args]\n   * @api public\n   * @method push\n   * @memberOf MongooseDocumentArray\n   */\n\n  push() {\n    const ret = ArrayMethods.push.apply(this, arguments);\n\n    _updateParentPopulated(this);\n\n    return ret;\n  },\n\n  /**\n   * Pulls items from the array atomically.\n   *\n   * @param {...Object} [args]\n   * @api public\n   * @method pull\n   * @memberOf MongooseDocumentArray\n   */\n\n  pull() {\n    const ret = ArrayMethods.pull.apply(this, arguments);\n\n    _updateParentPopulated(this);\n\n    return ret;\n  },\n\n  /**\n   * Wraps [`Array#shift`](https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/unshift) with proper change tracking.\n   * @api private\n   */\n\n  shift() {\n    const ret = ArrayMethods.shift.apply(this, arguments);\n\n    _updateParentPopulated(this);\n\n    return ret;\n  },\n\n  /**\n   * Wraps [`Array#splice`](https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/splice) with proper change tracking and casting.\n   * @api private\n   */\n\n  splice() {\n    const ret = ArrayMethods.splice.apply(this, arguments);\n\n    _updateParentPopulated(this);\n\n    return ret;\n  },\n\n  /**\n   * Helper for console.log\n   *\n   * @method inspect\n   * @api public\n   * @memberOf MongooseDocumentArray\n   */\n\n  inspect() {\n    return this.toObject();\n  },\n\n  /**\n   * Creates a subdocument casted to this schema.\n   *\n   * This is the same subdocument constructor used for casting.\n   *\n   * @param {Object} obj the value to cast to this arrays SubDocument schema\n   * @method create\n   * @api public\n   * @memberOf MongooseDocumentArray\n   */\n\n  create(obj) {\n    let Constructor = this[arraySchemaSymbol].casterConstructor;\n    if (obj &&\n        Constructor.discriminators &&\n        Constructor.schema &&\n        Constructor.schema.options &&\n        Constructor.schema.options.discriminatorKey) {\n      if (typeof obj[Constructor.schema.options.discriminatorKey] === 'string' &&\n          Constructor.discriminators[obj[Constructor.schema.options.discriminatorKey]]) {\n        Constructor = Constructor.discriminators[obj[Constructor.schema.options.discriminatorKey]];\n      } else {\n        const constructorByValue = getDiscriminatorByValue(Constructor.discriminators, obj[Constructor.schema.options.discriminatorKey]);\n        if (constructorByValue) {\n          Constructor = constructorByValue;\n        }\n      }\n    }\n\n    return new Constructor(obj, this);\n  },\n\n  /*!\n   * ignore\n   */\n\n  notify(event) {\n    const _this = this;\n    return function notify(val, _arr) {\n      _arr = _arr || _this;\n      let i = _arr.length;\n      while (i--) {\n        if (_arr[i] == null) {\n          continue;\n        }\n        switch (event) {\n          // only swap for save event for now, we may change this to all event types later\n          case 'save':\n            val = _this[i];\n            break;\n          default:\n            // NO-OP\n            break;\n        }\n\n        if (utils.isMongooseArray(_arr[i])) {\n          notify(val, _arr[i]);\n        } else if (_arr[i]) {\n          _arr[i].emit(event, val);\n        }\n      }\n    };\n  },\n\n  set(i, val, skipModified) {\n    const arr = this.__array;\n    if (skipModified) {\n      arr[i] = val;\n      return this;\n    }\n    const value = methods._cast.call(this, val, i);\n    methods._markModified.call(this, i);\n    arr[i] = value;\n    return this;\n  },\n\n  _markModified(elem, embeddedPath) {\n    const parent = this[arrayParentSymbol];\n    let dirtyPath;\n\n    if (parent) {\n      dirtyPath = this[arrayPathSymbol];\n\n      if (arguments.length) {\n        if (embeddedPath != null) {\n          // an embedded doc bubbled up the change\n          const index = elem.__index;\n          dirtyPath = dirtyPath + '.' + index + '.' + embeddedPath;\n        } else {\n          // directly set an index\n          dirtyPath = dirtyPath + '.' + elem;\n        }\n      }\n\n      if (dirtyPath != null && dirtyPath.endsWith('.$')) {\n        return this;\n      }\n\n      parent.markModified(dirtyPath, arguments.length !== 0 ? elem : parent);\n    }\n\n    return this;\n  }\n};\n\nmodule.exports = methods;\n\n/**\n * If this is a document array, each element may contain single\n * populated paths, so we need to modify the top-level document's\n * populated cache. See gh-8247, gh-8265.\n * @param {Array} arr\n * @api private\n */\n\nfunction _updateParentPopulated(arr) {\n  const parent = arr[arrayParentSymbol];\n  if (!parent || parent.$__.populated == null) return;\n\n  const populatedPaths = Object.keys(parent.$__.populated).\n    filter(p => p.startsWith(arr[arrayPathSymbol] + '.'));\n\n  for (const path of populatedPaths) {\n    const remnant = path.slice((arr[arrayPathSymbol] + '.').length);\n    if (!Array.isArray(parent.$__.populated[path].value)) {\n      continue;\n    }\n\n    parent.$__.populated[path].value = arr.map(val => val.$populated(remnant));\n  }\n}\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 4437, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/backend/node_modules/mongoose/lib/types/documentArray/index.js"],"sourcesContent":["'use strict';\n\n/*!\n * Module dependencies.\n */\n\nconst ArrayMethods = require('../array/methods');\nconst DocumentArrayMethods = require('./methods');\n\nconst arrayAtomicsSymbol = require('../../helpers/symbols').arrayAtomicsSymbol;\nconst arrayAtomicsBackupSymbol = require('../../helpers/symbols').arrayAtomicsBackupSymbol;\nconst arrayParentSymbol = require('../../helpers/symbols').arrayParentSymbol;\nconst arrayPathSymbol = require('../../helpers/symbols').arrayPathSymbol;\nconst arraySchemaSymbol = require('../../helpers/symbols').arraySchemaSymbol;\n\nconst _basePush = Array.prototype.push;\nconst numberRE = /^\\d+$/;\n/**\n * DocumentArray constructor\n *\n * @param {Array} values\n * @param {String} path the path to this array\n * @param {Document} doc parent document\n * @api private\n * @return {MongooseDocumentArray}\n * @inherits MongooseArray\n * @see https://bit.ly/f6CnZU\n */\n\nfunction MongooseDocumentArray(values, path, doc, schematype) {\n  const __array = [];\n\n  const internals = {\n    [arrayAtomicsSymbol]: {},\n    [arrayAtomicsBackupSymbol]: void 0,\n    [arrayPathSymbol]: path,\n    [arraySchemaSymbol]: void 0,\n    [arrayParentSymbol]: void 0\n  };\n\n  if (Array.isArray(values)) {\n    if (values[arrayPathSymbol] === path &&\n        values[arrayParentSymbol] === doc) {\n      internals[arrayAtomicsSymbol] = Object.assign({}, values[arrayAtomicsSymbol]);\n    }\n    values.forEach(v => {\n      _basePush.call(__array, v);\n    });\n  }\n  internals[arrayPathSymbol] = path;\n  internals.__array = __array;\n\n  if (doc && doc.$__) {\n    internals[arrayParentSymbol] = doc;\n    internals[arraySchemaSymbol] = doc.$__schema.path(path);\n\n    // `schema.path()` doesn't drill into nested arrays properly yet, see\n    // gh-6398, gh-6602. This is a workaround because nested arrays are\n    // always plain non-document arrays, so once you get to a document array\n    // nesting is done. Matryoshka code.\n    while (internals[arraySchemaSymbol] != null &&\n        internals[arraySchemaSymbol].$isMongooseArray &&\n        !internals[arraySchemaSymbol].$isMongooseDocumentArray) {\n      internals[arraySchemaSymbol] = internals[arraySchemaSymbol].casterConstructor;\n    }\n  }\n\n  const proxy = new Proxy(__array, {\n    get: function(target, prop) {\n      if (prop === 'isMongooseArray' ||\n          prop === 'isMongooseArrayProxy' ||\n          prop === 'isMongooseDocumentArray' ||\n          prop === 'isMongooseDocumentArrayProxy') {\n        return true;\n      }\n      if (internals.hasOwnProperty(prop)) {\n        return internals[prop];\n      }\n      if (DocumentArrayMethods.hasOwnProperty(prop)) {\n        return DocumentArrayMethods[prop];\n      }\n      if (schematype && schematype.virtuals && schematype.virtuals.hasOwnProperty(prop)) {\n        return schematype.virtuals[prop].applyGetters(undefined, target);\n      }\n      if (ArrayMethods.hasOwnProperty(prop)) {\n        return ArrayMethods[prop];\n      }\n\n      return __array[prop];\n    },\n    set: function(target, prop, value) {\n      if (typeof prop === 'string' && numberRE.test(prop)) {\n        DocumentArrayMethods.set.call(proxy, prop, value, false);\n      } else if (internals.hasOwnProperty(prop)) {\n        internals[prop] = value;\n      } else if (schematype && schematype.virtuals && schematype.virtuals.hasOwnProperty(prop)) {\n        schematype.virtuals[prop].applySetters(value, target);\n      } else {\n        __array[prop] = value;\n      }\n\n      return true;\n    }\n  });\n\n  return proxy;\n}\n\n/*!\n * Module exports.\n */\n\nmodule.exports = MongooseDocumentArray;\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 4529, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/backend/node_modules/mongoose/lib/types/double.js"],"sourcesContent":["/**\n * Double type constructor\n *\n * #### Example:\n *\n *     const pi = new mongoose.Types.Double(3.1415);\n *\n * @constructor Double\n */\n\n'use strict';\n\nmodule.exports = require('bson').Double;\n"],"names":[],"mappings":"AAAA;;;;;;;;CAQC,GAID,OAAO,OAAO,GAAG,+FAAgB,MAAM","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 4542, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/backend/node_modules/mongoose/lib/types/map.js"],"sourcesContent":["'use strict';\n\nconst Mixed = require('../schema/mixed');\nconst MongooseError = require('../error/mongooseError');\nconst clone = require('../helpers/clone');\nconst deepEqual = require('../utils').deepEqual;\nconst getConstructorName = require('../helpers/getConstructorName');\nconst handleSpreadDoc = require('../helpers/document/handleSpreadDoc');\nconst util = require('util');\nconst specialProperties = require('../helpers/specialProperties');\nconst isBsonType = require('../helpers/isBsonType');\nconst cleanModifiedSubpaths = require('../helpers/document/cleanModifiedSubpaths');\n\nconst populateModelSymbol = require('../helpers/symbols').populateModelSymbol;\n\n/*!\n * ignore\n */\n\nclass MongooseMap extends Map {\n  constructor(v, path, doc, schemaType, options) {\n    if (getConstructorName(v) === 'Object') {\n      v = Object.keys(v).reduce((arr, key) => arr.concat([[key, v[key]]]), []);\n    }\n    super(v);\n    this.$__parent = doc != null && doc.$__ != null ? doc : null;\n\n    // Calculate the full path from the root document\n    // Priority: parent.$basePath (from subdoc) > options.path (from parent map/structure) > path (schema path)\n    // Subdocuments have the most up-to-date path info, so prefer that over options.path\n    if (this.$__parent?.$isSingleNested && this.$__parent.$basePath) {\n      this.$__path = this.$__parent.$basePath + '.' + path;\n      // Performance optimization: store path relative to parent subdocument\n      // to avoid string operations in set() hot path\n      this.$__pathRelativeToParent = path;\n    } else if (options?.path) {\n      this.$__path = options.path;\n      this.$__pathRelativeToParent = null;\n    } else {\n      this.$__path = path;\n      this.$__pathRelativeToParent = null;\n    }\n\n    this.$__schemaType = schemaType == null ? new Mixed(path) : schemaType;\n\n    this.$__runDeferred();\n  }\n\n  $init(key, value) {\n    checkValidKey(key);\n\n    super.set(key, value);\n\n    if (value != null && value.$isSingleNested) {\n      value.$basePath = this.$__path + '.' + key;\n      // Store the path relative to parent subdoc for efficient markModified()\n      if (this.$__pathRelativeToParent != null) {\n        // Map's parent is a subdocument, store path relative to that subdoc\n        value.$pathRelativeToParent = this.$__pathRelativeToParent + '.' + key;\n      } else {\n        // Map's parent is root document, store the full path\n        value.$pathRelativeToParent = this.$__path + '.' + key;\n      }\n    }\n  }\n\n  $__set(key, value) {\n    super.set(key, value);\n  }\n\n  /**\n   * Overwrites native Map's `get()` function to support Mongoose getters.\n   *\n   * @api public\n   * @method get\n   * @memberOf Map\n   */\n\n  get(key, options) {\n    if (isBsonType(key, 'ObjectId')) {\n      key = key.toString();\n    }\n\n    options = options || {};\n    if (options.getters === false) {\n      return super.get(key);\n    }\n    return this.$__schemaType.applyGetters(super.get(key), this.$__parent);\n  }\n\n  /**\n   * Overwrites native Map's `set()` function to support setters, `populate()`,\n   * and change tracking. Note that Mongoose maps _only_ support strings and\n   * ObjectIds as keys.\n   *\n   * Keys also cannot:\n   * - be named after special properties `prototype`, `constructor`, and `__proto__`\n   * - start with a dollar sign (`$`)\n   * - contain any dots (`.`)\n   *\n   * #### Example:\n   *\n   *     doc.myMap.set('test', 42); // works\n   *     doc.myMap.set({ obj: 42 }, 42); // Throws \"Mongoose maps only support string keys\"\n   *     doc.myMap.set(10, 42); // Throws \"Mongoose maps only support string keys\"\n   *     doc.myMap.set(\"$test\", 42); // Throws \"Mongoose maps do not support keys that start with \"$\", got \"$test\"\"\n   *\n   * @api public\n   * @method set\n   * @memberOf Map\n   */\n\n  set(key, value) {\n    if (isBsonType(key, 'ObjectId')) {\n      key = key.toString();\n    }\n\n    checkValidKey(key);\n    value = handleSpreadDoc(value);\n\n    // Weird, but because you can't assign to `this` before calling `super()`\n    // you can't get access to `$__schemaType` to cast in the initial call to\n    // `set()` from the `super()` constructor.\n\n    if (this.$__schemaType == null) {\n      this.$__deferred = this.$__deferred || [];\n      this.$__deferred.push({ key: key, value: value });\n      return;\n    }\n\n    let _fullPath;\n    const parent = this.$__parent;\n    const populated = parent != null && parent.$__ && parent.$__.populated ?\n      parent.$populated(fullPath.call(this), true) || parent.$populated(this.$__path, true) :\n      null;\n    const priorVal = this.get(key);\n\n    if (populated != null) {\n      if (this.$__schemaType.$isSingleNested) {\n        throw new MongooseError(\n          'Cannot manually populate single nested subdoc underneath Map ' +\n          `at path \"${this.$__path}\". Try using an array instead of a Map.`\n        );\n      }\n      if (Array.isArray(value) && this.$__schemaType.$isMongooseArray) {\n        value = value.map(v => {\n          if (v.$__ == null) {\n            v = new populated.options[populateModelSymbol](v);\n          }\n          // Doesn't support single nested \"in-place\" populate\n          v.$__.wasPopulated = { value: v._doc._id };\n          return v;\n        });\n      } else if (value != null) {\n        if (value.$__ == null) {\n          value = new populated.options[populateModelSymbol](value);\n        }\n        // Doesn't support single nested \"in-place\" populate\n        value.$__.wasPopulated = { value: value._doc._id };\n      }\n    } else {\n      try {\n        let options = null;\n        if (this.$__schemaType.$isMongooseDocumentArray || this.$__schemaType.$isSingleNested || this.$__schemaType.$isMongooseArray || this.$__schemaType.$isSchemaMap) {\n          options = { path: fullPath.call(this) };\n          // For subdocuments, also pass the relative path to avoid string operations\n          if (this.$__schemaType.$isSingleNested) {\n            options.pathRelativeToParent = this.$__pathRelativeToParent != null ?\n              this.$__pathRelativeToParent + '.' + key :\n              this.$__path + '.' + key;\n          }\n        }\n        value = this.$__schemaType.applySetters(\n          value,\n          this.$__parent,\n          false,\n          this.get(key),\n          options\n        );\n      } catch (error) {\n        if (this.$__parent != null && this.$__parent.$__ != null) {\n          this.$__parent.invalidate(fullPath.call(this), error);\n          return;\n        }\n        throw error;\n      }\n    }\n\n    super.set(key, value);\n\n    // Set relative path on subdocuments to avoid string operations in markModified()\n    // The path should be relative to the parent subdocument (if any), not just the key\n    if (value != null && value.$isSingleNested) {\n      if (this.$__pathRelativeToParent != null) {\n        // Map's parent is a subdocument, store path relative to that subdoc (e.g., 'items.i2')\n        value.$pathRelativeToParent = this.$__pathRelativeToParent + '.' + key;\n      } else {\n        // Map's parent is root document, store just the full path\n        value.$pathRelativeToParent = this.$__path + '.' + key;\n      }\n    }\n\n    if (parent != null && parent.$__ != null && !deepEqual(value, priorVal)) {\n      // Optimization: if parent is a subdocument, use precalculated relative path\n      // to avoid building a full path just to strip the parent's prefix\n      let pathToMark;\n      if (this.$__pathRelativeToParent != null) {\n        // Parent is a subdocument - use precalculated relative path (e.g., 'items.i1')\n        pathToMark = this.$__pathRelativeToParent + '.' + key;\n      } else {\n        // Parent is root document or map - use full path\n        pathToMark = fullPath.call(this);\n      }\n      parent.markModified(pathToMark);\n      // If overwriting the full document array or subdoc, make sure to clean up any paths that were modified\n      // before re: #15108\n      if (this.$__schemaType.$isMongooseDocumentArray || this.$__schemaType.$isSingleNested) {\n        cleanModifiedSubpaths(parent, pathToMark);\n      }\n    }\n\n    // Delay calculating full path unless absolutely necessary, because string\n    // concatenation is a bottleneck re: #13171\n    function fullPath() {\n      if (_fullPath) {\n        return _fullPath;\n      }\n      _fullPath = this.$__path + '.' + key;\n      return _fullPath;\n    }\n  }\n\n  /**\n   * Overwrites native Map's `clear()` function to support change tracking.\n   *\n   * @api public\n   * @method clear\n   * @memberOf Map\n   */\n\n  clear() {\n    super.clear();\n    const parent = this.$__parent;\n    if (parent != null) {\n      parent.markModified(this.$__path);\n    }\n  }\n\n  /**\n   * Overwrites native Map's `delete()` function to support change tracking.\n   *\n   * @api public\n   * @method delete\n   * @memberOf Map\n   */\n\n  delete(key) {\n    if (isBsonType(key, 'ObjectId')) {\n      key = key.toString();\n    }\n\n    this.set(key, undefined);\n    return super.delete(key);\n  }\n\n  /**\n   * Converts this map to a native JavaScript Map so the MongoDB driver can serialize it.\n   *\n   * @api public\n   * @method toBSON\n   * @memberOf Map\n   */\n\n  toBSON() {\n    return new Map(this);\n  }\n\n  toObject(options) {\n    if (options && options.flattenMaps) {\n      const ret = {};\n      const keys = this.keys();\n      for (const key of keys) {\n        ret[key] = clone(this.get(key), options);\n      }\n      return ret;\n    }\n\n    return new Map(this);\n  }\n\n  $toObject() {\n    return this.constructor.prototype.toObject.apply(this, arguments);\n  }\n\n  /**\n   * Converts this map to a native JavaScript Map for `JSON.stringify()`. Set\n   * the `flattenMaps` option to convert this map to a POJO instead.\n   *\n   * #### Example:\n   *\n   *     doc.myMap.toJSON() instanceof Map; // true\n   *     doc.myMap.toJSON({ flattenMaps: true }) instanceof Map; // false\n   *\n   * @api public\n   * @method toJSON\n   * @param {Object} [options]\n   * @param {Boolean} [options.flattenMaps=false] set to `true` to convert the map to a POJO rather than a native JavaScript map\n   * @memberOf Map\n   */\n\n  toJSON(options) {\n    if (typeof (options && options.flattenMaps) === 'boolean' ? options.flattenMaps : true) {\n      const ret = {};\n      const keys = this.keys();\n      for (const key of keys) {\n        ret[key] = clone(this.get(key), options);\n      }\n      return ret;\n    }\n\n    return new Map(this);\n  }\n\n  inspect() {\n    return new Map(this);\n  }\n\n  $__runDeferred() {\n    if (!this.$__deferred) {\n      return;\n    }\n\n    for (const keyValueObject of this.$__deferred) {\n      this.set(keyValueObject.key, keyValueObject.value);\n    }\n\n    this.$__deferred = null;\n  }\n}\n\nif (util.inspect.custom) {\n  Object.defineProperty(MongooseMap.prototype, util.inspect.custom, {\n    enumerable: false,\n    writable: false,\n    configurable: false,\n    value: MongooseMap.prototype.inspect\n  });\n}\n\nObject.defineProperty(MongooseMap.prototype, '$__set', {\n  enumerable: false,\n  writable: true,\n  configurable: false\n});\n\nObject.defineProperty(MongooseMap.prototype, '$__parent', {\n  enumerable: false,\n  writable: true,\n  configurable: false\n});\n\nObject.defineProperty(MongooseMap.prototype, '$__path', {\n  enumerable: false,\n  writable: true,\n  configurable: false\n});\n\nObject.defineProperty(MongooseMap.prototype, '$__schemaType', {\n  enumerable: false,\n  writable: true,\n  configurable: false\n});\n\n/**\n * Set to `true` for all Mongoose map instances\n *\n * @api public\n * @property $isMongooseMap\n * @memberOf MongooseMap\n * @instance\n */\n\nObject.defineProperty(MongooseMap.prototype, '$isMongooseMap', {\n  enumerable: false,\n  writable: false,\n  configurable: false,\n  value: true\n});\n\nObject.defineProperty(MongooseMap.prototype, '$__deferredCalls', {\n  enumerable: false,\n  writable: false,\n  configurable: false,\n  value: true\n});\n\n/**\n * Since maps are stored as objects under the hood, keys must be strings\n * and can't contain any invalid characters\n * @param {String} key\n * @api private\n */\n\nfunction checkValidKey(key) {\n  const keyType = typeof key;\n  if (keyType !== 'string') {\n    throw new TypeError(`Mongoose maps only support string keys, got ${keyType}`);\n  }\n  if (key.startsWith('$')) {\n    throw new Error(`Mongoose maps do not support keys that start with \"$\", got \"${key}\"`);\n  }\n  if (key.includes('.')) {\n    throw new Error(`Mongoose maps do not support keys that contain \".\", got \"${key}\"`);\n  }\n  if (specialProperties.has(key)) {\n    throw new Error(`Mongoose maps do not support reserved key name \"${key}\"`);\n  }\n}\n\nmodule.exports = MongooseMap;\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 4904, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/backend/node_modules/mongoose/lib/types/uuid.js"],"sourcesContent":["/**\n * UUID type constructor\n *\n * #### Example:\n *\n *     const id = new mongoose.Types.UUID();\n *\n * @constructor UUID\n */\n\n'use strict';\n\nmodule.exports = require('bson').UUID;\n"],"names":[],"mappings":"AAAA;;;;;;;;CAQC,GAID,OAAO,OAAO,GAAG,+FAAgB,IAAI","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 4917, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/backend/node_modules/mongoose/lib/types/index.js"],"sourcesContent":["\n/*!\n * Module exports.\n */\n\n'use strict';\n\nexports.Array = require('./array');\nexports.Buffer = require('./buffer');\n\nexports.Document = // @deprecate\nexports.Embedded = require('./arraySubdocument');\n\nexports.DocumentArray = require('./documentArray');\nexports.Double = require('./double');\nexports.Decimal128 = require('./decimal128');\nexports.ObjectId = require('./objectid');\n\nexports.Map = require('./map');\n\nexports.Subdocument = require('./subdocument');\n\nexports.UUID = require('./uuid');\n"],"names":[],"mappings":"AACA;;CAEC,GAID,QAAQ,KAAK;AACb,QAAQ,MAAM;AAEd,QAAQ,QAAQ,GAChB,QAAQ,QAAQ;AAEhB,QAAQ,aAAa;AACrB,QAAQ,MAAM;AACd,QAAQ,UAAU;AAClB,QAAQ,QAAQ;AAEhB,QAAQ,GAAG;AAEX,QAAQ,WAAW;AAEnB,QAAQ,IAAI","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 4933, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/backend/node_modules/mongoose/lib/options.js"],"sourcesContent":["'use strict';\n\n/*!\n * ignore\n */\n\nexports.internalToObjectOptions = {\n  transform: false,\n  virtuals: false,\n  getters: false,\n  _skipDepopulateTopLevel: true,\n  depopulate: true,\n  flattenDecimals: false,\n  useProjection: false,\n  versionKey: true,\n  flattenObjectIds: false\n};\n"],"names":[],"mappings":"AAEA;;CAEC,GAED,QAAQ,uBAAuB,GAAG;IAChC,WAAW;IACX,UAAU;IACV,SAAS;IACT,yBAAyB;IACzB,YAAY;IACZ,iBAAiB;IACjB,eAAe;IACf,YAAY;IACZ,kBAAkB;AACpB","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 4950, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/backend/node_modules/mongoose/lib/cursor/changeStream.js"],"sourcesContent":["'use strict';\n\n/*!\n * Module dependencies.\n */\n\nconst EventEmitter = require('events').EventEmitter;\nconst MongooseError = require('../error/mongooseError');\n\n/*!\n * ignore\n */\n\nconst driverChangeStreamEvents = ['close', 'change', 'end', 'error', 'resumeTokenChanged'];\n\n/*!\n * ignore\n */\n\nclass ChangeStream extends EventEmitter {\n  constructor(changeStreamThunk, pipeline, options) {\n    super();\n\n    this.driverChangeStream = null;\n    this.closed = false;\n    this.bindedEvents = false;\n    this.pipeline = pipeline;\n    this.options = options;\n    this.errored = false;\n\n    if (options && options.hydrate && !options.model) {\n      throw new Error(\n        'Cannot create change stream with `hydrate: true` ' +\n        'unless calling `Model.watch()`'\n      );\n    }\n\n    let syncError = null;\n    this.$driverChangeStreamPromise = new Promise((resolve, reject) => {\n      // This wrapper is necessary because of buffering.\n      try {\n        changeStreamThunk((err, driverChangeStream) => {\n          if (err != null) {\n            this.errored = true;\n            this.emit('error', err);\n            return reject(err);\n          }\n\n          this.driverChangeStream = driverChangeStream;\n          this.emit('ready');\n          resolve();\n        });\n      } catch (err) {\n        syncError = err;\n        this.errored = true;\n        this.emit('error', err);\n        reject(err);\n      }\n    });\n\n    // Because a ChangeStream is an event emitter, there's no way to register an 'error' handler\n    // that catches errors which occur in the constructor, unless we force sync errors into async\n    // errors with setImmediate(). For cleaner stack trace, we just immediately throw any synchronous\n    // errors that occurred with changeStreamThunk().\n    if (syncError != null) {\n      throw syncError;\n    }\n  }\n\n  _bindEvents() {\n    if (this.bindedEvents) {\n      return;\n    }\n\n    this.bindedEvents = true;\n\n    if (this.driverChangeStream == null) {\n      this.$driverChangeStreamPromise.then(\n        () => {\n          this.driverChangeStream.on('close', () => {\n            this.closed = true;\n          });\n\n          driverChangeStreamEvents.forEach(ev => {\n            this.driverChangeStream.on(ev, data => {\n              if (data != null && data.fullDocument != null && this.options && this.options.hydrate) {\n                data.fullDocument = this.options.model.hydrate(data.fullDocument);\n              }\n              this.emit(ev, data);\n            });\n          });\n        },\n        () => {} // No need to register events if opening change stream failed\n      );\n\n      return;\n    }\n\n    this.driverChangeStream.on('close', () => {\n      this.closed = true;\n    });\n\n    driverChangeStreamEvents.forEach(ev => {\n      this.driverChangeStream.on(ev, data => {\n        if (data != null && data.fullDocument != null && this.options && this.options.hydrate) {\n          data.fullDocument = this.options.model.hydrate(data.fullDocument);\n        }\n        this.emit(ev, data);\n      });\n    });\n  }\n\n  hasNext(cb) {\n    if (this.errored) {\n      throw new MongooseError('Cannot call hasNext() on errored ChangeStream');\n    }\n    return this.driverChangeStream.hasNext(cb);\n  }\n\n  next(cb) {\n    if (this.errored) {\n      throw new MongooseError('Cannot call next() on errored ChangeStream');\n    }\n    if (this.options && this.options.hydrate) {\n      if (cb != null) {\n        const originalCb = cb;\n        cb = (err, data) => {\n          if (err != null) {\n            return originalCb(err);\n          }\n          if (data.fullDocument != null) {\n            data.fullDocument = this.options.model.hydrate(data.fullDocument);\n          }\n          return originalCb(null, data);\n        };\n      }\n\n      let maybePromise = this.driverChangeStream.next(cb);\n      if (maybePromise && typeof maybePromise.then === 'function') {\n        maybePromise = maybePromise.then(data => {\n          if (data.fullDocument != null) {\n            data.fullDocument = this.options.model.hydrate(data.fullDocument);\n          }\n          return data;\n        });\n      }\n      return maybePromise;\n    }\n\n    return this.driverChangeStream.next(cb);\n  }\n\n  addListener(event, handler) {\n    if (this.errored) {\n      throw new MongooseError('Cannot call addListener() on errored ChangeStream');\n    }\n    this._bindEvents();\n    return super.addListener(event, handler);\n  }\n\n  on(event, handler) {\n    if (this.errored) {\n      throw new MongooseError('Cannot call on() on errored ChangeStream');\n    }\n    this._bindEvents();\n    return super.on(event, handler);\n  }\n\n  once(event, handler) {\n    if (this.errored) {\n      throw new MongooseError('Cannot call once() on errored ChangeStream');\n    }\n    this._bindEvents();\n    return super.once(event, handler);\n  }\n\n  _queue(cb) {\n    this.once('ready', () => cb());\n  }\n\n  close() {\n    this.closed = true;\n    if (this.driverChangeStream) {\n      return this.driverChangeStream.close();\n    } else {\n      return this.$driverChangeStreamPromise.then(\n        () => this.driverChangeStream.close(),\n        () => {} // No need to close if opening the change stream failed\n      );\n    }\n  }\n}\n\n/*!\n * ignore\n */\n\nmodule.exports = ChangeStream;\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 5117, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/backend/node_modules/mongoose/lib/cursor/queryCursor.js"],"sourcesContent":["/*!\n * Module dependencies.\n */\n\n'use strict';\n\nconst MongooseError = require('../error/mongooseError');\nconst Readable = require('stream').Readable;\nconst eachAsync = require('../helpers/cursor/eachAsync');\nconst helpers = require('../queryHelpers');\nconst kareem = require('kareem');\nconst immediate = require('../helpers/immediate');\nconst { once } = require('events');\nconst util = require('util');\n\n/**\n * A QueryCursor is a concurrency primitive for processing query results\n * one document at a time. A QueryCursor fulfills the Node.js streams3 API,\n * in addition to several other mechanisms for loading documents from MongoDB\n * one at a time.\n *\n * QueryCursors execute the model's pre `find` hooks before loading any documents\n * from MongoDB, and the model's post `find` hooks after loading each document.\n *\n * Unless you're an advanced user, do **not** instantiate this class directly.\n * Use [`Query#cursor()`](https://mongoosejs.com/docs/api/query.html#Query.prototype.cursor()) instead.\n *\n * @param {Query} query\n * @param {Object} options query options passed to `.find()`\n * @inherits Readable https://nodejs.org/api/stream.html#class-streamreadable\n * @event `cursor`: Emitted when the cursor is created\n * @event `error`: Emitted when an error occurred\n * @event `data`: Emitted when the stream is flowing and the next doc is ready\n * @event `end`: Emitted when the stream is exhausted\n * @api public\n */\n\nfunction QueryCursor(query) {\n  // set autoDestroy=true because on node 12 it's by default false\n  // gh-10902 need autoDestroy to destroy correctly and emit 'close' event\n  Readable.call(this, { autoDestroy: true, objectMode: true });\n\n  this.cursor = null;\n  this.skipped = false;\n  this.query = query;\n  this._closed = false;\n  const model = query.model;\n  this._mongooseOptions = {};\n  this._transforms = [];\n  this.model = model;\n  this.options = {};\n  model.hooks.execPre('find', query, (err) => {\n    if (err != null) {\n      if (err instanceof kareem.skipWrappedFunction) {\n        const resultValue = err.args[0];\n        if (resultValue != null && (!Array.isArray(resultValue) || resultValue.length)) {\n          const err = new MongooseError(\n            'Cannot `skipMiddlewareFunction()` with a value when using ' +\n            '`.find().cursor()`, value must be nullish or empty array, got \"' +\n            util.inspect(resultValue) +\n            '\".'\n          );\n          this._markError(err);\n          this.listeners('error').length > 0 && this.emit('error', err);\n          return;\n        }\n        this.skipped = true;\n        this.emit('cursor', null);\n        return;\n      }\n      this._markError(err);\n      this.listeners('error').length > 0 && this.emit('error', err);\n      return;\n    }\n    Object.assign(this.options, query._optionsForExec());\n    this._transforms = this._transforms.concat(query._transforms.slice());\n    if (this.options.transform) {\n      this._transforms.push(this.options.transform);\n    }\n    // Re: gh-8039, you need to set the `cursor.batchSize` option, top-level\n    // `batchSize` option doesn't work.\n    if (this.options.batchSize) {\n      // Max out the number of documents we'll populate in parallel at 5000.\n      this.options._populateBatchSize = Math.min(this.options.batchSize, 5000);\n    }\n    if (query._mongooseOptions._asyncIterator) {\n      this._mongooseOptions._asyncIterator = true;\n    }\n\n    if (model.collection._shouldBufferCommands() && model.collection.buffer) {\n      model.collection.queue.push([\n        () => _getRawCursor(query, this)\n      ]);\n    } else {\n      _getRawCursor(query, this);\n    }\n  });\n}\n\nutil.inherits(QueryCursor, Readable);\n\n/*!\n * ignore\n */\n\nfunction _getRawCursor(query, queryCursor) {\n  try {\n    const cursor = query.model.collection.find(query._conditions, queryCursor.options);\n    queryCursor.cursor = cursor;\n    queryCursor.emit('cursor', cursor);\n  } catch (err) {\n    queryCursor._markError(err);\n    queryCursor.listeners('error').length > 0 && queryCursor.emit('error', queryCursor._error);\n  }\n}\n\n/**\n * Necessary to satisfy the Readable API\n * @method _read\n * @memberOf QueryCursor\n * @instance\n * @api private\n */\n\nQueryCursor.prototype._read = function() {\n  _next(this, (error, doc) => {\n    if (error) {\n      return this.emit('error', error);\n    }\n    if (!doc) {\n      this.push(null);\n      this.cursor.close(function(error) {\n        if (error) {\n          return this.emit('error', error);\n        }\n      });\n      return;\n    }\n    this.push(doc);\n  });\n};\n\n/**\n * Returns the underlying cursor from the MongoDB Node driver that this cursor uses.\n *\n * @method getDriverCursor\n * @memberOf QueryCursor\n * @returns {Cursor} MongoDB Node driver cursor instance\n * @instance\n * @api public\n */\n\nQueryCursor.prototype.getDriverCursor = async function getDriverCursor() {\n  if (this.cursor) {\n    return this.cursor;\n  }\n\n  await once(this, 'cursor');\n  return this.cursor;\n};\n\n/**\n * Registers a transform function which subsequently maps documents retrieved\n * via the streams interface or `.next()`\n *\n * #### Example:\n *\n *     // Map documents returned by `data` events\n *     Thing.\n *       find({ name: /^hello/ }).\n *       cursor().\n *       map(function (doc) {\n *        doc.foo = \"bar\";\n *        return doc;\n *       })\n *       on('data', function(doc) { console.log(doc.foo); });\n *\n *     // Or map documents returned by `.next()`\n *     const cursor = Thing.find({ name: /^hello/ }).\n *       cursor().\n *       map(function (doc) {\n *         doc.foo = \"bar\";\n *         return doc;\n *       });\n *     cursor.next(function(error, doc) {\n *       console.log(doc.foo);\n *     });\n *\n * @param {Function} fn\n * @return {QueryCursor}\n * @memberOf QueryCursor\n * @api public\n * @method map\n */\n\nObject.defineProperty(QueryCursor.prototype, 'map', {\n  value: function(fn) {\n    this._transforms.push(fn);\n    return this;\n  },\n  enumerable: true,\n  configurable: true,\n  writable: true\n});\n\n/**\n * Marks this cursor as errored\n * @method _markError\n * @memberOf QueryCursor\n * @instance\n * @api private\n */\n\nQueryCursor.prototype._markError = function(error) {\n  this._error = error;\n  return this;\n};\n\n/**\n * Marks this cursor as closed. Will stop streaming and subsequent calls to\n * `next()` will error.\n *\n * @return {Promise}\n * @api public\n * @method close\n * @emits close\n * @see AggregationCursor.close https://mongodb.github.io/node-mongodb-native/4.9/classes/AggregationCursor.html#close\n */\n\nQueryCursor.prototype.close = async function close() {\n  if (typeof arguments[0] === 'function') {\n    throw new MongooseError('QueryCursor.prototype.close() no longer accepts a callback');\n  }\n  try {\n    await this.cursor.close();\n    this._closed = true;\n    this.emit('close');\n  } catch (error) {\n    this.listeners('error').length > 0 && this.emit('error', error);\n    throw error;\n  }\n};\n\n/**\n * Marks this cursor as destroyed. Will stop streaming and subsequent calls to\n * `next()` will error.\n *\n * @return {this}\n * @api private\n * @method _destroy\n */\n\nQueryCursor.prototype._destroy = function _destroy(_err, callback) {\n  let waitForCursor = null;\n  if (!this.cursor) {\n    waitForCursor = new Promise((resolve) => {\n      this.once('cursor', resolve);\n    });\n  } else {\n    waitForCursor = Promise.resolve();\n  }\n\n  waitForCursor\n    .then(() => {\n      this.cursor.close();\n    })\n    .then(() => {\n      this._closed = true;\n      callback();\n    })\n    .catch(error => {\n      callback(error);\n    });\n  return this;\n};\n\n/**\n * Rewind this cursor to its uninitialized state. Any options that are present on the cursor will\n * remain in effect. Iterating this cursor will cause new queries to be sent to the server, even\n * if the resultant data has already been retrieved by this cursor.\n *\n * @return {AggregationCursor} this\n * @api public\n * @method rewind\n */\n\nQueryCursor.prototype.rewind = function() {\n  _waitForCursor(this, () => {\n    this.cursor.rewind();\n  });\n  return this;\n};\n\n/**\n * Get the next document from this cursor. Will return `null` when there are\n * no documents left.\n *\n * @return {Promise}\n * @api public\n * @method next\n */\n\nQueryCursor.prototype.next = async function next() {\n  if (typeof arguments[0] === 'function') {\n    throw new MongooseError('QueryCursor.prototype.next() no longer accepts a callback');\n  }\n  if (this._closed) {\n    throw new MongooseError('Cannot call `next()` on a closed cursor');\n  }\n  return new Promise((resolve, reject) => {\n    _next(this, function(error, doc) {\n      if (error) {\n        return reject(error);\n      }\n      resolve(doc);\n    });\n  });\n};\n\n/**\n * Execute `fn` for every document in the cursor. If `fn` returns a promise,\n * will wait for the promise to resolve before iterating on to the next one.\n * Returns a promise that resolves when done.\n *\n * #### Example:\n *\n *     // Iterate over documents asynchronously\n *     Thing.\n *       find({ name: /^hello/ }).\n *       cursor().\n *       eachAsync(async function (doc, i) {\n *         doc.foo = doc.bar + i;\n *         await doc.save();\n *       })\n *\n * @param {Function} fn\n * @param {Object} [options]\n * @param {Number} [options.parallel] the number of promises to execute in parallel. Defaults to 1.\n * @param {Number} [options.batchSize] if set, will call `fn()` with arrays of documents with length at most `batchSize`\n * @param {Boolean} [options.continueOnError=false] if true, `eachAsync()` iterates through all docs even if `fn` throws an error. If false, `eachAsync()` throws an error immediately if the given function `fn()` throws an error.\n * @return {Promise}\n * @api public\n * @method eachAsync\n */\n\nQueryCursor.prototype.eachAsync = function(fn, opts) {\n  if (typeof arguments[2] === 'function') {\n    throw new MongooseError('QueryCursor.prototype.eachAsync() no longer accepts a callback');\n  }\n  if (typeof opts === 'function') {\n    opts = {};\n  }\n  opts = opts || {};\n\n  return eachAsync((cb) => _next(this, cb), fn, opts);\n};\n\n/**\n * The `options` passed in to the `QueryCursor` constructor.\n *\n * @api public\n * @property options\n */\n\nQueryCursor.prototype.options;\n\n/**\n * Adds a [cursor flag](https://mongodb.github.io/node-mongodb-native/4.9/classes/FindCursor.html#addCursorFlag).\n * Useful for setting the `noCursorTimeout` and `tailable` flags.\n *\n * @param {String} flag\n * @param {Boolean} value\n * @return {AggregationCursor} this\n * @api public\n * @method addCursorFlag\n */\n\nQueryCursor.prototype.addCursorFlag = function(flag, value) {\n  _waitForCursor(this, () => {\n    this.cursor.addCursorFlag(flag, value);\n  });\n  return this;\n};\n\n/**\n * Returns an asyncIterator for use with [`for/await/of` loops](https://thecodebarbarian.com/getting-started-with-async-iterators-in-node-js).\n * You do not need to call this function explicitly, the JavaScript runtime\n * will call it for you.\n *\n * #### Example:\n *\n *     // Works without using `cursor()`\n *     for await (const doc of Model.find([{ $sort: { name: 1 } }])) {\n *       console.log(doc.name);\n *     }\n *\n *     // Can also use `cursor()`\n *     for await (const doc of Model.find([{ $sort: { name: 1 } }]).cursor()) {\n *       console.log(doc.name);\n *     }\n *\n * Node.js 10.x supports async iterators natively without any flags. You can\n * enable async iterators in Node.js 8.x using the [`--harmony_async_iteration` flag](https://github.com/tc39/proposal-async-iteration/issues/117#issuecomment-346695187).\n *\n * **Note:** This function is not if `Symbol.asyncIterator` is undefined. If\n * `Symbol.asyncIterator` is undefined, that means your Node.js version does not\n * support async iterators.\n *\n * @method [Symbol.asyncIterator]\n * @memberOf QueryCursor\n * @instance\n * @api public\n */\n\nif (Symbol.asyncIterator != null) {\n  QueryCursor.prototype[Symbol.asyncIterator] = function queryCursorAsyncIterator() {\n    // Set so QueryCursor knows it should transform results for async iterators into `{ value, done }` syntax\n    this._mongooseOptions._asyncIterator = true;\n    return this;\n  };\n}\n\n/**\n * Get the next doc from the underlying cursor and mongooseify it\n * (populate, etc.)\n * @param {Any} ctx\n * @param {Function} cb\n * @api private\n */\n\nfunction _next(ctx, cb) {\n  let callback = cb;\n\n  // Create a custom callback to handle transforms, async iterator, and transformNull\n  callback = function(err, doc) {\n    if (err) {\n      return cb(err);\n    }\n\n    // Handle null documents - if asyncIterator, we need to return `done: true`, otherwise just\n    // skip. In either case, avoid transforms.\n    if (doc === null) {\n      if (ctx._mongooseOptions._asyncIterator) {\n        return cb(null, { done: true });\n      } else {\n        return cb(null, null);\n      }\n    }\n\n    // Apply transforms\n    if (ctx._transforms.length && doc !== null) {\n      doc = ctx._transforms.reduce(function(doc, fn) {\n        return fn.call(ctx, doc);\n      }, doc);\n    }\n\n    // This option is set in `Symbol.asyncIterator` code paths.\n    // For async iterator, we need to convert to {value, done} format\n    if (ctx._mongooseOptions._asyncIterator) {\n      return cb(null, { value: doc, done: false });\n    }\n\n    return cb(null, doc);\n  };\n\n  if (ctx._error) {\n    return immediate(function() {\n      callback(ctx._error);\n    });\n  }\n  if (ctx.skipped) {\n    return immediate(() => callback(null, null));\n  }\n\n  if (ctx.cursor) {\n    if (ctx.query._mongooseOptions.populate && !ctx._pop) {\n      ctx._pop = helpers.preparePopulationOptionsMQ(ctx.query,\n        ctx.query._mongooseOptions);\n      ctx._pop.__noPromise = true;\n    }\n    if (ctx.query._mongooseOptions.populate && ctx.options._populateBatchSize > 1) {\n      if (ctx._batchDocs && ctx._batchDocs.length) {\n        // Return a cached populated doc\n        return _nextDoc(ctx, ctx._batchDocs.shift(), ctx._pop, callback);\n      } else if (ctx._batchExhausted) {\n        // Internal cursor reported no more docs. Act the same here\n        return callback(null, null);\n      } else {\n        // Request as many docs as batchSize, to populate them also in batch\n        ctx._batchDocs = [];\n        ctx.cursor.next().then(\n          res => { _onNext.call({ ctx, callback }, null, res); },\n          err => { _onNext.call({ ctx, callback }, err); }\n        );\n        return;\n      }\n    } else {\n      return ctx.cursor.next().then(\n        doc => {\n          if (!doc) {\n            callback(null, null);\n            return;\n          }\n\n          if (!ctx.query._mongooseOptions.populate) {\n            return _nextDoc(ctx, doc, null, callback);\n          }\n\n          _nextDoc(ctx, doc, ctx._pop, (err, doc) => {\n            if (err != null) {\n              return callback(err);\n            }\n            ctx.query.model.populate(doc, ctx._pop).then(\n              doc => callback(null, doc),\n              err => callback(err)\n            );\n          });\n        },\n        error => {\n          callback(error);\n        }\n      );\n    }\n  } else {\n    ctx.once('error', cb);\n\n    ctx.once('cursor', function(cursor) {\n      ctx.removeListener('error', cb);\n      if (cursor == null) {\n        if (ctx.skipped) {\n          return cb(null, null);\n        }\n        return;\n      }\n      _next(ctx, cb);\n    });\n  }\n}\n\n/*!\n * ignore\n */\n\nfunction _onNext(error, doc) {\n  if (error) {\n    return this.callback(error);\n  }\n  if (!doc) {\n    this.ctx._batchExhausted = true;\n    return _populateBatch.call(this);\n  }\n\n  this.ctx._batchDocs.push(doc);\n\n  if (this.ctx._batchDocs.length < this.ctx.options._populateBatchSize) {\n    // If both `batchSize` and `_populateBatchSize` are huge, calling `next()` repeatedly may\n    // cause a stack overflow. So make sure we clear the stack.\n    immediate(() => this.ctx.cursor.next().then(\n      res => { _onNext.call(this, null, res); },\n      err => { _onNext.call(this, err); }\n    ));\n  } else {\n    _populateBatch.call(this);\n  }\n}\n\n/*!\n * ignore\n */\n\nfunction _populateBatch() {\n  if (!this.ctx._batchDocs.length) {\n    return this.callback(null, null);\n  }\n  this.ctx.query.model.populate(this.ctx._batchDocs, this.ctx._pop).then(\n    () => {\n      _nextDoc(this.ctx, this.ctx._batchDocs.shift(), this.ctx._pop, this.callback);\n    },\n    err => {\n      this.callback(err);\n    }\n  );\n}\n\n/*!\n * ignore\n */\n\nfunction _nextDoc(ctx, doc, pop, callback) {\n  if (ctx.query._mongooseOptions.lean) {\n    return ctx.model.hooks.execPost('find', ctx.query, [[doc]], err => {\n      if (err != null) {\n        return callback(err);\n      }\n      callback(null, doc);\n    });\n  }\n\n  const { model, _fields, _userProvidedFields, options } = ctx.query;\n  helpers.createModelAndInit(model, doc, _fields, _userProvidedFields, options, pop, (err, doc) => {\n    if (err != null) {\n      return callback(err);\n    }\n    ctx.model.hooks.execPost('find', ctx.query, [[doc]], err => {\n      if (err != null) {\n        return callback(err);\n      }\n      callback(null, doc);\n    });\n  });\n}\n\n/*!\n * ignore\n */\n\nfunction _waitForCursor(ctx, cb) {\n  if (ctx.cursor) {\n    return cb();\n  }\n  ctx.once('cursor', function(cursor) {\n    if (cursor == null) {\n      return;\n    }\n    cb();\n  });\n}\n\nmodule.exports = QueryCursor;\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 5675, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/backend/node_modules/mongoose/lib/cursor/aggregationCursor.js"],"sourcesContent":["/*!\n * Module dependencies.\n */\n\n'use strict';\n\nconst MongooseError = require('../error/mongooseError');\nconst Readable = require('stream').Readable;\nconst eachAsync = require('../helpers/cursor/eachAsync');\nconst immediate = require('../helpers/immediate');\nconst kareem = require('kareem');\nconst util = require('util');\n\n/**\n * An AggregationCursor is a concurrency primitive for processing aggregation\n * results one document at a time. It is analogous to QueryCursor.\n *\n * An AggregationCursor fulfills the Node.js streams3 API,\n * in addition to several other mechanisms for loading documents from MongoDB\n * one at a time.\n *\n * Creating an AggregationCursor executes the model's pre aggregate hooks,\n * but **not** the model's post aggregate hooks.\n *\n * Unless you're an advanced user, do **not** instantiate this class directly.\n * Use [`Aggregate#cursor()`](https://mongoosejs.com/docs/api/aggregate.html#Aggregate.prototype.cursor()) instead.\n *\n * @param {Aggregate} agg\n * @inherits Readable https://nodejs.org/api/stream.html#class-streamreadable\n * @event `cursor`: Emitted when the cursor is created\n * @event `error`: Emitted when an error occurred\n * @event `data`: Emitted when the stream is flowing and the next doc is ready\n * @event `end`: Emitted when the stream is exhausted\n * @api public\n */\n\nfunction AggregationCursor(agg) {\n  // set autoDestroy=true because on node 12 it's by default false\n  // gh-10902 need autoDestroy to destroy correctly and emit 'close' event\n  Readable.call(this, { autoDestroy: true, objectMode: true });\n\n  this.cursor = null;\n  this.agg = agg;\n  this._transforms = [];\n  const connection = agg._connection;\n  const model = agg._model;\n  delete agg.options.cursor.useMongooseAggCursor;\n  this._mongooseOptions = {};\n\n  if (connection) {\n    this.cursor = connection.db.aggregate(agg._pipeline, agg.options || {});\n    setImmediate(() => this.emit('cursor', this.cursor));\n  } else {\n    _init(model, this, agg);\n  }\n}\n\nutil.inherits(AggregationCursor, Readable);\n\n/*!\n * ignore\n */\n\nfunction _init(model, c, agg) {\n  if (!model.collection.buffer) {\n    model.hooks.execPre('aggregate', agg, function(err) {\n      if (err != null) {\n        _handlePreHookError(c, err);\n        return;\n      }\n      if (typeof agg.options?.cursor?.transform === 'function') {\n        c._transforms.push(agg.options.cursor.transform);\n      }\n\n      c.cursor = model.collection.aggregate(agg._pipeline, agg.options || {});\n      c.emit('cursor', c.cursor);\n    });\n  } else {\n    model.collection.emitter.once('queue', function() {\n      model.hooks.execPre('aggregate', agg, function(err) {\n        if (err != null) {\n          _handlePreHookError(c, err);\n          return;\n        }\n\n        if (typeof agg.options?.cursor?.transform === 'function') {\n          c._transforms.push(agg.options.cursor.transform);\n        }\n\n        c.cursor = model.collection.aggregate(agg._pipeline, agg.options || {});\n        c.emit('cursor', c.cursor);\n      });\n    });\n  }\n}\n\n/**\n* Handles error emitted from pre middleware. In particular, checks for `skipWrappedFunction`, which allows skipping\n* the actual aggregation and overwriting the function's return value. Because aggregation cursors don't return a value,\n* we need to make sure the user doesn't accidentally set a value in skipWrappedFunction.\n*\n* @param {QueryCursor} queryCursor\n* @param {Error} err\n* @returns\n*/\n\nfunction _handlePreHookError(queryCursor, err) {\n  if (err instanceof kareem.skipWrappedFunction) {\n    const resultValue = err.args[0];\n    if (resultValue != null && (!Array.isArray(resultValue) || resultValue.length)) {\n      const err = new MongooseError(\n        'Cannot `skipMiddlewareFunction()` with a value when using ' +\n        '`.aggregate().cursor()`, value must be nullish or empty array, got \"' +\n        util.inspect(resultValue) +\n        '\".'\n      );\n      queryCursor._markError(err);\n      queryCursor.listeners('error').length > 0 && queryCursor.emit('error', err);\n      return;\n    }\n    queryCursor.emit('cursor', null);\n    return;\n  }\n  queryCursor._markError(err);\n  queryCursor.listeners('error').length > 0 && queryCursor.emit('error', err);\n}\n\n\n/**\n * Necessary to satisfy the Readable API\n * @method _read\n * @memberOf AggregationCursor\n * @instance\n * @api private\n */\n\nAggregationCursor.prototype._read = function() {\n  const _this = this;\n  _next(this, function(error, doc) {\n    if (error) {\n      return _this.emit('error', error);\n    }\n    if (!doc) {\n      _this.push(null);\n      _this.cursor.close(function(error) {\n        if (error) {\n          return _this.emit('error', error);\n        }\n      });\n      return;\n    }\n    _this.push(doc);\n  });\n};\n\nif (Symbol.asyncIterator != null) {\n  const msg = 'Mongoose does not support using async iterators with an ' +\n    'existing aggregation cursor. See https://bit.ly/mongoose-async-iterate-aggregation';\n\n  AggregationCursor.prototype[Symbol.asyncIterator] = function() {\n    throw new MongooseError(msg);\n  };\n}\n\n/**\n * Registers a transform function which subsequently maps documents retrieved\n * via the streams interface or `.next()`\n *\n * #### Example:\n *\n *     // Map documents returned by `data` events\n *     Thing.\n *       find({ name: /^hello/ }).\n *       cursor().\n *       map(function (doc) {\n *        doc.foo = \"bar\";\n *        return doc;\n *       })\n *       on('data', function(doc) { console.log(doc.foo); });\n *\n *     // Or map documents returned by `.next()`\n *     const cursor = Thing.find({ name: /^hello/ }).\n *       cursor().\n *       map(function (doc) {\n *         doc.foo = \"bar\";\n *         return doc;\n *       });\n *     cursor.next(function(error, doc) {\n *       console.log(doc.foo);\n *     });\n *\n * @param {Function} fn\n * @return {AggregationCursor}\n * @memberOf AggregationCursor\n * @api public\n * @method map\n */\n\nObject.defineProperty(AggregationCursor.prototype, 'map', {\n  value: function(fn) {\n    this._transforms.push(fn);\n    return this;\n  },\n  enumerable: true,\n  configurable: true,\n  writable: true\n});\n\n/**\n * Marks this cursor as errored\n * @method _markError\n * @instance\n * @memberOf AggregationCursor\n * @api private\n */\n\nAggregationCursor.prototype._markError = function(error) {\n  this._error = error;\n  return this;\n};\n\n/**\n * Marks this cursor as closed. Will stop streaming and subsequent calls to\n * `next()` will error.\n *\n * @return {Promise}\n * @api public\n * @method close\n * @emits \"close\"\n * @see AggregationCursor.close https://mongodb.github.io/node-mongodb-native/4.9/classes/AggregationCursor.html#close\n */\n\nAggregationCursor.prototype.close = async function close() {\n  if (typeof arguments[0] === 'function') {\n    throw new MongooseError('AggregationCursor.prototype.close() no longer accepts a callback');\n  }\n  try {\n    await this.cursor.close();\n  } catch (error) {\n    this.listeners('error').length > 0 && this.emit('error', error);\n    throw error;\n  }\n  this.emit('close');\n};\n\n/**\n * Marks this cursor as destroyed. Will stop streaming and subsequent calls to\n * `next()` will error.\n *\n * @return {this}\n * @api private\n * @method _destroy\n */\n\nAggregationCursor.prototype._destroy = function _destroy(_err, callback) {\n  let waitForCursor = null;\n  if (!this.cursor) {\n    waitForCursor = new Promise((resolve) => {\n      this.once('cursor', resolve);\n    });\n  } else {\n    waitForCursor = Promise.resolve();\n  }\n\n  waitForCursor\n    .then(() => this.cursor.close())\n    .then(() => {\n      this._closed = true;\n      callback();\n    })\n    .catch(error => {\n      callback(error);\n    });\n  return this;\n};\n\n/**\n * Get the next document from this cursor. Will return `null` when there are\n * no documents left.\n *\n * @return {Promise}\n * @api public\n * @method next\n */\n\nAggregationCursor.prototype.next = async function next() {\n  if (typeof arguments[0] === 'function') {\n    throw new MongooseError('AggregationCursor.prototype.next() no longer accepts a callback');\n  }\n  return new Promise((resolve, reject) => {\n    _next(this, (err, res) => {\n      if (err != null) {\n        return reject(err);\n      }\n      resolve(res);\n    });\n  });\n};\n\n/**\n * Execute `fn` for every document in the cursor. If `fn` returns a promise,\n * will wait for the promise to resolve before iterating on to the next one.\n * Returns a promise that resolves when done.\n *\n * @param {Function} fn\n * @param {Object} [options]\n * @param {Number} [options.parallel] the number of promises to execute in parallel. Defaults to 1.\n * @param {Number} [options.batchSize=null] if set, Mongoose will call `fn` with an array of at most `batchSize` documents, instead of a single document\n * @param {Boolean} [options.continueOnError=false] if true, `eachAsync()` iterates through all docs even if `fn` throws an error. If false, `eachAsync()` throws an error immediately if the given function `fn()` throws an error.\n * @return {Promise}\n * @api public\n * @method eachAsync\n */\n\nAggregationCursor.prototype.eachAsync = function(fn, opts) {\n  if (typeof arguments[2] === 'function') {\n    throw new MongooseError('AggregationCursor.prototype.eachAsync() no longer accepts a callback');\n  }\n  const _this = this;\n  if (typeof opts === 'function') {\n    opts = {};\n  }\n  opts = opts || {};\n\n  return eachAsync(function(cb) { return _next(_this, cb); }, fn, opts);\n};\n\n/**\n * Returns an asyncIterator for use with [`for/await/of` loops](https://thecodebarbarian.com/getting-started-with-async-iterators-in-node-js)\n * You do not need to call this function explicitly, the JavaScript runtime\n * will call it for you.\n *\n * #### Example:\n *\n *     // Async iterator without explicitly calling `cursor()`. Mongoose still\n *     // creates an AggregationCursor instance internally.\n *     const agg = Model.aggregate([{ $match: { age: { $gte: 25 } } }]);\n *     for await (const doc of agg) {\n *       console.log(doc.name);\n *     }\n *\n *     // You can also use an AggregationCursor instance for async iteration\n *     const cursor = Model.aggregate([{ $match: { age: { $gte: 25 } } }]).cursor();\n *     for await (const doc of cursor) {\n *       console.log(doc.name);\n *     }\n *\n * Node.js 10.x supports async iterators natively without any flags. You can\n * enable async iterators in Node.js 8.x using the [`--harmony_async_iteration` flag](https://github.com/tc39/proposal-async-iteration/issues/117#issuecomment-346695187).\n *\n * **Note:** This function is not set if `Symbol.asyncIterator` is undefined. If\n * `Symbol.asyncIterator` is undefined, that means your Node.js version does not\n * support async iterators.\n *\n * @method [Symbol.asyncIterator]\n * @memberOf AggregationCursor\n * @instance\n * @api public\n */\n\nif (Symbol.asyncIterator != null) {\n  AggregationCursor.prototype[Symbol.asyncIterator] = function() {\n    return this.transformNull()._transformForAsyncIterator();\n  };\n}\n\n/*!\n * ignore\n */\n\nAggregationCursor.prototype._transformForAsyncIterator = function() {\n  if (this._transforms.indexOf(_transformForAsyncIterator) === -1) {\n    this.map(_transformForAsyncIterator);\n  }\n  return this;\n};\n\n/*!\n * ignore\n */\n\nAggregationCursor.prototype.transformNull = function(val) {\n  if (arguments.length === 0) {\n    val = true;\n  }\n  this._mongooseOptions.transformNull = val;\n  return this;\n};\n\n/*!\n * ignore\n */\n\nfunction _transformForAsyncIterator(doc) {\n  return doc == null ? { done: true } : { value: doc, done: false };\n}\n\n/**\n * Adds a [cursor flag](https://mongodb.github.io/node-mongodb-native/4.9/classes/AggregationCursor.html#addCursorFlag).\n * Useful for setting the `noCursorTimeout` and `tailable` flags.\n *\n * @param {String} flag\n * @param {Boolean} value\n * @return {AggregationCursor} this\n * @api public\n * @method addCursorFlag\n */\n\nAggregationCursor.prototype.addCursorFlag = function(flag, value) {\n  const _this = this;\n  _waitForCursor(this, function() {\n    _this.cursor.addCursorFlag(flag, value);\n  });\n  return this;\n};\n\n/*!\n * ignore\n */\n\nfunction _waitForCursor(ctx, cb) {\n  if (ctx.cursor) {\n    return cb();\n  }\n  ctx.once('cursor', function() {\n    cb();\n  });\n}\n\n/**\n * Get the next doc from the underlying cursor and mongooseify it\n * (populate, etc.)\n * @param {Any} ctx\n * @param {Function} cb\n * @api private\n */\n\nfunction _next(ctx, cb) {\n  let callback = cb;\n  if (ctx._transforms.length) {\n    callback = function(err, doc) {\n      if (err || (doc === null && !ctx._mongooseOptions.transformNull)) {\n        return cb(err, doc);\n      }\n      cb(err, ctx._transforms.reduce(function(doc, fn) {\n        return fn(doc);\n      }, doc));\n    };\n  }\n\n  if (ctx._error) {\n    return immediate(function() {\n      callback(ctx._error);\n    });\n  }\n\n  if (ctx.cursor) {\n    return ctx.cursor.next().then(\n      doc => {\n        if (!doc) {\n          return callback(null, null);\n        }\n\n        callback(null, doc);\n      },\n      err => callback(err)\n    );\n  } else {\n    ctx.once('error', cb);\n    ctx.once('cursor', function() {\n      _next(ctx, cb);\n    });\n  }\n}\n\nmodule.exports = AggregationCursor;\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 6083, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/backend/node_modules/mongoose/lib/cast/boolean.js"],"sourcesContent":["'use strict';\n\nconst CastError = require('../error/cast');\n\n/**\n * Given a value, cast it to a boolean, or throw a `CastError` if the value\n * cannot be casted. `null` and `undefined` are considered valid.\n *\n * @param {Any} value\n * @param {String} [path] optional the path to set on the CastError\n * @return {Boolean|null|undefined}\n * @throws {CastError} if `value` is not one of the allowed values\n * @api private\n */\n\nmodule.exports = function castBoolean(value, path) {\n  if (module.exports.convertToTrue.has(value)) {\n    return true;\n  }\n  if (module.exports.convertToFalse.has(value)) {\n    return false;\n  }\n\n  if (value == null) {\n    return value;\n  }\n\n  throw new CastError('boolean', value, path);\n};\n\nmodule.exports.convertToTrue = new Set([true, 'true', 1, '1', 'yes']);\nmodule.exports.convertToFalse = new Set([false, 'false', 0, '0', 'no']);\n"],"names":[],"mappings":"AAEA,MAAM;AAEN;;;;;;;;;CASC,GAED,OAAO,OAAO,GAAG,SAAS,YAAY,KAAK,EAAE,IAAI;IAC/C,IAAI,OAAO,OAAO,CAAC,aAAa,CAAC,GAAG,CAAC,QAAQ;QAC3C,OAAO;IACT;IACA,IAAI,OAAO,OAAO,CAAC,cAAc,CAAC,GAAG,CAAC,QAAQ;QAC5C,OAAO;IACT;IAEA,IAAI,SAAS,MAAM;QACjB,OAAO;IACT;IAEA,MAAM,IAAI,UAAU,WAAW,OAAO;AACxC;AAEA,OAAO,OAAO,CAAC,aAAa,GAAG,IAAI,IAAI;IAAC;IAAM;IAAQ;IAAG;IAAK;CAAM;AACpE,OAAO,OAAO,CAAC,cAAc,GAAG,IAAI,IAAI;IAAC;IAAO;IAAS;IAAG;IAAK;CAAK","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 6123, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/backend/node_modules/mongoose/lib/cast/objectid.js"],"sourcesContent":["'use strict';\n\nconst isBsonType = require('../helpers/isBsonType');\nconst ObjectId = require('../types/objectid');\n\nmodule.exports = function castObjectId(value) {\n  if (value == null) {\n    return value;\n  }\n\n  if (isBsonType(value, 'ObjectId')) {\n    return value;\n  }\n\n  if (value._id) {\n    if (isBsonType(value._id, 'ObjectId')) {\n      return value._id;\n    }\n    if (value._id.toString instanceof Function) {\n      return new ObjectId(value._id.toString());\n    }\n  }\n\n  if (value.toString instanceof Function) {\n    return new ObjectId(value.toString());\n  }\n\n  return new ObjectId(value);\n};\n"],"names":[],"mappings":"AAEA,MAAM;AACN,MAAM;AAEN,OAAO,OAAO,GAAG,SAAS,aAAa,KAAK;IAC1C,IAAI,SAAS,MAAM;QACjB,OAAO;IACT;IAEA,IAAI,WAAW,OAAO,aAAa;QACjC,OAAO;IACT;IAEA,IAAI,MAAM,GAAG,EAAE;QACb,IAAI,WAAW,MAAM,GAAG,EAAE,aAAa;YACrC,OAAO,MAAM,GAAG;QAClB;QACA,IAAI,MAAM,GAAG,CAAC,QAAQ,YAAY,UAAU;YAC1C,OAAO,IAAI,SAAS,MAAM,GAAG,CAAC,QAAQ;QACxC;IACF;IAEA,IAAI,MAAM,QAAQ,YAAY,UAAU;QACtC,OAAO,IAAI,SAAS,MAAM,QAAQ;IACpC;IAEA,OAAO,IAAI,SAAS;AACtB","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 6149, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/backend/node_modules/mongoose/lib/cast/number.js"],"sourcesContent":["'use strict';\n\nconst assert = require('assert');\n\n/**\n * Given a value, cast it to a number, or throw an `Error` if the value\n * cannot be casted. `null` and `undefined` are considered valid.\n *\n * @param {Any} value\n * @return {Number}\n * @throws {Error} if `value` is not one of the allowed values\n * @api private\n */\n\nmodule.exports = function castNumber(val) {\n  if (val == null) {\n    return val;\n  }\n  if (val === '') {\n    return null;\n  }\n\n  if (typeof val === 'string' || typeof val === 'boolean') {\n    val = Number(val);\n  }\n\n  assert.ok(!isNaN(val));\n  if (val instanceof Number) {\n    return val.valueOf();\n  }\n  if (typeof val === 'number') {\n    return val;\n  }\n  if (!Array.isArray(val) && typeof val.valueOf === 'function') {\n    return Number(val.valueOf());\n  }\n  if (val.toString && !Array.isArray(val) && val.toString() == Number(val)) {\n    return Number(val);\n  }\n\n  assert.ok(false);\n};\n"],"names":[],"mappings":"AAEA,MAAM;AAEN;;;;;;;;CAQC,GAED,OAAO,OAAO,GAAG,SAAS,WAAW,GAAG;IACtC,IAAI,OAAO,MAAM;QACf,OAAO;IACT;IACA,IAAI,QAAQ,IAAI;QACd,OAAO;IACT;IAEA,IAAI,OAAO,QAAQ,YAAY,OAAO,QAAQ,WAAW;QACvD,MAAM,OAAO;IACf;IAEA,OAAO,EAAE,CAAC,CAAC,MAAM;IACjB,IAAI,eAAe,QAAQ;QACzB,OAAO,IAAI,OAAO;IACpB;IACA,IAAI,OAAO,QAAQ,UAAU;QAC3B,OAAO;IACT;IACA,IAAI,CAAC,MAAM,OAAO,CAAC,QAAQ,OAAO,IAAI,OAAO,KAAK,YAAY;QAC5D,OAAO,OAAO,IAAI,OAAO;IAC3B;IACA,IAAI,IAAI,QAAQ,IAAI,CAAC,MAAM,OAAO,CAAC,QAAQ,IAAI,QAAQ,MAAM,OAAO,MAAM;QACxE,OAAO,OAAO;IAChB;IAEA,OAAO,EAAE,CAAC;AACZ","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 6187, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/backend/node_modules/mongoose/lib/cast/string.js"],"sourcesContent":["'use strict';\n\nconst CastError = require('../error/cast');\n\n/**\n * Given a value, cast it to a string, or throw a `CastError` if the value\n * cannot be casted. `null` and `undefined` are considered valid.\n *\n * @param {Any} value\n * @param {String} [path] optional the path to set on the CastError\n * @return {string|null|undefined}\n * @throws {CastError}\n * @api private\n */\n\nmodule.exports = function castString(value, path) {\n  // If null or undefined\n  if (value == null) {\n    return value;\n  }\n\n  // handle documents being passed\n  if (value._id && typeof value._id === 'string') {\n    return value._id;\n  }\n\n  // Re: gh-647 and gh-3030, we're ok with casting using `toString()`\n  // **unless** its the default Object.toString, because \"[object Object]\"\n  // doesn't really qualify as useful data\n  if (value.toString &&\n      value.toString !== Object.prototype.toString &&\n      !Array.isArray(value)) {\n    return value.toString();\n  }\n\n  throw new CastError('string', value, path);\n};\n"],"names":[],"mappings":"AAEA,MAAM;AAEN;;;;;;;;;CASC,GAED,OAAO,OAAO,GAAG,SAAS,WAAW,KAAK,EAAE,IAAI;IAC9C,uBAAuB;IACvB,IAAI,SAAS,MAAM;QACjB,OAAO;IACT;IAEA,gCAAgC;IAChC,IAAI,MAAM,GAAG,IAAI,OAAO,MAAM,GAAG,KAAK,UAAU;QAC9C,OAAO,MAAM,GAAG;IAClB;IAEA,mEAAmE;IACnE,wEAAwE;IACxE,wCAAwC;IACxC,IAAI,MAAM,QAAQ,IACd,MAAM,QAAQ,KAAK,OAAO,SAAS,CAAC,QAAQ,IAC5C,CAAC,MAAM,OAAO,CAAC,QAAQ;QACzB,OAAO,MAAM,QAAQ;IACvB;IAEA,MAAM,IAAI,UAAU,UAAU,OAAO;AACvC","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 6218, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/backend/node_modules/mongoose/lib/cast/bigint.js"],"sourcesContent":["'use strict';\n\nconst { Long } = require('bson');\n\n/**\n * Given a value, cast it to a BigInt, or throw an `Error` if the value\n * cannot be casted. `null` and `undefined` are considered valid.\n *\n * @param {Any} value\n * @return {Number}\n * @throws {Error} if `value` is not one of the allowed values\n * @api private\n */\n\nconst MAX_BIGINT = 9223372036854775807n;\nconst MIN_BIGINT = -9223372036854775808n;\nconst ERROR_MESSAGE = `Mongoose only supports BigInts between ${MIN_BIGINT} and ${MAX_BIGINT} because MongoDB does not support arbitrary precision integers`;\n\nmodule.exports = function castBigInt(val) {\n  if (val == null) {\n    return val;\n  }\n  if (val === '') {\n    return null;\n  }\n  if (typeof val === 'bigint') {\n    if (val > MAX_BIGINT || val < MIN_BIGINT) {\n      throw new Error(ERROR_MESSAGE);\n    }\n    return val;\n  }\n\n  if (val instanceof Long) {\n    return val.toBigInt();\n  }\n\n  if (typeof val === 'string' || typeof val === 'number') {\n    val = BigInt(val);\n    if (val > MAX_BIGINT || val < MIN_BIGINT) {\n      throw new Error(ERROR_MESSAGE);\n    }\n    return val;\n  }\n\n  throw new Error(`Cannot convert value to BigInt: \"${val}\"`);\n};\n"],"names":[],"mappings":"AAEA,MAAM,EAAE,IAAI,EAAE;AAEd;;;;;;;;CAQC,GAED,MAAM,aAAa,oBAAoB;AACvC,MAAM,aAAa,CAAC,oBAAoB;AACxC,MAAM,gBAAgB,CAAC,uCAAuC,EAAE,WAAW,KAAK,EAAE,WAAW,8DAA8D,CAAC;AAE5J,OAAO,OAAO,GAAG,SAAS,WAAW,GAAG;IACtC,IAAI,OAAO,MAAM;QACf,OAAO;IACT;IACA,IAAI,QAAQ,IAAI;QACd,OAAO;IACT;IACA,IAAI,OAAO,QAAQ,UAAU;QAC3B,IAAI,MAAM,cAAc,MAAM,YAAY;YACxC,MAAM,IAAI,MAAM;QAClB;QACA,OAAO;IACT;IAEA,IAAI,eAAe,MAAM;QACvB,OAAO,IAAI,QAAQ;IACrB;IAEA,IAAI,OAAO,QAAQ,YAAY,OAAO,QAAQ,UAAU;QACtD,MAAM,OAAO;QACb,IAAI,MAAM,cAAc,MAAM,YAAY;YACxC,MAAM,IAAI,MAAM;QAClB;QACA,OAAO;IACT;IAEA,MAAM,IAAI,MAAM,CAAC,iCAAiC,EAAE,IAAI,CAAC,CAAC;AAC5D","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 6259, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/backend/node_modules/mongoose/lib/cast/date.js"],"sourcesContent":["'use strict';\n\nconst assert = require('assert');\n\nmodule.exports = function castDate(value) {\n  // Support empty string because of empty form values. Originally introduced\n  // in https://github.com/Automattic/mongoose/commit/efc72a1898fc3c33a319d915b8c5463a22938dfe\n  if (value == null || value === '') {\n    return null;\n  }\n\n  if (value instanceof Date) {\n    assert.ok(!isNaN(value.valueOf()));\n\n    return value;\n  }\n\n  let date;\n\n  assert.ok(typeof value !== 'boolean');\n\n  if (value instanceof Number || typeof value === 'number') {\n    date = new Date(value);\n  } else if (typeof value === 'string' && !isNaN(Number(value)) && (Number(value) >= 275761 || Number(value) < -271820)) {\n    // string representation of milliseconds take this path\n    date = new Date(Number(value));\n  } else if (typeof value.valueOf === 'function') {\n    // support for moment.js. This is also the path strings will take because\n    // strings have a `valueOf()`\n    date = new Date(value.valueOf());\n  } else {\n    // fallback\n    date = new Date(value);\n  }\n\n  if (!isNaN(date.valueOf())) {\n    return date;\n  }\n\n  assert.ok(false);\n};\n"],"names":[],"mappings":"AAEA,MAAM;AAEN,OAAO,OAAO,GAAG,SAAS,SAAS,KAAK;IACtC,2EAA2E;IAC3E,4FAA4F;IAC5F,IAAI,SAAS,QAAQ,UAAU,IAAI;QACjC,OAAO;IACT;IAEA,IAAI,iBAAiB,MAAM;QACzB,OAAO,EAAE,CAAC,CAAC,MAAM,MAAM,OAAO;QAE9B,OAAO;IACT;IAEA,IAAI;IAEJ,OAAO,EAAE,CAAC,OAAO,UAAU;IAE3B,IAAI,iBAAiB,UAAU,OAAO,UAAU,UAAU;QACxD,OAAO,IAAI,KAAK;IAClB,OAAO,IAAI,OAAO,UAAU,YAAY,CAAC,MAAM,OAAO,WAAW,CAAC,OAAO,UAAU,UAAU,OAAO,SAAS,CAAC,MAAM,GAAG;QACrH,uDAAuD;QACvD,OAAO,IAAI,KAAK,OAAO;IACzB,OAAO,IAAI,OAAO,MAAM,OAAO,KAAK,YAAY;QAC9C,yEAAyE;QACzE,6BAA6B;QAC7B,OAAO,IAAI,KAAK,MAAM,OAAO;IAC/B,OAAO;QACL,WAAW;QACX,OAAO,IAAI,KAAK;IAClB;IAEA,IAAI,CAAC,MAAM,KAAK,OAAO,KAAK;QAC1B,OAAO;IACT;IAEA,OAAO,EAAE,CAAC;AACZ","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 6294, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/backend/node_modules/mongoose/lib/cast/decimal128.js"],"sourcesContent":["'use strict';\n\nconst Decimal128Type = require('../types/decimal128');\nconst assert = require('assert');\n\nmodule.exports = function castDecimal128(value) {\n  if (value == null) {\n    return value;\n  }\n\n  if (typeof value === 'object' && typeof value.$numberDecimal === 'string') {\n    return Decimal128Type.fromString(value.$numberDecimal);\n  }\n\n  if (value instanceof Decimal128Type) {\n    return value;\n  }\n\n  if (typeof value === 'string') {\n    return Decimal128Type.fromString(value);\n  }\n\n  if (typeof Buffer === 'function' && Buffer.isBuffer(value)) {\n    return new Decimal128Type(value);\n  }\n  if (typeof Uint8Array === 'function' && value instanceof Uint8Array) {\n    return new Decimal128Type(value);\n  }\n\n  if (typeof value === 'number') {\n    return Decimal128Type.fromString(String(value));\n  }\n\n  if (typeof value.valueOf === 'function' && typeof value.valueOf() === 'string') {\n    return Decimal128Type.fromString(value.valueOf());\n  }\n\n  assert.ok(false);\n};\n"],"names":[],"mappings":"AAEA,MAAM;AACN,MAAM;AAEN,OAAO,OAAO,GAAG,SAAS,eAAe,KAAK;IAC5C,IAAI,SAAS,MAAM;QACjB,OAAO;IACT;IAEA,IAAI,OAAO,UAAU,YAAY,OAAO,MAAM,cAAc,KAAK,UAAU;QACzE,OAAO,eAAe,UAAU,CAAC,MAAM,cAAc;IACvD;IAEA,IAAI,iBAAiB,gBAAgB;QACnC,OAAO;IACT;IAEA,IAAI,OAAO,UAAU,UAAU;QAC7B,OAAO,eAAe,UAAU,CAAC;IACnC;IAEA,IAAI,OAAO,WAAW,cAAc,OAAO,QAAQ,CAAC,QAAQ;QAC1D,OAAO,IAAI,eAAe;IAC5B;IACA,IAAI,OAAO,eAAe,cAAc,iBAAiB,YAAY;QACnE,OAAO,IAAI,eAAe;IAC5B;IAEA,IAAI,OAAO,UAAU,UAAU;QAC7B,OAAO,eAAe,UAAU,CAAC,OAAO;IAC1C;IAEA,IAAI,OAAO,MAAM,OAAO,KAAK,cAAc,OAAO,MAAM,OAAO,OAAO,UAAU;QAC9E,OAAO,eAAe,UAAU,CAAC,MAAM,OAAO;IAChD;IAEA,OAAO,EAAE,CAAC;AACZ","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 6327, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/backend/node_modules/mongoose/lib/cast/double.js"],"sourcesContent":["'use strict';\n\nconst assert = require('assert');\nconst BSON = require('bson');\nconst isBsonType = require('../helpers/isBsonType');\n\n/**\n * Given a value, cast it to a IEEE 754-2008 floating point, or throw an `Error` if the value\n * cannot be casted. `null`, `undefined`, and `NaN` are considered valid inputs.\n *\n * @param {Any} value\n * @return {Number}\n * @throws {Error} if `value` does not represent a IEEE 754-2008 floating point. If casting from a string, see [BSON Double.fromString API documentation](https://mongodb.github.io/node-mongodb-native/Next/classes/BSON.Double.html#fromString)\n * @api private\n */\n\nmodule.exports = function castDouble(val) {\n  if (val == null || val === '') {\n    return null;\n  }\n\n  let coercedVal;\n  if (isBsonType(val, 'Long')) {\n    coercedVal = val.toNumber();\n  } else if (typeof val === 'string') {\n    try {\n      coercedVal = BSON.Double.fromString(val);\n      return coercedVal;\n    } catch {\n      assert.ok(false);\n    }\n  } else if (typeof val === 'object') {\n    const tempVal = val.valueOf() ?? val.toString();\n    // ex: { a: 'im an object, valueOf: () => 'helloworld' } // throw an error\n    if (typeof tempVal === 'string') {\n      try {\n        coercedVal = BSON.Double.fromString(val);\n        return coercedVal;\n      } catch {\n        assert.ok(false);\n      }\n    } else {\n      coercedVal = Number(tempVal);\n    }\n  } else {\n    coercedVal = Number(val);\n  }\n\n  return new BSON.Double(coercedVal);\n};\n"],"names":[],"mappings":"AAEA,MAAM;AACN,MAAM;AACN,MAAM;AAEN;;;;;;;;CAQC,GAED,OAAO,OAAO,GAAG,SAAS,WAAW,GAAG;IACtC,IAAI,OAAO,QAAQ,QAAQ,IAAI;QAC7B,OAAO;IACT;IAEA,IAAI;IACJ,IAAI,WAAW,KAAK,SAAS;QAC3B,aAAa,IAAI,QAAQ;IAC3B,OAAO,IAAI,OAAO,QAAQ,UAAU;QAClC,IAAI;YACF,aAAa,KAAK,MAAM,CAAC,UAAU,CAAC;YACpC,OAAO;QACT,EAAE,OAAM;YACN,OAAO,EAAE,CAAC;QACZ;IACF,OAAO,IAAI,OAAO,QAAQ,UAAU;QAClC,MAAM,UAAU,IAAI,OAAO,MAAM,IAAI,QAAQ;QAC7C,0EAA0E;QAC1E,IAAI,OAAO,YAAY,UAAU;YAC/B,IAAI;gBACF,aAAa,KAAK,MAAM,CAAC,UAAU,CAAC;gBACpC,OAAO;YACT,EAAE,OAAM;gBACN,OAAO,EAAE,CAAC;YACZ;QACF,OAAO;YACL,aAAa,OAAO;QACtB;IACF,OAAO;QACL,aAAa,OAAO;IACtB;IAEA,OAAO,IAAI,KAAK,MAAM,CAAC;AACzB","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 6374, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/backend/node_modules/mongoose/lib/cast/int32.js"],"sourcesContent":["'use strict';\n\nconst isBsonType = require('../helpers/isBsonType');\nconst assert = require('assert');\n\n/**\n * Given a value, cast it to a Int32, or throw an `Error` if the value\n * cannot be casted. `null` and `undefined` are considered valid.\n *\n * @param {Any} value\n * @return {Number}\n * @throws {Error} if `value` does not represent an integer, or is outside the bounds of an 32-bit integer.\n * @api private\n */\n\nmodule.exports = function castInt32(val) {\n  if (val == null) {\n    return val;\n  }\n  if (val === '') {\n    return null;\n  }\n\n  const coercedVal = isBsonType(val, 'Long') ? val.toNumber() : Number(val);\n\n  const INT32_MAX = 0x7FFFFFFF;\n  const INT32_MIN = -0x80000000;\n\n  if (coercedVal === (coercedVal | 0) &&\n      coercedVal >= INT32_MIN &&\n      coercedVal <= INT32_MAX\n  ) {\n    return coercedVal;\n  }\n  assert.ok(false);\n};\n"],"names":[],"mappings":"AAEA,MAAM;AACN,MAAM;AAEN;;;;;;;;CAQC,GAED,OAAO,OAAO,GAAG,SAAS,UAAU,GAAG;IACrC,IAAI,OAAO,MAAM;QACf,OAAO;IACT;IACA,IAAI,QAAQ,IAAI;QACd,OAAO;IACT;IAEA,MAAM,aAAa,WAAW,KAAK,UAAU,IAAI,QAAQ,KAAK,OAAO;IAErE,MAAM,YAAY;IAClB,MAAM,YAAY,CAAC;IAEnB,IAAI,eAAe,CAAC,aAAa,CAAC,KAC9B,cAAc,aACd,cAAc,WAChB;QACA,OAAO;IACT;IACA,OAAO,EAAE,CAAC;AACZ","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 6403, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/backend/node_modules/mongoose/lib/cast/uuid.js"],"sourcesContent":["'use strict';\n\nconst MongooseBuffer = require('../types/buffer');\n\nconst UUID_FORMAT = /[0-9a-f]{8}-[0-9a-f]{4}-[0-9][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}/i;\nconst Binary = MongooseBuffer.Binary;\n\nmodule.exports = function castUUID(value) {\n  if (value == null) {\n    return value;\n  }\n\n  function newBuffer(initbuff) {\n    const buff = new MongooseBuffer(initbuff);\n    buff._subtype = 4;\n    return buff;\n  }\n\n  if (typeof value === 'string') {\n    if (UUID_FORMAT.test(value)) {\n      return stringToBinary(value);\n    } else {\n      throw new Error(`\"${value}\" is not a valid UUID string`);\n    }\n  }\n\n  if (Buffer.isBuffer(value)) {\n    return newBuffer(value);\n  }\n\n  if (value instanceof Binary) {\n    return newBuffer(value.value(true));\n  }\n\n  // Re: gh-647 and gh-3030, we're ok with casting using `toString()`\n  // **unless** its the default Object.toString, because \"[object Object]\"\n  // doesn't really qualify as useful data\n  if (value.toString && value.toString !== Object.prototype.toString) {\n    if (UUID_FORMAT.test(value.toString())) {\n      return stringToBinary(value.toString());\n    }\n  }\n\n  throw new Error(`\"${value}\" cannot be casted to a UUID`);\n};\n\nmodule.exports.UUID_FORMAT = UUID_FORMAT;\n\n/**\n * Helper function to convert the input hex-string to a buffer\n * @param {String} hex The hex string to convert\n * @returns {Buffer} The hex as buffer\n * @api private\n */\n\nfunction hex2buffer(hex) {\n  // use buffer built-in function to convert from hex-string to buffer\n  const buff = hex != null && Buffer.from(hex, 'hex');\n  return buff;\n}\n\n/**\n * Convert a String to Binary\n * @param {String} uuidStr The value to process\n * @returns {MongooseBuffer} The binary to store\n * @api private\n */\n\nfunction stringToBinary(uuidStr) {\n  // Protect against undefined & throwing err\n  if (typeof uuidStr !== 'string') uuidStr = '';\n  const hex = uuidStr.replace(/[{}-]/g, ''); // remove extra characters\n  const bytes = hex2buffer(hex);\n  const buff = new MongooseBuffer(bytes);\n  buff._subtype = 4;\n\n  return buff;\n}\n"],"names":[],"mappings":"AAEA,MAAM;AAEN,MAAM,cAAc;AACpB,MAAM,SAAS,eAAe,MAAM;AAEpC,OAAO,OAAO,GAAG,SAAS,SAAS,KAAK;IACtC,IAAI,SAAS,MAAM;QACjB,OAAO;IACT;IAEA,SAAS,UAAU,QAAQ;QACzB,MAAM,OAAO,IAAI,eAAe;QAChC,KAAK,QAAQ,GAAG;QAChB,OAAO;IACT;IAEA,IAAI,OAAO,UAAU,UAAU;QAC7B,IAAI,YAAY,IAAI,CAAC,QAAQ;YAC3B,OAAO,eAAe;QACxB,OAAO;YACL,MAAM,IAAI,MAAM,CAAC,CAAC,EAAE,MAAM,4BAA4B,CAAC;QACzD;IACF;IAEA,IAAI,OAAO,QAAQ,CAAC,QAAQ;QAC1B,OAAO,UAAU;IACnB;IAEA,IAAI,iBAAiB,QAAQ;QAC3B,OAAO,UAAU,MAAM,KAAK,CAAC;IAC/B;IAEA,mEAAmE;IACnE,wEAAwE;IACxE,wCAAwC;IACxC,IAAI,MAAM,QAAQ,IAAI,MAAM,QAAQ,KAAK,OAAO,SAAS,CAAC,QAAQ,EAAE;QAClE,IAAI,YAAY,IAAI,CAAC,MAAM,QAAQ,KAAK;YACtC,OAAO,eAAe,MAAM,QAAQ;QACtC;IACF;IAEA,MAAM,IAAI,MAAM,CAAC,CAAC,EAAE,MAAM,4BAA4B,CAAC;AACzD;AAEA,OAAO,OAAO,CAAC,WAAW,GAAG;AAE7B;;;;;CAKC,GAED,SAAS,WAAW,GAAG;IACrB,oEAAoE;IACpE,MAAM,OAAO,OAAO,QAAQ,OAAO,IAAI,CAAC,KAAK;IAC7C,OAAO;AACT;AAEA;;;;;CAKC,GAED,SAAS,eAAe,OAAO;IAC7B,2CAA2C;IAC3C,IAAI,OAAO,YAAY,UAAU,UAAU;IAC3C,MAAM,MAAM,QAAQ,OAAO,CAAC,UAAU,KAAK,0BAA0B;IACrE,MAAM,QAAQ,WAAW;IACzB,MAAM,OAAO,IAAI,eAAe;IAChC,KAAK,QAAQ,GAAG;IAEhB,OAAO;AACT","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 6467, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/backend/node_modules/mongoose/lib/options/propertyOptions.js"],"sourcesContent":["'use strict';\n\nmodule.exports = Object.freeze({\n  enumerable: true,\n  configurable: true,\n  writable: true,\n  value: void 0\n});\n"],"names":[],"mappings":"AAEA,OAAO,OAAO,GAAG,OAAO,MAAM,CAAC;IAC7B,YAAY;IACZ,cAAc;IACd,UAAU;IACV,OAAO,KAAK;AACd","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 6477, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/backend/node_modules/mongoose/lib/options/schemaTypeOptions.js"],"sourcesContent":["'use strict';\n\nconst clone = require('../helpers/clone');\n\n/**\n * The options defined on a schematype.\n *\n * #### Example:\n *\n *     const schema = new Schema({ name: String });\n *     schema.path('name').options instanceof mongoose.SchemaTypeOptions; // true\n *\n * @api public\n * @constructor SchemaTypeOptions\n */\n\nclass SchemaTypeOptions {\n  constructor(obj) {\n    if (obj == null) {\n      return this;\n    }\n    Object.assign(this, clone(obj));\n  }\n}\n\nconst opts = require('./propertyOptions');\n\n/**\n * The type to cast this path to.\n *\n * @api public\n * @property type\n * @memberOf SchemaTypeOptions\n * @type {Function|String|Object}\n * @instance\n */\n\nObject.defineProperty(SchemaTypeOptions.prototype, 'type', opts);\n\n/**\n * Function or object describing how to validate this schematype.\n *\n * @api public\n * @property validate\n * @memberOf SchemaTypeOptions\n * @type {Function|Object}\n * @instance\n */\n\nObject.defineProperty(SchemaTypeOptions.prototype, 'validate', opts);\n\n/**\n * Allows overriding casting logic for this individual path. If a string, the\n * given string overwrites Mongoose's default cast error message.\n *\n * #### Example:\n *\n *     const schema = new Schema({\n *       num: {\n *         type: Number,\n *         cast: '{VALUE} is not a valid number'\n *       }\n *     });\n *\n *     // Throws 'CastError: \"bad\" is not a valid number'\n *     schema.path('num').cast('bad');\n *\n *     const Model = mongoose.model('Test', schema);\n *     const doc = new Model({ num: 'fail' });\n *     const err = doc.validateSync();\n *\n *     err.errors['num']; // 'CastError: \"fail\" is not a valid number'\n *\n * @api public\n * @property cast\n * @memberOf SchemaTypeOptions\n * @type {String}\n * @instance\n */\n\nObject.defineProperty(SchemaTypeOptions.prototype, 'cast', opts);\n\n/**\n * If true, attach a required validator to this path, which ensures this path\n * cannot be set to a nullish value. If a function, Mongoose calls the\n * function and only checks for nullish values if the function returns a truthy value.\n *\n * @api public\n * @property required\n * @memberOf SchemaTypeOptions\n * @type {Function|Boolean}\n * @instance\n */\n\nObject.defineProperty(SchemaTypeOptions.prototype, 'required', opts);\n\n/**\n * The default value for this path. If a function, Mongoose executes the function\n * and uses the return value as the default.\n *\n * @api public\n * @property default\n * @memberOf SchemaTypeOptions\n * @type {Function|Any}\n * @instance\n */\n\nObject.defineProperty(SchemaTypeOptions.prototype, 'default', opts);\n\n/**\n * The model that `populate()` should use if populating this path.\n *\n * @api public\n * @property ref\n * @memberOf SchemaTypeOptions\n * @type {Function|String}\n * @instance\n */\n\nObject.defineProperty(SchemaTypeOptions.prototype, 'ref', opts);\n\n/**\n * The path in the document that `populate()` should use to find the model\n * to use.\n *\n * @api public\n * @property ref\n * @memberOf SchemaTypeOptions\n * @type {Function|String}\n * @instance\n */\n\nObject.defineProperty(SchemaTypeOptions.prototype, 'refPath', opts);\n\n/**\n * Whether to include or exclude this path by default when loading documents\n * using `find()`, `findOne()`, etc.\n *\n * @api public\n * @property select\n * @memberOf SchemaTypeOptions\n * @type {Boolean|Number}\n * @instance\n */\n\nObject.defineProperty(SchemaTypeOptions.prototype, 'select', opts);\n\n/**\n * If [truthy](https://masteringjs.io/tutorials/fundamentals/truthy), Mongoose will\n * build an index on this path when the model is compiled.\n *\n * @api public\n * @property index\n * @memberOf SchemaTypeOptions\n * @type {Boolean|Number|Object}\n * @instance\n */\n\nObject.defineProperty(SchemaTypeOptions.prototype, 'index', opts);\n\n/**\n * If [truthy](https://masteringjs.io/tutorials/fundamentals/truthy), Mongoose\n * will build a unique index on this path when the\n * model is compiled. [The `unique` option is **not** a validator](https://mongoosejs.com/docs/validation.html#the-unique-option-is-not-a-validator).\n *\n * @api public\n * @property unique\n * @memberOf SchemaTypeOptions\n * @type {Boolean|Number}\n * @instance\n */\n\nObject.defineProperty(SchemaTypeOptions.prototype, 'unique', opts);\n\n/**\n * If [truthy](https://masteringjs.io/tutorials/fundamentals/truthy), Mongoose will\n * disallow changes to this path once the document\n * is saved to the database for the first time. Read more about [immutability in Mongoose here](https://thecodebarbarian.com/whats-new-in-mongoose-5-6-immutable-properties.html).\n *\n * @api public\n * @property immutable\n * @memberOf SchemaTypeOptions\n * @type {Function|Boolean}\n * @instance\n */\n\nObject.defineProperty(SchemaTypeOptions.prototype, 'immutable', opts);\n\n/**\n * If [truthy](https://masteringjs.io/tutorials/fundamentals/truthy), Mongoose will\n * build a sparse index on this path.\n *\n * @api public\n * @property sparse\n * @memberOf SchemaTypeOptions\n * @type {Boolean|Number}\n * @instance\n */\n\nObject.defineProperty(SchemaTypeOptions.prototype, 'sparse', opts);\n\n/**\n * If [truthy](https://masteringjs.io/tutorials/fundamentals/truthy), Mongoose\n * will build a text index on this path.\n *\n * @api public\n * @property text\n * @memberOf SchemaTypeOptions\n * @type {Boolean|Number|Object}\n * @instance\n */\n\nObject.defineProperty(SchemaTypeOptions.prototype, 'text', opts);\n\n/**\n * Define a transform function for this individual schema type.\n * Only called when calling `toJSON()` or `toObject()`.\n *\n * #### Example:\n *\n *     const schema = Schema({\n *       myDate: {\n *         type: Date,\n *         transform: v => v.getFullYear()\n *       }\n *     });\n *     const Model = mongoose.model('Test', schema);\n *\n *     const doc = new Model({ myDate: new Date('2019/06/01') });\n *     doc.myDate instanceof Date; // true\n *\n *     const res = doc.toObject({ transform: true });\n *     res.myDate; // 2019\n *\n * @api public\n * @property transform\n * @memberOf SchemaTypeOptions\n * @type {Function}\n * @instance\n */\n\nObject.defineProperty(SchemaTypeOptions.prototype, 'transform', opts);\n\nmodule.exports = SchemaTypeOptions;\n"],"names":[],"mappings":"AAEA,MAAM;AAEN;;;;;;;;;;CAUC,GAED,MAAM;IACJ,YAAY,GAAG,CAAE;QACf,IAAI,OAAO,MAAM;YACf,OAAO,IAAI;QACb;QACA,OAAO,MAAM,CAAC,IAAI,EAAE,MAAM;IAC5B;AACF;AAEA,MAAM;AAEN;;;;;;;;CAQC,GAED,OAAO,cAAc,CAAC,kBAAkB,SAAS,EAAE,QAAQ;AAE3D;;;;;;;;CAQC,GAED,OAAO,cAAc,CAAC,kBAAkB,SAAS,EAAE,YAAY;AAE/D;;;;;;;;;;;;;;;;;;;;;;;;;;;CA2BC,GAED,OAAO,cAAc,CAAC,kBAAkB,SAAS,EAAE,QAAQ;AAE3D;;;;;;;;;;CAUC,GAED,OAAO,cAAc,CAAC,kBAAkB,SAAS,EAAE,YAAY;AAE/D;;;;;;;;;CASC,GAED,OAAO,cAAc,CAAC,kBAAkB,SAAS,EAAE,WAAW;AAE9D;;;;;;;;CAQC,GAED,OAAO,cAAc,CAAC,kBAAkB,SAAS,EAAE,OAAO;AAE1D;;;;;;;;;CASC,GAED,OAAO,cAAc,CAAC,kBAAkB,SAAS,EAAE,WAAW;AAE9D;;;;;;;;;CASC,GAED,OAAO,cAAc,CAAC,kBAAkB,SAAS,EAAE,UAAU;AAE7D;;;;;;;;;CASC,GAED,OAAO,cAAc,CAAC,kBAAkB,SAAS,EAAE,SAAS;AAE5D;;;;;;;;;;CAUC,GAED,OAAO,cAAc,CAAC,kBAAkB,SAAS,EAAE,UAAU;AAE7D;;;;;;;;;;CAUC,GAED,OAAO,cAAc,CAAC,kBAAkB,SAAS,EAAE,aAAa;AAEhE;;;;;;;;;CASC,GAED,OAAO,cAAc,CAAC,kBAAkB,SAAS,EAAE,UAAU;AAE7D;;;;;;;;;CASC,GAED,OAAO,cAAc,CAAC,kBAAkB,SAAS,EAAE,QAAQ;AAE3D;;;;;;;;;;;;;;;;;;;;;;;;;CAyBC,GAED,OAAO,cAAc,CAAC,kBAAkB,SAAS,EAAE,aAAa;AAEhE,OAAO,OAAO,GAAG","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 6676, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/backend/node_modules/mongoose/lib/options/schemaArrayOptions.js"],"sourcesContent":["'use strict';\n\nconst SchemaTypeOptions = require('./schemaTypeOptions');\n\n/**\n * The options defined on an Array schematype.\n *\n * #### Example:\n *\n *     const schema = new Schema({ tags: [String] });\n *     schema.path('tags').options; // SchemaArrayOptions instance\n *\n * @api public\n * @inherits SchemaTypeOptions\n * @constructor SchemaArrayOptions\n */\n\nclass SchemaArrayOptions extends SchemaTypeOptions {}\n\nconst opts = require('./propertyOptions');\n\n/**\n * If this is an array of strings, an array of allowed values for this path.\n * Throws an error if this array isn't an array of strings.\n *\n * @api public\n * @property enum\n * @memberOf SchemaArrayOptions\n * @type {Array}\n * @instance\n */\n\nObject.defineProperty(SchemaArrayOptions.prototype, 'enum', opts);\n\n/**\n * If set, specifies the type of this array's values. Equivalent to setting\n * `type` to an array whose first element is `of`.\n *\n * #### Example:\n *\n *     // `arr` is an array of numbers.\n *     new Schema({ arr: [Number] });\n *     // Equivalent way to define `arr` as an array of numbers\n *     new Schema({ arr: { type: Array, of: Number } });\n *\n * @api public\n * @property of\n * @memberOf SchemaArrayOptions\n * @type {Function|String}\n * @instance\n */\n\nObject.defineProperty(SchemaArrayOptions.prototype, 'of', opts);\n\n/**\n * If set to `false`, will always deactivate casting non-array values to arrays.\n * If set to `true`, will cast non-array values to arrays if `init` and `SchemaArray.options.castNonArrays` are also `true`\n *\n * #### Example:\n *\n *     const Model = db.model('Test', new Schema({ x1: { castNonArrays: false, type: [String] } }));\n *     const doc = new Model({ x1: \"some non-array value\" });\n *     await doc.validate(); // Errors with \"CastError\"\n *\n * @api public\n * @property castNonArrays\n * @memberOf SchemaArrayOptions\n * @type {Boolean}\n * @instance\n */\n\nObject.defineProperty(SchemaArrayOptions.prototype, 'castNonArrays', opts);\n\n/*!\n * ignore\n */\n\nmodule.exports = SchemaArrayOptions;\n"],"names":[],"mappings":"AAEA,MAAM;AAEN;;;;;;;;;;;CAWC,GAED,MAAM,2BAA2B;AAAmB;AAEpD,MAAM;AAEN;;;;;;;;;CASC,GAED,OAAO,cAAc,CAAC,mBAAmB,SAAS,EAAE,QAAQ;AAE5D;;;;;;;;;;;;;;;;CAgBC,GAED,OAAO,cAAc,CAAC,mBAAmB,SAAS,EAAE,MAAM;AAE1D;;;;;;;;;;;;;;;CAeC,GAED,OAAO,cAAc,CAAC,mBAAmB,SAAS,EAAE,iBAAiB;AAErE;;CAEC,GAED,OAAO,OAAO,GAAG","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 6741, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/backend/node_modules/mongoose/lib/options/populateOptions.js"],"sourcesContent":["'use strict';\n\nconst clone = require('../helpers/clone');\n\nclass PopulateOptions {\n  constructor(obj) {\n    this._docs = {};\n    this._childDocs = [];\n\n    if (obj == null) {\n      return;\n    }\n    obj = clone(obj);\n    Object.assign(this, obj);\n    if (typeof obj.subPopulate === 'object') {\n      this.populate = obj.subPopulate;\n    }\n\n\n    if (obj.perDocumentLimit != null && obj.limit != null) {\n      throw new Error('Can not use `limit` and `perDocumentLimit` at the same time. Path: `' + obj.path + '`.');\n    }\n  }\n}\n\n/**\n * The connection used to look up models by name. If not specified, Mongoose\n * will default to using the connection associated with the model in\n * `PopulateOptions#model`.\n *\n * @memberOf PopulateOptions\n * @property {Connection} connection\n * @api public\n */\n\nmodule.exports = PopulateOptions;\n"],"names":[],"mappings":"AAEA,MAAM;AAEN,MAAM;IACJ,YAAY,GAAG,CAAE;QACf,IAAI,CAAC,KAAK,GAAG,CAAC;QACd,IAAI,CAAC,UAAU,GAAG,EAAE;QAEpB,IAAI,OAAO,MAAM;YACf;QACF;QACA,MAAM,MAAM;QACZ,OAAO,MAAM,CAAC,IAAI,EAAE;QACpB,IAAI,OAAO,IAAI,WAAW,KAAK,UAAU;YACvC,IAAI,CAAC,QAAQ,GAAG,IAAI,WAAW;QACjC;QAGA,IAAI,IAAI,gBAAgB,IAAI,QAAQ,IAAI,KAAK,IAAI,MAAM;YACrD,MAAM,IAAI,MAAM,yEAAyE,IAAI,IAAI,GAAG;QACtG;IACF;AACF;AAEA;;;;;;;;CAQC,GAED,OAAO,OAAO,GAAG","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 6772, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/backend/node_modules/mongoose/lib/options/virtualOptions.js"],"sourcesContent":["'use strict';\n\nconst opts = require('./propertyOptions');\n\nclass VirtualOptions {\n  constructor(obj) {\n    Object.assign(this, obj);\n\n    if (obj != null && obj.options != null) {\n      this.options = Object.assign({}, obj.options);\n    }\n  }\n}\n\n/**\n * Marks this virtual as a populate virtual, and specifies the model to\n * use for populate.\n *\n * @api public\n * @property ref\n * @memberOf VirtualOptions\n * @type {String|Model|Function}\n * @instance\n */\n\nObject.defineProperty(VirtualOptions.prototype, 'ref', opts);\n\n/**\n * Marks this virtual as a populate virtual, and specifies the path that\n * contains the name of the model to populate\n *\n * @api public\n * @property refPath\n * @memberOf VirtualOptions\n * @type {String|Function}\n * @instance\n */\n\nObject.defineProperty(VirtualOptions.prototype, 'refPath', opts);\n\n/**\n * The name of the property in the local model to match to `foreignField`\n * in the foreign model.\n *\n * @api public\n * @property localField\n * @memberOf VirtualOptions\n * @type {String|Function}\n * @instance\n */\n\nObject.defineProperty(VirtualOptions.prototype, 'localField', opts);\n\n/**\n * The name of the property in the foreign model to match to `localField`\n * in the local model.\n *\n * @api public\n * @property foreignField\n * @memberOf VirtualOptions\n * @type {String|Function}\n * @instance\n */\n\nObject.defineProperty(VirtualOptions.prototype, 'foreignField', opts);\n\n/**\n * Whether to populate this virtual as a single document (true) or an\n * array of documents (false).\n *\n * @api public\n * @property justOne\n * @memberOf VirtualOptions\n * @type {Boolean}\n * @instance\n */\n\nObject.defineProperty(VirtualOptions.prototype, 'justOne', opts);\n\n/**\n * If true, populate just the number of documents where `localField`\n * matches `foreignField`, as opposed to the documents themselves.\n *\n * If `count` is set, it overrides `justOne`.\n *\n * @api public\n * @property count\n * @memberOf VirtualOptions\n * @type {Boolean}\n * @instance\n */\n\nObject.defineProperty(VirtualOptions.prototype, 'count', opts);\n\n/**\n * Add an additional filter to populate, in addition to `localField`\n * matches `foreignField`.\n *\n * @api public\n * @property match\n * @memberOf VirtualOptions\n * @type {Object|Function}\n * @instance\n */\n\nObject.defineProperty(VirtualOptions.prototype, 'match', opts);\n\n/**\n * Additional options to pass to the query used to `populate()`:\n *\n * - `sort`\n * - `skip`\n * - `limit`\n *\n * @api public\n * @property options\n * @memberOf VirtualOptions\n * @type {Object}\n * @instance\n */\n\nObject.defineProperty(VirtualOptions.prototype, 'options', opts);\n\n/**\n * If true, add a `skip` to the query used to `populate()`.\n *\n * @api public\n * @property skip\n * @memberOf VirtualOptions\n * @type {Number}\n * @instance\n */\n\nObject.defineProperty(VirtualOptions.prototype, 'skip', opts);\n\n/**\n * If true, add a `limit` to the query used to `populate()`.\n *\n * @api public\n * @property limit\n * @memberOf VirtualOptions\n * @type {Number}\n * @instance\n */\n\nObject.defineProperty(VirtualOptions.prototype, 'limit', opts);\n\n/**\n * The `limit` option for `populate()` has [some unfortunate edge cases](https://mongoosejs.com/docs/populate.html#query-conditions)\n * when working with multiple documents, like `.find().populate()`. The\n * `perDocumentLimit` option makes `populate()` execute a separate query\n * for each document returned from `find()` to ensure each document\n * gets up to `perDocumentLimit` populated docs if possible.\n *\n * @api public\n * @property perDocumentLimit\n * @memberOf VirtualOptions\n * @type {Number}\n * @instance\n */\n\nObject.defineProperty(VirtualOptions.prototype, 'perDocumentLimit', opts);\n\nmodule.exports = VirtualOptions;\n"],"names":[],"mappings":"AAEA,MAAM;AAEN,MAAM;IACJ,YAAY,GAAG,CAAE;QACf,OAAO,MAAM,CAAC,IAAI,EAAE;QAEpB,IAAI,OAAO,QAAQ,IAAI,OAAO,IAAI,MAAM;YACtC,IAAI,CAAC,OAAO,GAAG,OAAO,MAAM,CAAC,CAAC,GAAG,IAAI,OAAO;QAC9C;IACF;AACF;AAEA;;;;;;;;;CASC,GAED,OAAO,cAAc,CAAC,eAAe,SAAS,EAAE,OAAO;AAEvD;;;;;;;;;CASC,GAED,OAAO,cAAc,CAAC,eAAe,SAAS,EAAE,WAAW;AAE3D;;;;;;;;;CASC,GAED,OAAO,cAAc,CAAC,eAAe,SAAS,EAAE,cAAc;AAE9D;;;;;;;;;CASC,GAED,OAAO,cAAc,CAAC,eAAe,SAAS,EAAE,gBAAgB;AAEhE;;;;;;;;;CASC,GAED,OAAO,cAAc,CAAC,eAAe,SAAS,EAAE,WAAW;AAE3D;;;;;;;;;;;CAWC,GAED,OAAO,cAAc,CAAC,eAAe,SAAS,EAAE,SAAS;AAEzD;;;;;;;;;CASC,GAED,OAAO,cAAc,CAAC,eAAe,SAAS,EAAE,SAAS;AAEzD;;;;;;;;;;;;CAYC,GAED,OAAO,cAAc,CAAC,eAAe,SAAS,EAAE,WAAW;AAE3D;;;;;;;;CAQC,GAED,OAAO,cAAc,CAAC,eAAe,SAAS,EAAE,QAAQ;AAExD;;;;;;;;CAQC,GAED,OAAO,cAAc,CAAC,eAAe,SAAS,EAAE,SAAS;AAEzD;;;;;;;;;;;;CAYC,GAED,OAAO,cAAc,CAAC,eAAe,SAAS,EAAE,oBAAoB;AAEpE,OAAO,OAAO,GAAG","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 6902, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/backend/node_modules/mongoose/lib/options/schemaNumberOptions.js"],"sourcesContent":["'use strict';\n\nconst SchemaTypeOptions = require('./schemaTypeOptions');\n\n/**\n * The options defined on a Number schematype.\n *\n * #### Example:\n *\n *     const schema = new Schema({ count: Number });\n *     schema.path('count').options; // SchemaNumberOptions instance\n *\n * @api public\n * @inherits SchemaTypeOptions\n * @constructor SchemaNumberOptions\n */\n\nclass SchemaNumberOptions extends SchemaTypeOptions {}\n\nconst opts = require('./propertyOptions');\n\n/**\n * If set, Mongoose adds a validator that checks that this path is at least the\n * given `min`.\n *\n * @api public\n * @property min\n * @memberOf SchemaNumberOptions\n * @type {Number}\n * @instance\n */\n\nObject.defineProperty(SchemaNumberOptions.prototype, 'min', opts);\n\n/**\n * If set, Mongoose adds a validator that checks that this path is less than the\n * given `max`.\n *\n * @api public\n * @property max\n * @memberOf SchemaNumberOptions\n * @type {Number}\n * @instance\n */\n\nObject.defineProperty(SchemaNumberOptions.prototype, 'max', opts);\n\n/**\n * If set, Mongoose adds a validator that checks that this path is strictly\n * equal to one of the given values.\n *\n * #### Example:\n *\n *     const schema = new Schema({\n *       favoritePrime: {\n *         type: Number,\n *         enum: [3, 5, 7]\n *       }\n *     });\n *     schema.path('favoritePrime').options.enum; // [3, 5, 7]\n *\n * @api public\n * @property enum\n * @memberOf SchemaNumberOptions\n * @type {Array}\n * @instance\n */\n\nObject.defineProperty(SchemaNumberOptions.prototype, 'enum', opts);\n\n/**\n * Sets default [populate options](https://mongoosejs.com/docs/populate.html#query-conditions).\n *\n * #### Example:\n *\n *     const schema = new Schema({\n *       child: {\n *         type: Number,\n *         ref: 'Child',\n *         populate: { select: 'name' }\n *       }\n *     });\n *     const Parent = mongoose.model('Parent', schema);\n *\n *     // Automatically adds `.select('name')`\n *     Parent.findOne().populate('child');\n *\n * @api public\n * @property populate\n * @memberOf SchemaNumberOptions\n * @type {Object}\n * @instance\n */\n\nObject.defineProperty(SchemaNumberOptions.prototype, 'populate', opts);\n\n/*!\n * ignore\n */\n\nmodule.exports = SchemaNumberOptions;\n"],"names":[],"mappings":"AAEA,MAAM;AAEN;;;;;;;;;;;CAWC,GAED,MAAM,4BAA4B;AAAmB;AAErD,MAAM;AAEN;;;;;;;;;CASC,GAED,OAAO,cAAc,CAAC,oBAAoB,SAAS,EAAE,OAAO;AAE5D;;;;;;;;;CASC,GAED,OAAO,cAAc,CAAC,oBAAoB,SAAS,EAAE,OAAO;AAE5D;;;;;;;;;;;;;;;;;;;CAmBC,GAED,OAAO,cAAc,CAAC,oBAAoB,SAAS,EAAE,QAAQ;AAE7D;;;;;;;;;;;;;;;;;;;;;;CAsBC,GAED,OAAO,cAAc,CAAC,oBAAoB,SAAS,EAAE,YAAY;AAEjE;;CAEC,GAED,OAAO,OAAO,GAAG","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 6987, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/backend/node_modules/mongoose/lib/options/schemaBufferOptions.js"],"sourcesContent":["'use strict';\n\nconst SchemaTypeOptions = require('./schemaTypeOptions');\n\n/**\n * The options defined on a Buffer schematype.\n *\n * #### Example:\n *\n *     const schema = new Schema({ bitmap: Buffer });\n *     schema.path('bitmap').options; // SchemaBufferOptions instance\n *\n * @api public\n * @inherits SchemaTypeOptions\n * @constructor SchemaBufferOptions\n */\n\nclass SchemaBufferOptions extends SchemaTypeOptions {}\n\nconst opts = require('./propertyOptions');\n\n/**\n * Set the default subtype for this buffer.\n *\n * @api public\n * @property subtype\n * @memberOf SchemaBufferOptions\n * @type {Number}\n * @instance\n */\n\nObject.defineProperty(SchemaBufferOptions.prototype, 'subtype', opts);\n\n/*!\n * ignore\n */\n\nmodule.exports = SchemaBufferOptions;\n"],"names":[],"mappings":"AAEA,MAAM;AAEN;;;;;;;;;;;CAWC,GAED,MAAM,4BAA4B;AAAmB;AAErD,MAAM;AAEN;;;;;;;;CAQC,GAED,OAAO,cAAc,CAAC,oBAAoB,SAAS,EAAE,WAAW;AAEhE;;CAEC,GAED,OAAO,OAAO,GAAG","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 7018, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/backend/node_modules/mongoose/lib/options/schemaDateOptions.js"],"sourcesContent":["'use strict';\n\nconst SchemaTypeOptions = require('./schemaTypeOptions');\n\n/**\n * The options defined on a Date schematype.\n *\n * #### Example:\n *\n *     const schema = new Schema({ startedAt: Date });\n *     schema.path('startedAt').options; // SchemaDateOptions instance\n *\n * @api public\n * @inherits SchemaTypeOptions\n * @constructor SchemaDateOptions\n */\n\nclass SchemaDateOptions extends SchemaTypeOptions {}\n\nconst opts = require('./propertyOptions');\n\n/**\n * If set, Mongoose adds a validator that checks that this path is after the\n * given `min`.\n *\n * @api public\n * @property min\n * @memberOf SchemaDateOptions\n * @type {Date}\n * @instance\n */\n\nObject.defineProperty(SchemaDateOptions.prototype, 'min', opts);\n\n/**\n * If set, Mongoose adds a validator that checks that this path is before the\n * given `max`.\n *\n * @api public\n * @property max\n * @memberOf SchemaDateOptions\n * @type {Date}\n * @instance\n */\n\nObject.defineProperty(SchemaDateOptions.prototype, 'max', opts);\n\n/**\n * If set, Mongoose creates a TTL index on this path.\n *\n * mongo TTL index `expireAfterSeconds` value will take 'expires' value expressed in seconds.\n *\n * #### Example:\n *\n *     const schema = new Schema({ \"expireAt\": { type: Date,  expires: 11 } });\n *     // if 'expireAt' is set, then document expires at expireAt + 11 seconds\n *\n * @api public\n * @property expires\n * @memberOf SchemaDateOptions\n * @type {Date}\n * @instance\n */\n\nObject.defineProperty(SchemaDateOptions.prototype, 'expires', opts);\n\n/*!\n * ignore\n */\n\nmodule.exports = SchemaDateOptions;\n"],"names":[],"mappings":"AAEA,MAAM;AAEN;;;;;;;;;;;CAWC,GAED,MAAM,0BAA0B;AAAmB;AAEnD,MAAM;AAEN;;;;;;;;;CASC,GAED,OAAO,cAAc,CAAC,kBAAkB,SAAS,EAAE,OAAO;AAE1D;;;;;;;;;CASC,GAED,OAAO,cAAc,CAAC,kBAAkB,SAAS,EAAE,OAAO;AAE1D;;;;;;;;;;;;;;;CAeC,GAED,OAAO,cAAc,CAAC,kBAAkB,SAAS,EAAE,WAAW;AAE9D;;CAEC,GAED,OAAO,OAAO,GAAG","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 7076, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/backend/node_modules/mongoose/lib/options/schemaSubdocumentOptions.js"],"sourcesContent":["'use strict';\n\nconst SchemaTypeOptions = require('./schemaTypeOptions');\n\n/**\n * The options defined on a single nested schematype.\n *\n * #### Example:\n *\n *     const schema = Schema({ child: Schema({ name: String }) });\n *     schema.path('child').options; // SchemaSubdocumentOptions instance\n *\n * @api public\n * @inherits SchemaTypeOptions\n * @constructor SchemaSubdocumentOptions\n */\n\nclass SchemaSubdocumentOptions extends SchemaTypeOptions {}\n\nconst opts = require('./propertyOptions');\n\n/**\n * If set, overwrites the child schema's `_id` option.\n *\n * #### Example:\n *\n *     const childSchema = Schema({ name: String });\n *     const parentSchema = Schema({\n *       child: { type: childSchema, _id: false }\n *     });\n *     parentSchema.path('child').schema.options._id; // false\n *\n * @api public\n * @property _id\n * @memberOf SchemaSubdocumentOptions\n * @type {Function|string}\n * @instance\n */\n\nObject.defineProperty(SchemaSubdocumentOptions.prototype, '_id', opts);\n\n/**\n * If set, overwrites the child schema's `minimize` option. In addition, configures whether the entire\n * subdocument can be minimized out.\n *\n * #### Example:\n *\n *     const childSchema = Schema({ name: String });\n *     const parentSchema = Schema({\n *       child: { type: childSchema, minimize: false }\n *     });\n *     const ParentModel = mongoose.model('Parent', parentSchema);\n *     // Saves `{ child: {} }` to the db. Without `minimize: false`, Mongoose would remove the empty\n *     // object and save `{}` to the db.\n *     await ParentModel.create({ child: {} });\n *\n * @api public\n * @property minimize\n * @memberOf SchemaSubdocumentOptions\n * @type {Function|string}\n * @instance\n */\n\nObject.defineProperty(SchemaSubdocumentOptions.prototype, 'minimize', opts);\n\nmodule.exports = SchemaSubdocumentOptions;\n"],"names":[],"mappings":"AAEA,MAAM;AAEN;;;;;;;;;;;CAWC,GAED,MAAM,iCAAiC;AAAmB;AAE1D,MAAM;AAEN;;;;;;;;;;;;;;;;CAgBC,GAED,OAAO,cAAc,CAAC,yBAAyB,SAAS,EAAE,OAAO;AAEjE;;;;;;;;;;;;;;;;;;;;CAoBC,GAED,OAAO,cAAc,CAAC,yBAAyB,SAAS,EAAE,YAAY;AAEtE,OAAO,OAAO,GAAG","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 7134, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/backend/node_modules/mongoose/lib/options/schemaDocumentArrayOptions.js"],"sourcesContent":["'use strict';\n\nconst SchemaTypeOptions = require('./schemaTypeOptions');\n\n/**\n * The options defined on an Document Array schematype.\n *\n * #### Example:\n *\n *     const schema = new Schema({ users: [{ name: string }] });\n *     schema.path('users').options; // SchemaDocumentArrayOptions instance\n *\n * @api public\n * @inherits SchemaTypeOptions\n * @constructor SchemaDocumentOptions\n */\n\nclass SchemaDocumentArrayOptions extends SchemaTypeOptions {}\n\nconst opts = require('./propertyOptions');\n\n/**\n * If `true`, Mongoose will skip building any indexes defined in this array's schema.\n * If not set, Mongoose will build all indexes defined in this array's schema.\n *\n * #### Example:\n *\n *     const childSchema = Schema({ name: { type: String, index: true } });\n *     // If `excludeIndexes` is `true`, Mongoose will skip building an index\n *     // on `arr.name`. Otherwise, Mongoose will build an index on `arr.name`.\n *     const parentSchema = Schema({\n *       arr: { type: [childSchema], excludeIndexes: true }\n *     });\n *\n * @api public\n * @property excludeIndexes\n * @memberOf SchemaDocumentArrayOptions\n * @type {Array}\n * @instance\n */\n\nObject.defineProperty(SchemaDocumentArrayOptions.prototype, 'excludeIndexes', opts);\n\n/**\n * If set, overwrites the child schema's `_id` option.\n *\n * #### Example:\n *\n *     const childSchema = Schema({ name: String });\n *     const parentSchema = Schema({\n *       child: { type: childSchema, _id: false }\n *     });\n *     parentSchema.path('child').schema.options._id; // false\n *\n * @api public\n * @property _id\n * @memberOf SchemaDocumentArrayOptions\n * @type {Array}\n * @instance\n */\n\nObject.defineProperty(SchemaDocumentArrayOptions.prototype, '_id', opts);\n\n/*!\n * ignore\n */\n\nmodule.exports = SchemaDocumentArrayOptions;\n"],"names":[],"mappings":"AAEA,MAAM;AAEN;;;;;;;;;;;CAWC,GAED,MAAM,mCAAmC;AAAmB;AAE5D,MAAM;AAEN;;;;;;;;;;;;;;;;;;CAkBC,GAED,OAAO,cAAc,CAAC,2BAA2B,SAAS,EAAE,kBAAkB;AAE9E;;;;;;;;;;;;;;;;CAgBC,GAED,OAAO,cAAc,CAAC,2BAA2B,SAAS,EAAE,OAAO;AAEnE;;CAEC,GAED,OAAO,OAAO,GAAG","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 7192, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/backend/node_modules/mongoose/lib/options/schemaMapOptions.js"],"sourcesContent":["'use strict';\n\nconst SchemaTypeOptions = require('./schemaTypeOptions');\n\n/**\n * The options defined on a Map schematype.\n *\n * #### Example:\n *\n *     const schema = new Schema({ socialMediaHandles: { type: Map, of: String } });\n *     schema.path('socialMediaHandles').options; // SchemaMapOptions instance\n *\n * @api public\n * @inherits SchemaTypeOptions\n * @constructor SchemaMapOptions\n */\n\nclass SchemaMapOptions extends SchemaTypeOptions {}\n\nconst opts = require('./propertyOptions');\n\n/**\n * If set, specifies the type of this map's values. Mongoose will cast\n * this map's values to the given type.\n *\n * If not set, Mongoose will not cast the map's values.\n *\n * #### Example:\n *\n *     // Mongoose will cast `socialMediaHandles` values to strings\n *     const schema = new Schema({ socialMediaHandles: { type: Map, of: String } });\n *     schema.path('socialMediaHandles').options.of; // String\n *\n * @api public\n * @property of\n * @memberOf SchemaMapOptions\n * @type {Function|string}\n * @instance\n */\n\nObject.defineProperty(SchemaMapOptions.prototype, 'of', opts);\n\nmodule.exports = SchemaMapOptions;\n"],"names":[],"mappings":"AAEA,MAAM;AAEN;;;;;;;;;;;CAWC,GAED,MAAM,yBAAyB;AAAmB;AAElD,MAAM;AAEN;;;;;;;;;;;;;;;;;CAiBC,GAED,OAAO,cAAc,CAAC,iBAAiB,SAAS,EAAE,MAAM;AAExD,OAAO,OAAO,GAAG","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 7230, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/backend/node_modules/mongoose/lib/options/schemaObjectIdOptions.js"],"sourcesContent":["'use strict';\n\nconst SchemaTypeOptions = require('./schemaTypeOptions');\n\n/**\n * The options defined on an ObjectId schematype.\n *\n * #### Example:\n *\n *     const schema = new Schema({ testId: mongoose.ObjectId });\n *     schema.path('testId').options; // SchemaObjectIdOptions instance\n *\n * @api public\n * @inherits SchemaTypeOptions\n * @constructor SchemaObjectIdOptions\n */\n\nclass SchemaObjectIdOptions extends SchemaTypeOptions {}\n\nconst opts = require('./propertyOptions');\n\n/**\n * If truthy, uses Mongoose's default built-in ObjectId path.\n *\n * @api public\n * @property auto\n * @memberOf SchemaObjectIdOptions\n * @type {Boolean}\n * @instance\n */\n\nObject.defineProperty(SchemaObjectIdOptions.prototype, 'auto', opts);\n\n/**\n * Sets default [populate options](https://mongoosejs.com/docs/populate.html#query-conditions).\n *\n * #### Example:\n *\n *     const schema = new Schema({\n *       child: {\n *         type: 'ObjectId',\n *         ref: 'Child',\n *         populate: { select: 'name' }\n *       }\n *     });\n *     const Parent = mongoose.model('Parent', schema);\n *\n *     // Automatically adds `.select('name')`\n *     Parent.findOne().populate('child');\n *\n * @api public\n * @property populate\n * @memberOf SchemaObjectIdOptions\n * @type {Object}\n * @instance\n */\n\nObject.defineProperty(SchemaObjectIdOptions.prototype, 'populate', opts);\n\n/*!\n * ignore\n */\n\nmodule.exports = SchemaObjectIdOptions;\n"],"names":[],"mappings":"AAEA,MAAM;AAEN;;;;;;;;;;;CAWC,GAED,MAAM,8BAA8B;AAAmB;AAEvD,MAAM;AAEN;;;;;;;;CAQC,GAED,OAAO,cAAc,CAAC,sBAAsB,SAAS,EAAE,QAAQ;AAE/D;;;;;;;;;;;;;;;;;;;;;;CAsBC,GAED,OAAO,cAAc,CAAC,sBAAsB,SAAS,EAAE,YAAY;AAEnE;;CAEC,GAED,OAAO,OAAO,GAAG","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 7284, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/backend/node_modules/mongoose/lib/options/schemaStringOptions.js"],"sourcesContent":["'use strict';\n\nconst SchemaTypeOptions = require('./schemaTypeOptions');\n\n/**\n * The options defined on a string schematype.\n *\n * #### Example:\n *\n *     const schema = new Schema({ name: String });\n *     schema.path('name').options; // SchemaStringOptions instance\n *\n * @api public\n * @inherits SchemaTypeOptions\n * @constructor SchemaStringOptions\n */\n\nclass SchemaStringOptions extends SchemaTypeOptions {}\n\nconst opts = require('./propertyOptions');\n\n/**\n * Array of allowed values for this path\n *\n * @api public\n * @property enum\n * @memberOf SchemaStringOptions\n * @type {Array}\n * @instance\n */\n\nObject.defineProperty(SchemaStringOptions.prototype, 'enum', opts);\n\n/**\n * Attach a validator that succeeds if the data string matches the given regular\n * expression, and fails otherwise.\n *\n * @api public\n * @property match\n * @memberOf SchemaStringOptions\n * @type {RegExp}\n * @instance\n */\n\nObject.defineProperty(SchemaStringOptions.prototype, 'match', opts);\n\n/**\n * If truthy, Mongoose will add a [custom setter](https://mongoosejs.com/docs/api/schematype.html#SchemaType.prototype.set()) that lowercases this string\n * using JavaScript's built-in `String#toLowerCase()`.\n *\n * @api public\n * @property lowercase\n * @memberOf SchemaStringOptions\n * @type {Boolean}\n * @instance\n */\n\nObject.defineProperty(SchemaStringOptions.prototype, 'lowercase', opts);\n\n/**\n * If truthy, Mongoose will add a [custom setter](https://mongoosejs.com/docs/api/schematype.html#SchemaType.prototype.set()) that removes leading and trailing\n * whitespace using [JavaScript's built-in `String#trim()`](https://masteringjs.io/tutorials/fundamentals/trim-string).\n *\n * @api public\n * @property trim\n * @memberOf SchemaStringOptions\n * @type {Boolean}\n * @instance\n */\n\nObject.defineProperty(SchemaStringOptions.prototype, 'trim', opts);\n\n/**\n * If truthy, Mongoose will add a custom setter that uppercases this string\n * using JavaScript's built-in [`String#toUpperCase()`](https://masteringjs.io/tutorials/fundamentals/uppercase).\n *\n * @api public\n * @property uppercase\n * @memberOf SchemaStringOptions\n * @type {Boolean}\n * @instance\n */\n\nObject.defineProperty(SchemaStringOptions.prototype, 'uppercase', opts);\n\n/**\n * If set, Mongoose will add a custom validator that ensures the given\n * string's `length` is at least the given number.\n *\n * Mongoose supports two different spellings for this option: `minLength` and `minlength`.\n * `minLength` is the recommended way to specify this option, but Mongoose also supports\n * `minlength` (lowercase \"l\").\n *\n * @api public\n * @property minLength\n * @memberOf SchemaStringOptions\n * @type {Number}\n * @instance\n */\n\nObject.defineProperty(SchemaStringOptions.prototype, 'minLength', opts);\nObject.defineProperty(SchemaStringOptions.prototype, 'minlength', opts);\n\n/**\n * If set, Mongoose will add a custom validator that ensures the given\n * string's `length` is at most the given number.\n *\n * Mongoose supports two different spellings for this option: `maxLength` and `maxlength`.\n * `maxLength` is the recommended way to specify this option, but Mongoose also supports\n * `maxlength` (lowercase \"l\").\n *\n * @api public\n * @property maxLength\n * @memberOf SchemaStringOptions\n * @type {Number}\n * @instance\n */\n\nObject.defineProperty(SchemaStringOptions.prototype, 'maxLength', opts);\nObject.defineProperty(SchemaStringOptions.prototype, 'maxlength', opts);\n\n/**\n * Sets default [populate options](https://mongoosejs.com/docs/populate.html#query-conditions).\n *\n * @api public\n * @property populate\n * @memberOf SchemaStringOptions\n * @type {Object}\n * @instance\n */\n\nObject.defineProperty(SchemaStringOptions.prototype, 'populate', opts);\n\n/*!\n * ignore\n */\n\nmodule.exports = SchemaStringOptions;\n"],"names":[],"mappings":"AAEA,MAAM;AAEN;;;;;;;;;;;CAWC,GAED,MAAM,4BAA4B;AAAmB;AAErD,MAAM;AAEN;;;;;;;;CAQC,GAED,OAAO,cAAc,CAAC,oBAAoB,SAAS,EAAE,QAAQ;AAE7D;;;;;;;;;CASC,GAED,OAAO,cAAc,CAAC,oBAAoB,SAAS,EAAE,SAAS;AAE9D;;;;;;;;;CASC,GAED,OAAO,cAAc,CAAC,oBAAoB,SAAS,EAAE,aAAa;AAElE;;;;;;;;;CASC,GAED,OAAO,cAAc,CAAC,oBAAoB,SAAS,EAAE,QAAQ;AAE7D;;;;;;;;;CASC,GAED,OAAO,cAAc,CAAC,oBAAoB,SAAS,EAAE,aAAa;AAElE;;;;;;;;;;;;;CAaC,GAED,OAAO,cAAc,CAAC,oBAAoB,SAAS,EAAE,aAAa;AAClE,OAAO,cAAc,CAAC,oBAAoB,SAAS,EAAE,aAAa;AAElE;;;;;;;;;;;;;CAaC,GAED,OAAO,cAAc,CAAC,oBAAoB,SAAS,EAAE,aAAa;AAClE,OAAO,cAAc,CAAC,oBAAoB,SAAS,EAAE,aAAa;AAElE;;;;;;;;CAQC,GAED,OAAO,cAAc,CAAC,oBAAoB,SAAS,EAAE,YAAY;AAEjE;;CAEC,GAED,OAAO,OAAO,GAAG","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 7394, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/backend/node_modules/mongoose/lib/options/schemaUnionOptions.js"],"sourcesContent":["'use strict';\n\nconst SchemaTypeOptions = require('./schemaTypeOptions');\n\n/**\n * The options defined on a Union schematype.\n *\n * @api public\n * @inherits SchemaTypeOptions\n * @constructor SchemaUnionOptions\n */\n\nclass SchemaUnionOptions extends SchemaTypeOptions {}\n\nconst opts = require('./propertyOptions');\n\n/**\n * If set, specifies the types that this union can take. Mongoose will cast\n * the value to one of the given types.\n *\n * If not set, Mongoose will not cast the value to any specific type.\n *\n * @api public\n * @property of\n * @memberOf SchemaUnionOptions\n * @type {Function|Function[]|string|string[]}\n * @instance\n */\n\nObject.defineProperty(SchemaUnionOptions.prototype, 'of', opts);\n\nmodule.exports = SchemaUnionOptions;\n"],"names":[],"mappings":"AAEA,MAAM;AAEN;;;;;;CAMC,GAED,MAAM,2BAA2B;AAAmB;AAEpD,MAAM;AAEN;;;;;;;;;;;CAWC,GAED,OAAO,cAAc,CAAC,mBAAmB,SAAS,EAAE,MAAM;AAE1D,OAAO,OAAO,GAAG","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 7421, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/backend/node_modules/mongoose/lib/options/saveOptions.js"],"sourcesContent":["'use strict';\n\nconst clone = require('../helpers/clone');\n\nclass SaveOptions {\n  constructor(obj) {\n    if (obj == null) {\n      return;\n    }\n    Object.assign(this, clone(obj));\n  }\n}\n\nSaveOptions.prototype.__subdocs = null;\n\nmodule.exports = SaveOptions;\n"],"names":[],"mappings":"AAEA,MAAM;AAEN,MAAM;IACJ,YAAY,GAAG,CAAE;QACf,IAAI,OAAO,MAAM;YACf;QACF;QACA,OAAO,MAAM,CAAC,IAAI,EAAE,MAAM;IAC5B;AACF;AAEA,YAAY,SAAS,CAAC,SAAS,GAAG;AAElC,OAAO,OAAO,GAAG","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 7436, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/backend/node_modules/mongoose/lib/stateMachine.js"],"sourcesContent":["\n/*!\n * Module dependencies.\n */\n\n'use strict';\n\nconst utils = require('./utils'); // eslint-disable-line no-unused-vars\n\n/**\n * StateMachine represents a minimal `interface` for the\n * constructors it builds via StateMachine.ctor(...).\n *\n * @api private\n */\n\nconst StateMachine = module.exports = exports = function StateMachine() {\n};\n\n/**\n * StateMachine.ctor('state1', 'state2', ...)\n * A factory method for subclassing StateMachine.\n * The arguments are a list of states. For each state,\n * the constructor's prototype gets state transition\n * methods named after each state. These transition methods\n * place their path argument into the given state.\n *\n * @param {String} state\n * @param {String} [state]\n * @return {Function} subclass constructor\n * @api private\n */\n\nStateMachine.ctor = function() {\n  const states = [...arguments];\n\n  const ctor = function() {\n    StateMachine.apply(this, arguments);\n    this.paths = {};\n    this.states = {};\n  };\n\n  ctor.prototype = new StateMachine();\n  ctor.prototype.constructor = ctor;\n\n  ctor.prototype.stateNames = states;\n\n  states.forEach(function(state) {\n    // Changes the `path`'s state to `state`.\n    ctor.prototype[state] = function(path) {\n      this._changeState(path, state);\n    };\n  });\n\n  return ctor;\n};\n\n/**\n * This function is wrapped by the state change functions:\n *\n * - `require(path)`\n * - `modify(path)`\n * - `init(path)`\n *\n * @api private\n */\n\nStateMachine.prototype._changeState = function _changeState(path, nextState) {\n  const prevState = this.paths[path];\n  if (prevState === nextState) {\n    return;\n  }\n  const prevBucket = this.states[prevState];\n  if (prevBucket) delete prevBucket[path];\n\n  this.paths[path] = nextState;\n  this.states[nextState] = this.states[nextState] || {};\n  this.states[nextState][path] = true;\n};\n\n/*!\n * ignore\n */\n\nStateMachine.prototype.clear = function clear(state) {\n  if (this.states[state] == null) {\n    return;\n  }\n  const keys = Object.keys(this.states[state]);\n  let i = keys.length;\n  let path;\n\n  while (i--) {\n    path = keys[i];\n    delete this.states[state][path];\n    delete this.paths[path];\n  }\n};\n\n/*!\n * ignore\n */\n\nStateMachine.prototype.clearPath = function clearPath(path) {\n  const state = this.paths[path];\n  if (!state) {\n    return;\n  }\n  delete this.paths[path];\n  delete this.states[state][path];\n};\n\n/**\n * Gets the paths for the given state, or empty object `{}` if none.\n * @api private\n */\n\nStateMachine.prototype.getStatePaths = function getStatePaths(state) {\n  if (this.states[state] != null) {\n    return this.states[state];\n  }\n  return {};\n};\n\n/**\n * Checks to see if at least one path is in the states passed in via `arguments`\n * e.g., this.some('required', 'inited')\n *\n * @param {String} state that we want to check for.\n * @api private\n */\n\nStateMachine.prototype.some = function some() {\n  const _this = this;\n  const what = arguments.length ? arguments : this.stateNames;\n  return Array.prototype.some.call(what, function(state) {\n    if (_this.states[state] == null) {\n      return false;\n    }\n    return Object.keys(_this.states[state]).length;\n  });\n};\n\n/**\n * This function builds the functions that get assigned to `forEach` and `map`,\n * since both of those methods share a lot of the same logic.\n *\n * @param {String} iterMethod is either 'forEach' or 'map'\n * @return {Function}\n * @api private\n */\n\nStateMachine.prototype._iter = function _iter(iterMethod) {\n  return function() {\n    let states = [...arguments];\n    const callback = states.pop();\n\n    if (!states.length) states = this.stateNames;\n\n    const _this = this;\n\n    const paths = states.reduce(function(paths, state) {\n      if (_this.states[state] == null) {\n        return paths;\n      }\n      return paths.concat(Object.keys(_this.states[state]));\n    }, []);\n\n    return paths[iterMethod](function(path, i, paths) {\n      return callback(path, i, paths);\n    });\n  };\n};\n\n/**\n * Iterates over the paths that belong to one of the parameter states.\n *\n * The function profile can look like:\n * this.forEach(state1, fn);         // iterates over all paths in state1\n * this.forEach(state1, state2, fn); // iterates over all paths in state1 or state2\n * this.forEach(fn);                 // iterates over all paths in all states\n *\n * @param {String} [state]\n * @param {String} [state]\n * @param {Function} callback\n * @api private\n */\n\nStateMachine.prototype.forEach = function forEach() {\n  this.forEach = this._iter('forEach');\n  return this.forEach.apply(this, arguments);\n};\n\n/**\n * Maps over the paths that belong to one of the parameter states.\n *\n * The function profile can look like:\n * this.forEach(state1, fn);         // iterates over all paths in state1\n * this.forEach(state1, state2, fn); // iterates over all paths in state1 or state2\n * this.forEach(fn);                 // iterates over all paths in all states\n *\n * @param {String} [state]\n * @param {String} [state]\n * @param {Function} callback\n * @return {Array}\n * @api private\n */\n\nStateMachine.prototype.map = function map() {\n  this.map = this._iter('map');\n  return this.map.apply(this, arguments);\n};\n\n/**\n * Returns a copy of this state machine\n *\n * @param {Function} callback\n * @return {StateMachine}\n * @api private\n */\n\nStateMachine.prototype.clone = function clone() {\n  const result = new this.constructor();\n  result.paths = { ...this.paths };\n  for (const state of this.stateNames) {\n    if (!(state in this.states)) {\n      continue;\n    }\n    result.states[state] = this.states[state] == null ? this.states[state] : { ...this.states[state] };\n  }\n  return result;\n};\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 7630, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/backend/node_modules/mongoose/lib/internal.js"],"sourcesContent":["/*!\n * Dependencies\n */\n\n'use strict';\n\nconst StateMachine = require('./stateMachine');\nconst ActiveRoster = StateMachine.ctor('require', 'modify', 'init', 'default', 'ignore');\n\nmodule.exports = exports = InternalCache;\n\nfunction InternalCache() {\n  this.activePaths = new ActiveRoster();\n}\n\nInternalCache.prototype.strictMode = true;\n\nInternalCache.prototype.fullPath = undefined;\nInternalCache.prototype.selected = undefined;\nInternalCache.prototype.shardval = undefined;\nInternalCache.prototype.saveError = undefined;\nInternalCache.prototype.validationError = undefined;\nInternalCache.prototype.adhocPaths = undefined;\nInternalCache.prototype.removing = undefined;\nInternalCache.prototype.inserting = undefined;\nInternalCache.prototype.saving = undefined;\nInternalCache.prototype.version = undefined;\nInternalCache.prototype._id = undefined;\nInternalCache.prototype.ownerDocument = undefined;\nInternalCache.prototype.populate = undefined; // what we want to populate in this doc\nInternalCache.prototype.populated = undefined;// the _ids that have been populated\nInternalCache.prototype.primitiveAtomics = undefined;\n\n/**\n * If `false`, this document was not the result of population.\n * If `true`, this document is a populated doc underneath another doc\n * If an object, this document is a populated doc and the `value` property of the\n * object contains the original depopulated value.\n */\nInternalCache.prototype.wasPopulated = false;\n\nInternalCache.prototype.scope = undefined;\n\nInternalCache.prototype.session = null;\nInternalCache.prototype.pathsToScopes = null;\nInternalCache.prototype.cachedRequired = null;\n"],"names":[],"mappings":"AAAA;;CAEC,GAID,MAAM;AACN,MAAM,eAAe,aAAa,IAAI,CAAC,WAAW,UAAU,QAAQ,WAAW;AAE/E,OAAO,OAAO,GAAG,UAAU;AAE3B,SAAS;IACP,IAAI,CAAC,WAAW,GAAG,IAAI;AACzB;AAEA,cAAc,SAAS,CAAC,UAAU,GAAG;AAErC,cAAc,SAAS,CAAC,QAAQ,GAAG;AACnC,cAAc,SAAS,CAAC,QAAQ,GAAG;AACnC,cAAc,SAAS,CAAC,QAAQ,GAAG;AACnC,cAAc,SAAS,CAAC,SAAS,GAAG;AACpC,cAAc,SAAS,CAAC,eAAe,GAAG;AAC1C,cAAc,SAAS,CAAC,UAAU,GAAG;AACrC,cAAc,SAAS,CAAC,QAAQ,GAAG;AACnC,cAAc,SAAS,CAAC,SAAS,GAAG;AACpC,cAAc,SAAS,CAAC,MAAM,GAAG;AACjC,cAAc,SAAS,CAAC,OAAO,GAAG;AAClC,cAAc,SAAS,CAAC,GAAG,GAAG;AAC9B,cAAc,SAAS,CAAC,aAAa,GAAG;AACxC,cAAc,SAAS,CAAC,QAAQ,GAAG,WAAW,uCAAuC;AACrF,cAAc,SAAS,CAAC,SAAS,GAAG,WAAU,oCAAoC;AAClF,cAAc,SAAS,CAAC,gBAAgB,GAAG;AAE3C;;;;;CAKC,GACD,cAAc,SAAS,CAAC,YAAY,GAAG;AAEvC,cAAc,SAAS,CAAC,KAAK,GAAG;AAEhC,cAAc,SAAS,CAAC,OAAO,GAAG;AAClC,cAAc,SAAS,CAAC,aAAa,GAAG;AACxC,cAAc,SAAS,CAAC,cAAc,GAAG","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 7668, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/backend/node_modules/mongoose/lib/modifiedPathsSnapshot.js"],"sourcesContent":["'use strict';\n\nmodule.exports = class ModifiedPathsSnapshot {\n  constructor(subdocSnapshot, activePaths, version) {\n    this.subdocSnapshot = subdocSnapshot;\n    this.activePaths = activePaths;\n    this.version = version;\n  }\n};\n"],"names":[],"mappings":"AAEA,OAAO,OAAO,GAAG,MAAM;IACrB,YAAY,cAAc,EAAE,WAAW,EAAE,OAAO,CAAE;QAChD,IAAI,CAAC,cAAc,GAAG;QACtB,IAAI,CAAC,WAAW,GAAG;QACnB,IAAI,CAAC,OAAO,GAAG;IACjB;AACF","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 7679, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/backend/node_modules/mongoose/lib/queryHelpers.js"],"sourcesContent":["'use strict';\n\n/*!\n * Module dependencies\n */\n\nconst PopulateOptions = require('./options/populateOptions');\nconst checkEmbeddedDiscriminatorKeyProjection =\n  require('./helpers/discriminator/checkEmbeddedDiscriminatorKeyProjection');\nconst get = require('./helpers/get');\nconst getDiscriminatorByValue =\n  require('./helpers/discriminator/getDiscriminatorByValue');\nconst isDefiningProjection = require('./helpers/projection/isDefiningProjection');\nconst clone = require('./helpers/clone');\nconst isPathSelectedInclusive = require('./helpers/projection/isPathSelectedInclusive');\n\n/**\n * Prepare a set of path options for query population. This is the MongooseQuery\n * version\n *\n * @param {Query} query\n * @param {Object} options\n * @return {Array}\n */\n\nexports.preparePopulationOptionsMQ = function preparePopulationOptionsMQ(query, options) {\n  const _populate = query._mongooseOptions.populate;\n  const pop = Object.keys(_populate).reduce((vals, key) => vals.concat([_populate[key]]), []);\n\n  // lean options should trickle through all queries\n  if (options.lean != null) {\n    pop\n      .filter(p => (p && p.options && p.options.lean) == null)\n      .forEach(makeLean(options.lean));\n  }\n\n  const session = query && query.options && query.options.session || null;\n  if (session != null) {\n    pop.forEach(path => {\n      if (path.options == null) {\n        path.options = { session: session };\n        return;\n      }\n      if (!('session' in path.options)) {\n        path.options.session = session;\n      }\n    });\n  }\n\n  const projection = query._fieldsForExec();\n  for (let i = 0; i < pop.length; ++i) {\n    if (pop[i] instanceof PopulateOptions) {\n      pop[i] = new PopulateOptions({\n        ...pop[i],\n        _queryProjection: projection,\n        _localModel: query.model\n      });\n    } else {\n      pop[i]._queryProjection = projection;\n      pop[i]._localModel = query.model;\n    }\n  }\n\n  return pop;\n};\n\n/**\n * If the document is a mapped discriminator type, it returns a model instance for that type, otherwise,\n * it returns an instance of the given model.\n *\n * @param {Model}  model\n * @param {Object} doc\n * @param {Object} fields\n *\n * @return {Document}\n */\nexports.createModel = function createModel(model, doc, fields, userProvidedFields, options) {\n  model.hooks.execPreSync('createModel', doc);\n  const discriminatorMapping = model.schema ?\n    model.schema.discriminatorMapping :\n    null;\n\n  const key = discriminatorMapping && discriminatorMapping.isRoot ?\n    discriminatorMapping.key :\n    null;\n\n  const value = doc[key];\n  if (key && value && model.discriminators) {\n    const discriminator = model.discriminators[value] || getDiscriminatorByValue(model.discriminators, value);\n    if (discriminator) {\n      const _fields = clone(userProvidedFields);\n      exports.applyPaths(_fields, discriminator.schema);\n      return new discriminator(undefined, _fields, true);\n    }\n  }\n\n  const _opts = {\n    skipId: true,\n    isNew: false,\n    willInit: true\n  };\n  if (options != null && 'defaults' in options) {\n    _opts.defaults = options.defaults;\n  }\n  return new model(undefined, fields, _opts);\n};\n\n/*!\n * ignore\n */\n\nexports.createModelAndInit = function createModelAndInit(model, doc, fields, userProvidedFields, options, populatedIds, callback) {\n  const initOpts = populatedIds ?\n    { populated: populatedIds } :\n    undefined;\n\n  const casted = exports.createModel(model, doc, fields, userProvidedFields, options);\n  try {\n    casted.$init(doc, initOpts, callback);\n  } catch (error) {\n    callback(error, casted);\n  }\n};\n\n/*!\n * ignore\n */\n\nexports.applyPaths = function applyPaths(fields, schema, sanitizeProjection) {\n  // determine if query is selecting or excluding fields\n  let exclude;\n  let keys;\n  const minusPathsToSkip = new Set();\n\n  if (fields) {\n    keys = Object.keys(fields);\n\n    // Collapse minus paths\n    const minusPaths = [];\n    for (let i = 0; i < keys.length; ++i) {\n      const key = keys[i];\n      if (keys[i][0] !== '-') {\n        continue;\n      }\n\n      delete fields[key];\n      if (key === '-_id') {\n        fields['_id'] = 0;\n      } else {\n        minusPaths.push(key.slice(1));\n      }\n    }\n\n    keys = Object.keys(fields);\n    for (let keyIndex = 0; keyIndex < keys.length; ++keyIndex) {\n      if (keys[keyIndex][0] === '+') {\n        continue;\n      }\n      const field = fields[keys[keyIndex]];\n      // Skip `$meta` and `$slice`\n      if (!isDefiningProjection(field)) {\n        continue;\n      }\n      if (keys[keyIndex] === '_id' && keys.length > 1) {\n        continue;\n      }\n      if (keys[keyIndex] === schema.options.discriminatorKey && keys.length > 1 && field != null && !field) {\n        continue;\n      }\n      exclude = !field;\n      break;\n    }\n\n    // Potentially add back minus paths based on schema-level path config\n    // and whether the projection is inclusive\n    for (const path of minusPaths) {\n      const type = schema.path(path);\n      // If the path isn't selected by default or the projection is not\n      // inclusive, minus path is treated as equivalent to `key: 0`.\n      // But we also allow using `-name` to remove `name` from an inclusive\n      // projection if `name` has schema-level `select: true`.\n      if ((!type || !type.selected) || exclude !== false) {\n        fields[path] = 0;\n        exclude = true;\n      } else if (type && type.selected && exclude === false) {\n        // Make a note of minus paths that are overwriting paths that are\n        // included by default.\n        minusPathsToSkip.add(path);\n      }\n    }\n  }\n\n  // if selecting, apply default schematype select:true fields\n  // if excluding, apply schematype select:false fields\n  const selected = [];\n  const excluded = [];\n  const stack = [];\n\n  analyzeSchema(schema);\n  switch (exclude) {\n    case true:\n      for (const fieldName of excluded) {\n        fields[fieldName] = 0;\n      }\n      break;\n    case false:\n      if (schema &&\n          schema.paths['_id'] &&\n          schema.paths['_id'].options &&\n          schema.paths['_id'].options.select === false) {\n        fields._id = 0;\n      }\n\n      for (const fieldName of selected) {\n        if (minusPathsToSkip.has(fieldName)) {\n          continue;\n        }\n        if (isPathSelectedInclusive(fields, fieldName)) {\n          continue;\n        }\n        fields[fieldName] = fields[fieldName] || 1;\n      }\n      break;\n    case undefined:\n      if (fields == null) {\n        break;\n      }\n      // Any leftover plus paths must in the schema, so delete them (gh-7017)\n      for (const key of Object.keys(fields || {})) {\n        if (key.startsWith('+')) {\n          delete fields[key];\n        }\n      }\n\n      // user didn't specify fields, implies returning all fields.\n      // only need to apply excluded fields and delete any plus paths\n      for (const fieldName of excluded) {\n        if (fields[fieldName] != null) {\n          // Skip applying default projections to fields with non-defining\n          // projections, like `$slice`\n          continue;\n        }\n        fields[fieldName] = 0;\n      }\n      break;\n  }\n\n  function analyzeSchema(schema, prefix) {\n    prefix || (prefix = '');\n\n    // avoid recursion\n    if (stack.indexOf(schema) !== -1) {\n      return [];\n    }\n    stack.push(schema);\n\n    const addedPaths = [];\n    schema.eachPath(function(path, type) {\n      if (prefix) path = prefix + '.' + path;\n      if (type.$isSchemaMap || path.endsWith('.$*')) {\n        const plusPath = '+' + path;\n        const hasPlusPath = fields && plusPath in fields;\n        if (type.options && type.options.select === false && !hasPlusPath) {\n          excluded.push(path);\n        }\n        return;\n      }\n      let addedPath = analyzePath(path, type);\n      // arrays\n      if (addedPath == null && !Array.isArray(type) && type.$isMongooseArray && !type.$isMongooseDocumentArray) {\n        addedPath = analyzePath(path, type.caster);\n      }\n      if (addedPath != null) {\n        addedPaths.push(addedPath);\n      }\n\n      // nested schemas\n      if (type.schema) {\n        const _addedPaths = analyzeSchema(type.schema, path);\n\n        // Special case: if discriminator key is the only field that would\n        // be projected in, remove it.\n        if (exclude === false) {\n          checkEmbeddedDiscriminatorKeyProjection(fields, path, type.schema,\n            selected, _addedPaths);\n        }\n      }\n    });\n    stack.pop();\n    return addedPaths;\n  }\n\n  function analyzePath(path, type) {\n    if (fields == null) {\n      return;\n    }\n\n    // If schema-level selected not set, nothing to do\n    if (typeof type.selected !== 'boolean') {\n      return;\n    }\n\n    // User overwriting default exclusion\n    if (type.selected === false && fields[path]) {\n      if (sanitizeProjection) {\n        fields[path] = 0;\n      }\n\n      return;\n    }\n\n    // If set to 0, we're explicitly excluding the discriminator key. Can't do this for all fields,\n    // because we have tests that assert that using `-path` to exclude schema-level `select: true`\n    // fields counts as an exclusive projection. See gh-11546\n    if (!exclude && type.selected && path === schema.options.discriminatorKey && fields[path] != null && !fields[path]) {\n      delete fields[path];\n      return;\n    }\n\n    if (exclude === false && type.selected && fields[path] != null && !fields[path]) {\n      delete fields[path];\n      return;\n    }\n\n    const plusPath = '+' + path;\n    const hasPlusPath = fields && plusPath in fields;\n    if (hasPlusPath) {\n      // forced inclusion\n      delete fields[plusPath];\n\n      // if there are other fields being included, add this one\n      // if no other included fields, leave this out (implied inclusion)\n      if (exclude === false && keys.length > 1 && !~keys.indexOf(path) && !sanitizeProjection) {\n        fields[path] = 1;\n      } else if (exclude == null && sanitizeProjection && type.selected === false) {\n        fields[path] = 0;\n      }\n\n      return;\n    }\n\n    // check for parent exclusions\n    const pieces = path.split('.');\n    let cur = '';\n    for (let i = 0; i < pieces.length; ++i) {\n      cur += cur.length ? '.' + pieces[i] : pieces[i];\n      if (excluded.indexOf(cur) !== -1) {\n        return;\n      }\n    }\n\n    // Special case: if user has included a parent path of a discriminator key,\n    // don't explicitly project in the discriminator key because that will\n    // project out everything else under the parent path\n    if (!exclude && (type && type.options && type.options.$skipDiscriminatorCheck || false)) {\n      let cur = '';\n      for (let i = 0; i < pieces.length; ++i) {\n        cur += (cur.length === 0 ? '' : '.') + pieces[i];\n        const projection = get(fields, cur, false) || get(fields, cur + '.$', false);\n        if (projection && typeof projection !== 'object') {\n          return;\n        }\n      }\n    }\n\n    (type.selected ? selected : excluded).push(path);\n    return path;\n  }\n};\n\n/**\n * Set each path query option to lean\n *\n * @param {Object} option\n */\n\nfunction makeLean(val) {\n  return function(option) {\n    option.options || (option.options = {});\n\n    if (val != null && Array.isArray(val.virtuals)) {\n      val = Object.assign({}, val);\n      val.virtuals = val.virtuals.\n        filter(path => typeof path === 'string' && path.startsWith(option.path + '.')).\n        map(path => path.slice(option.path.length + 1));\n    }\n\n    option.options.lean = val;\n  };\n}\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 8007, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/backend/node_modules/mongoose/lib/utils.js"],"sourcesContent":["'use strict';\n\n/*!\n * Module dependencies.\n */\n\nconst UUID = require('bson').UUID;\nconst ms = require('ms');\nconst mpath = require('mpath');\nconst ObjectId = require('./types/objectid');\nconst PopulateOptions = require('./options/populateOptions');\nconst clone = require('./helpers/clone');\nconst immediate = require('./helpers/immediate');\nconst isObject = require('./helpers/isObject');\nconst isMongooseArray = require('./types/array/isMongooseArray');\nconst isMongooseDocumentArray = require('./types/documentArray/isMongooseDocumentArray');\nconst isBsonType = require('./helpers/isBsonType');\nconst isPOJO = require('./helpers/isPOJO');\nconst getFunctionName = require('./helpers/getFunctionName');\nconst isMongooseObject = require('./helpers/isMongooseObject');\nconst promiseOrCallback = require('./helpers/promiseOrCallback');\nconst schemaMerge = require('./helpers/schema/merge');\nconst specialProperties = require('./helpers/specialProperties');\nconst { trustedSymbol } = require('./helpers/query/trusted');\n\nlet Document;\n\nexports.specialProperties = specialProperties;\n\nexports.isMongooseArray = isMongooseArray.isMongooseArray;\nexports.isMongooseDocumentArray = isMongooseDocumentArray.isMongooseDocumentArray;\nexports.registerMongooseArray = isMongooseArray.registerMongooseArray;\nexports.registerMongooseDocumentArray = isMongooseDocumentArray.registerMongooseDocumentArray;\n\nconst oneSpaceRE = /\\s/;\nconst manySpaceRE = /\\s+/;\n\n/**\n * Produces a collection name from model `name`. By default, just returns\n * the model name\n *\n * @param {String} name a model name\n * @param {Function} pluralize function that pluralizes the collection name\n * @return {String} a collection name\n * @api private\n */\n\nexports.toCollectionName = function(name, pluralize) {\n  if (name === 'system.profile') {\n    return name;\n  }\n  if (name === 'system.indexes') {\n    return name;\n  }\n  if (typeof pluralize === 'function') {\n    if (typeof name !== 'string') {\n      throw new TypeError('Collection name must be a string');\n    }\n    if (name.length === 0) {\n      throw new TypeError('Collection name cannot be empty');\n    }\n    return pluralize(name);\n  }\n  return name;\n};\n\n/**\n * Determines if `a` and `b` are deep equal.\n *\n * Modified from node/lib/assert.js\n *\n * @param {any} a a value to compare to `b`\n * @param {any} b a value to compare to `a`\n * @return {Boolean}\n * @api private\n */\n\nexports.deepEqual = function deepEqual(a, b) {\n  if (a === b) {\n    return true;\n  }\n\n  if (typeof a !== 'object' || typeof b !== 'object') {\n    return a === b;\n  }\n\n  if (a instanceof Date && b instanceof Date) {\n    return a.getTime() === b.getTime();\n  }\n\n  if ((isBsonType(a, 'ObjectId') && isBsonType(b, 'ObjectId')) ||\n      (isBsonType(a, 'Decimal128') && isBsonType(b, 'Decimal128'))) {\n    return a.toString() === b.toString();\n  }\n\n  if (a instanceof RegExp && b instanceof RegExp) {\n    return a.source === b.source &&\n        a.ignoreCase === b.ignoreCase &&\n        a.multiline === b.multiline &&\n        a.global === b.global &&\n        a.dotAll === b.dotAll &&\n        a.unicode === b.unicode &&\n        a.sticky === b.sticky &&\n        a.hasIndices === b.hasIndices;\n  }\n\n  if (a == null || b == null) {\n    return false;\n  }\n\n  if (a.prototype !== b.prototype) {\n    return false;\n  }\n\n  if (a instanceof Map || b instanceof Map) {\n    if (!(a instanceof Map) || !(b instanceof Map)) {\n      return false;\n    }\n    return deepEqual(Array.from(a.keys()), Array.from(b.keys())) &&\n      deepEqual(Array.from(a.values()), Array.from(b.values()));\n  }\n\n  // Handle MongooseNumbers\n  if (a instanceof Number && b instanceof Number) {\n    return a.valueOf() === b.valueOf();\n  }\n\n  if (Buffer.isBuffer(a)) {\n    return exports.buffer.areEqual(a, b);\n  }\n\n  if (Array.isArray(a) || Array.isArray(b)) {\n    if (!Array.isArray(a) || !Array.isArray(b)) {\n      return false;\n    }\n    const len = a.length;\n    if (len !== b.length) {\n      return false;\n    }\n    for (let i = 0; i < len; ++i) {\n      if (!deepEqual(a[i], b[i])) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  if (a.$__ != null) {\n    a = a._doc;\n  } else if (isMongooseObject(a)) {\n    a = a.toObject();\n  }\n\n  if (b.$__ != null) {\n    b = b._doc;\n  } else if (isMongooseObject(b)) {\n    b = b.toObject();\n  }\n\n  const ka = Object.keys(a);\n  const kb = Object.keys(b);\n  const kaLength = ka.length;\n\n  // having the same number of owned properties (keys incorporates\n  // hasOwnProperty)\n  if (kaLength !== kb.length) {\n    return false;\n  }\n\n  // ~~~cheap key test\n  for (let i = kaLength - 1; i >= 0; i--) {\n    if (ka[i] !== kb[i]) {\n      return false;\n    }\n  }\n\n  // equivalent values for every corresponding key, and\n  // ~~~possibly expensive deep test\n  for (const key of ka) {\n    if (!deepEqual(a[key], b[key])) {\n      return false;\n    }\n  }\n\n  return true;\n};\n\n/**\n * Get the last element of an array\n * @param {Array} arr\n */\n\nexports.last = function(arr) {\n  if (arr.length > 0) {\n    return arr[arr.length - 1];\n  }\n  return void 0;\n};\n\n/*!\n * ignore\n */\n\nexports.promiseOrCallback = promiseOrCallback;\n\n/*!\n * ignore\n */\n\nexports.cloneArrays = function cloneArrays(arr) {\n  if (!Array.isArray(arr)) {\n    return arr;\n  }\n\n  return arr.map(el => exports.cloneArrays(el));\n};\n\n/*!\n * ignore\n */\n\nexports.omit = function omit(obj, keys) {\n  if (keys == null) {\n    return Object.assign({}, obj);\n  }\n  if (!Array.isArray(keys)) {\n    keys = [keys];\n  }\n\n  const ret = Object.assign({}, obj);\n  for (const key of keys) {\n    delete ret[key];\n  }\n  return ret;\n};\n\n/**\n * Simplified version of `clone()` that only clones POJOs and arrays. Skips documents, dates, objectids, etc.\n * @param {*} val\n * @returns\n*/\n\nexports.clonePOJOsAndArrays = function clonePOJOsAndArrays(val) {\n  if (val == null) {\n    return val;\n  }\n  // Skip documents because we assume they'll be cloned later. See gh-15312 for how documents are handled with `merge()`.\n  if (val.$__ != null) {\n    return val;\n  }\n  if (isPOJO(val)) {\n    val = { ...val };\n    for (const key of Object.keys(val)) {\n      val[key] = exports.clonePOJOsAndArrays(val[key]);\n    }\n    return val;\n  }\n  if (Array.isArray(val)) {\n    val = [...val];\n    for (let i = 0; i < val.length; ++i) {\n      val[i] = exports.clonePOJOsAndArrays(val[i]);\n    }\n    return val;\n  }\n\n  return val;\n};\n\n/**\n * Merges `from` into `to` without overwriting existing properties.\n *\n * @param {Object} to\n * @param {Object} from\n * @param {Object} [options]\n * @param {String} [path]\n * @api private\n */\n\nexports.merge = function merge(to, from, options, path) {\n  options = options || {};\n\n  const keys = Object.keys(from);\n  let i = 0;\n  const len = keys.length;\n  let key;\n\n  if (from[trustedSymbol]) {\n    to[trustedSymbol] = from[trustedSymbol];\n  }\n\n  path = path || '';\n  const omitNested = options.omitNested || {};\n\n  while (i < len) {\n    key = keys[i++];\n    if (options.omit && options.omit[key]) {\n      continue;\n    }\n    if (omitNested[path]) {\n      continue;\n    }\n    if (specialProperties.has(key)) {\n      continue;\n    }\n    if (to[key] == null) {\n      to[key] = exports.clonePOJOsAndArrays(from[key]);\n    } else if (exports.isObject(from[key])) {\n      if (!exports.isObject(to[key])) {\n        to[key] = {};\n      }\n      if (from[key] != null) {\n        // Skip merging schemas if we're creating a discriminator schema and\n        // base schema has a given path as a single nested but discriminator schema\n        // has the path as a document array, or vice versa (gh-9534)\n        if (options.isDiscriminatorSchemaMerge &&\n            (from[key].$isSingleNested && to[key].$isMongooseDocumentArray) ||\n            (from[key].$isMongooseDocumentArray && to[key].$isSingleNested)) {\n          continue;\n        } else if (from[key].instanceOfSchema) {\n          if (to[key].instanceOfSchema) {\n            schemaMerge(to[key], from[key].clone(), options.isDiscriminatorSchemaMerge);\n          } else {\n            to[key] = from[key].clone();\n          }\n          continue;\n        } else if (isBsonType(from[key], 'ObjectId')) {\n          to[key] = new ObjectId(from[key]);\n          continue;\n        }\n      }\n      merge(to[key], from[key], options, path ? path + '.' + key : key);\n    } else if (options.overwrite) {\n      to[key] = from[key];\n    }\n  }\n\n  return to;\n};\n\n/**\n * Applies toObject recursively.\n *\n * @param {Document|Array|Object} obj\n * @return {Object}\n * @api private\n */\n\nexports.toObject = function toObject(obj) {\n  Document || (Document = require('./document'));\n  let ret;\n\n  if (obj == null) {\n    return obj;\n  }\n\n  if (obj instanceof Document) {\n    return obj.toObject();\n  }\n\n  if (Array.isArray(obj)) {\n    ret = [];\n\n    for (const doc of obj) {\n      ret.push(toObject(doc));\n    }\n\n    return ret;\n  }\n\n  if (exports.isPOJO(obj)) {\n    ret = {};\n\n    if (obj[trustedSymbol]) {\n      ret[trustedSymbol] = obj[trustedSymbol];\n    }\n\n    for (const k of Object.keys(obj)) {\n      if (specialProperties.has(k)) {\n        continue;\n      }\n      ret[k] = toObject(obj[k]);\n    }\n\n    return ret;\n  }\n\n  return obj;\n};\n\nexports.isObject = isObject;\n\n/**\n * Determines if `arg` is a plain old JavaScript object (POJO). Specifically,\n * `arg` must be an object but not an instance of any special class, like String,\n * ObjectId, etc.\n *\n * `Object.getPrototypeOf()` is part of ES5: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/getPrototypeOf\n *\n * @param {Object|Array|String|Function|RegExp|any} arg\n * @api private\n * @return {Boolean}\n */\n\nexports.isPOJO = require('./helpers/isPOJO');\n\n/**\n * Determines if `arg` is an object that isn't an instance of a built-in value\n * class, like Array, Buffer, ObjectId, etc.\n * @param {Any} val\n */\n\nexports.isNonBuiltinObject = function isNonBuiltinObject(val) {\n  return typeof val === 'object' &&\n    !exports.isNativeObject(val) &&\n    !exports.isMongooseType(val) &&\n    !(val instanceof UUID) &&\n    val != null;\n};\n\n/**\n * Determines if `obj` is a built-in object like an array, date, boolean,\n * etc.\n * @param {Any} arg\n */\n\nexports.isNativeObject = function(arg) {\n  return Array.isArray(arg) ||\n    arg instanceof Date ||\n    arg instanceof Boolean ||\n    arg instanceof Number ||\n    arg instanceof String;\n};\n\n/**\n * Determines if `val` is an object that has no own keys\n * @param {Any} val\n */\n\nexports.isEmptyObject = function(val) {\n  return val != null &&\n    typeof val === 'object' &&\n    Object.keys(val).length === 0;\n};\n\n/**\n * Search if `obj` or any POJOs nested underneath `obj` has a property named\n * `key`\n * @param {Object} obj\n * @param {String} key\n */\n\nexports.hasKey = function hasKey(obj, key) {\n  const props = Object.keys(obj);\n  for (const prop of props) {\n    if (prop === key) {\n      return true;\n    }\n    if (exports.isPOJO(obj[prop]) && exports.hasKey(obj[prop], key)) {\n      return true;\n    }\n  }\n  return false;\n};\n\n/**\n * process.nextTick helper.\n *\n * Wraps `callback` in a try/catch + nextTick.\n *\n * node-mongodb-native has a habit of state corruption when an error is immediately thrown from within a collection callback.\n *\n * @param {Function} callback\n * @api private\n */\n\nexports.tick = function tick(callback) {\n  if (typeof callback !== 'function') {\n    return;\n  }\n  return function() {\n    try {\n      callback.apply(this, arguments);\n    } catch (err) {\n      // only nextTick on err to get out of\n      // the event loop and avoid state corruption.\n      immediate(function() {\n        throw err;\n      });\n    }\n  };\n};\n\n/**\n * Returns true if `v` is an object that can be serialized as a primitive in\n * MongoDB\n * @param {Any} v\n */\n\nexports.isMongooseType = function(v) {\n  return isBsonType(v, 'ObjectId') || isBsonType(v, 'Decimal128') || v instanceof Buffer;\n};\n\nexports.isMongooseObject = isMongooseObject;\n\n/**\n * Converts `expires` options of index objects to `expiresAfterSeconds` options for MongoDB.\n *\n * @param {Object} object\n * @api private\n */\n\nexports.expires = function expires(object) {\n  if (!(object && object.constructor.name === 'Object')) {\n    return;\n  }\n  if (!('expires' in object)) {\n    return;\n  }\n\n  object.expireAfterSeconds = (typeof object.expires !== 'string')\n    ? object.expires\n    : Math.round(ms(object.expires) / 1000);\n  delete object.expires;\n};\n\n/**\n * populate helper\n * @param {String} path\n * @param {String} select\n * @param {Model} model\n * @param {Object} match\n * @param {Object} options\n * @param {Any} subPopulate\n * @param {Boolean} justOne\n * @param {Boolean} count\n */\n\nexports.populate = function populate(path, select, model, match, options, subPopulate, justOne, count) {\n  // might have passed an object specifying all arguments\n  let obj = null;\n  if (arguments.length === 1) {\n    if (path instanceof PopulateOptions) {\n      // If reusing old populate docs, avoid reusing `_docs` because that may\n      // lead to bugs and memory leaks. See gh-11641\n      path._docs = {};\n      path._childDocs = [];\n      return [path];\n    }\n\n    if (Array.isArray(path)) {\n      const singles = makeSingles(path);\n      return singles.map(o => exports.populate(o)[0]);\n    }\n\n    if (exports.isObject(path)) {\n      obj = Object.assign({}, path);\n    } else {\n      obj = { path: path };\n    }\n  } else if (typeof model === 'object') {\n    obj = {\n      path: path,\n      select: select,\n      match: model,\n      options: match\n    };\n  } else {\n    obj = {\n      path: path,\n      select: select,\n      model: model,\n      match: match,\n      options: options,\n      populate: subPopulate,\n      justOne: justOne,\n      count: count\n    };\n  }\n\n  if (typeof obj.path !== 'string' && !(Array.isArray(obj.path) && obj.path.every(el => typeof el === 'string'))) {\n    throw new TypeError('utils.populate: invalid path. Expected string or array of strings. Got typeof `' + typeof path + '`');\n  }\n\n  return _populateObj(obj);\n\n  // The order of select/conditions args is opposite Model.find but\n  // necessary to keep backward compatibility (select could be\n  // an array, string, or object literal).\n  function makeSingles(arr) {\n    const ret = [];\n    arr.forEach(function(obj) {\n      if (oneSpaceRE.test(obj.path)) {\n        const paths = obj.path.split(manySpaceRE);\n        paths.forEach(function(p) {\n          const copy = Object.assign({}, obj);\n          copy.path = p;\n          ret.push(copy);\n        });\n      } else {\n        ret.push(obj);\n      }\n    });\n\n    return ret;\n  }\n};\n\nfunction _populateObj(obj) {\n  if (Array.isArray(obj.populate)) {\n    const ret = [];\n    obj.populate.forEach(function(obj) {\n      if (oneSpaceRE.test(obj.path)) {\n        const copy = Object.assign({}, obj);\n        const paths = copy.path.split(manySpaceRE);\n        paths.forEach(function(p) {\n          copy.path = p;\n          ret.push(exports.populate(copy)[0]);\n        });\n      } else {\n        ret.push(exports.populate(obj)[0]);\n      }\n    });\n    obj.populate = exports.populate(ret);\n  } else if (obj.populate != null && typeof obj.populate === 'object') {\n    obj.populate = exports.populate(obj.populate);\n  }\n\n  const ret = [];\n  const paths = oneSpaceRE.test(obj.path)\n    ? obj.path.split(manySpaceRE)\n    : Array.isArray(obj.path)\n      ? obj.path\n      : [obj.path];\n  if (obj.options != null) {\n    obj.options = clone(obj.options);\n  }\n\n  for (const path of paths) {\n    ret.push(new PopulateOptions(Object.assign({}, obj, { path: path })));\n  }\n\n  return ret;\n}\n\n/**\n * Return the value of `obj` at the given `path`.\n *\n * @param {String} path\n * @param {Object} obj\n * @param {Any} map\n */\n\nexports.getValue = function(path, obj, map) {\n  return mpath.get(path, obj, getValueLookup, map);\n};\n\n/*!\n * ignore\n */\n\nconst mapGetterOptions = Object.freeze({ getters: false });\n\nfunction getValueLookup(obj, part) {\n  if (part === '$*' && obj instanceof Map) {\n    return obj;\n  }\n  let _from = obj?._doc || obj;\n  if (_from != null && _from.isMongooseArrayProxy) {\n    _from = _from.__array;\n  }\n  return _from instanceof Map ?\n    _from.get(part, mapGetterOptions) :\n    _from[part];\n}\n\n/**\n * Sets the value of `obj` at the given `path`.\n *\n * @param {String} path\n * @param {Anything} val\n * @param {Object} obj\n * @param {Any} map\n * @param {Any} _copying\n */\n\nexports.setValue = function(path, val, obj, map, _copying) {\n  mpath.set(path, val, obj, '_doc', map, _copying);\n};\n\n/**\n * Returns an array of values from object `o`.\n *\n * @param {Object} o\n * @return {Array}\n * @api private\n */\n\nexports.object = {};\nexports.object.vals = function vals(o) {\n  const keys = Object.keys(o);\n  let i = keys.length;\n  const ret = [];\n\n  while (i--) {\n    ret.push(o[keys[i]]);\n  }\n\n  return ret;\n};\n\nconst hop = Object.prototype.hasOwnProperty;\n\n/**\n * Safer helper for hasOwnProperty checks\n *\n * @param {Object} obj\n * @param {String} prop\n */\n\nexports.object.hasOwnProperty = function(obj, prop) {\n  return hop.call(obj, prop);\n};\n\n/**\n * Determine if `val` is null or undefined\n *\n * @param {Any} val\n * @return {Boolean}\n */\n\nexports.isNullOrUndefined = function(val) {\n  return val === null || val === undefined;\n};\n\n/*!\n * ignore\n */\n\nexports.array = {};\n\n/**\n * Flattens an array.\n *\n * [ 1, [ 2, 3, [4] ]] -> [1,2,3,4]\n *\n * @param {Array} arr\n * @param {Function} [filter] If passed, will be invoked with each item in the array. If `filter` returns a falsy value, the item will not be included in the results.\n * @param {Array} ret\n * @return {Array}\n * @api private\n */\n\nexports.array.flatten = function flatten(arr, filter, ret) {\n  ret || (ret = []);\n\n  arr.forEach(function(item) {\n    if (Array.isArray(item)) {\n      flatten(item, filter, ret);\n    } else {\n      if (!filter || filter(item)) {\n        ret.push(item);\n      }\n    }\n  });\n\n  return ret;\n};\n\n/*!\n * ignore\n */\n\nconst _hasOwnProperty = Object.prototype.hasOwnProperty;\n\nexports.hasUserDefinedProperty = function(obj, key) {\n  if (obj == null) {\n    return false;\n  }\n\n  if (Array.isArray(key)) {\n    for (const k of key) {\n      if (exports.hasUserDefinedProperty(obj, k)) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  if (_hasOwnProperty.call(obj, key)) {\n    return true;\n  }\n  if (typeof obj === 'object' && key in obj) {\n    const v = obj[key];\n    return v !== Object.prototype[key] && v !== Array.prototype[key];\n  }\n\n  return false;\n};\n\n/*!\n * ignore\n */\n\nconst MAX_ARRAY_INDEX = Math.pow(2, 32) - 1;\n\nexports.isArrayIndex = function(val) {\n  if (typeof val === 'number') {\n    return val >= 0 && val <= MAX_ARRAY_INDEX;\n  }\n  if (typeof val === 'string') {\n    if (!/^\\d+$/.test(val)) {\n      return false;\n    }\n    val = +val;\n    return val >= 0 && val <= MAX_ARRAY_INDEX;\n  }\n\n  return false;\n};\n\n/**\n * Removes duplicate values from an array\n *\n * [1, 2, 3, 3, 5] => [1, 2, 3, 5]\n * [ ObjectId(\"550988ba0c19d57f697dc45e\"), ObjectId(\"550988ba0c19d57f697dc45e\") ]\n *    => [ObjectId(\"550988ba0c19d57f697dc45e\")]\n *\n * @param {Array} arr\n * @return {Array}\n * @api private\n */\n\nexports.array.unique = function(arr) {\n  const primitives = new Set();\n  const ids = new Set();\n  const ret = [];\n\n  for (const item of arr) {\n    if (typeof item === 'number' || typeof item === 'string' || item == null) {\n      if (primitives.has(item)) {\n        continue;\n      }\n      ret.push(item);\n      primitives.add(item);\n    } else if (isBsonType(item, 'ObjectId')) {\n      if (ids.has(item.toString())) {\n        continue;\n      }\n      ret.push(item);\n      ids.add(item.toString());\n    } else {\n      ret.push(item);\n    }\n  }\n\n  return ret;\n};\n\nexports.buffer = {};\n\n/**\n * Determines if two buffers are equal.\n *\n * @param {Buffer} a\n * @param {Object} b\n */\n\nexports.buffer.areEqual = function(a, b) {\n  if (!Buffer.isBuffer(a)) {\n    return false;\n  }\n  if (!Buffer.isBuffer(b)) {\n    return false;\n  }\n  if (a.length !== b.length) {\n    return false;\n  }\n  for (let i = 0, len = a.length; i < len; ++i) {\n    if (a[i] !== b[i]) {\n      return false;\n    }\n  }\n  return true;\n};\n\nexports.getFunctionName = getFunctionName;\n\n/**\n * Decorate buffers\n * @param {Object} destination\n * @param {Object} source\n */\n\nexports.decorate = function(destination, source) {\n  for (const key in source) {\n    if (specialProperties.has(key)) {\n      continue;\n    }\n    destination[key] = source[key];\n  }\n};\n\n/**\n * merges to with a copy of from\n *\n * @param {Object} to\n * @param {Object} fromObj\n * @api private\n */\n\nexports.mergeClone = function(to, fromObj) {\n  if (isMongooseObject(fromObj)) {\n    fromObj = fromObj.toObject({\n      transform: false,\n      virtuals: false,\n      depopulate: true,\n      getters: false,\n      flattenDecimals: false\n    });\n  }\n  const keys = Object.keys(fromObj);\n  const len = keys.length;\n  let i = 0;\n  let key;\n\n  while (i < len) {\n    key = keys[i++];\n    if (specialProperties.has(key)) {\n      continue;\n    }\n    if (typeof to[key] === 'undefined') {\n      to[key] = clone(fromObj[key], {\n        transform: false,\n        virtuals: false,\n        depopulate: true,\n        getters: false,\n        flattenDecimals: false\n      });\n    } else {\n      let val = fromObj[key];\n      if (val != null && val.valueOf && !(val instanceof Date)) {\n        val = val.valueOf();\n      }\n      if (exports.isObject(val)) {\n        let obj = val;\n        if (isMongooseObject(val) && !val.isMongooseBuffer) {\n          obj = obj.toObject({\n            transform: false,\n            virtuals: false,\n            depopulate: true,\n            getters: false,\n            flattenDecimals: false\n          });\n        }\n        if (val.isMongooseBuffer) {\n          obj = Buffer.from(obj);\n        }\n        exports.mergeClone(to[key], obj);\n      } else {\n        to[key] = clone(val, {\n          flattenDecimals: false\n        });\n      }\n    }\n  }\n};\n\n/**\n * Executes a function on each element of an array (like _.each)\n *\n * @param {Array} arr\n * @param {Function} fn\n * @api private\n */\n\nexports.each = function(arr, fn) {\n  for (const item of arr) {\n    fn(item);\n  }\n};\n\n/**\n * Rename an object key, while preserving its position in the object\n *\n * @param {Object} oldObj\n * @param {String|Number} oldKey\n * @param {String|Number} newKey\n * @api private\n */\nexports.renameObjKey = function(oldObj, oldKey, newKey) {\n  const keys = Object.keys(oldObj);\n  return keys.reduce(\n    (acc, val) => {\n      if (val === oldKey) {\n        acc[newKey] = oldObj[oldKey];\n      } else {\n        acc[val] = oldObj[val];\n      }\n      return acc;\n    },\n    {}\n  );\n};\n\n/*!\n * ignore\n */\n\nexports.getOption = function(name) {\n  const sources = Array.prototype.slice.call(arguments, 1);\n\n  for (const source of sources) {\n    if (source == null) {\n      continue;\n    }\n    if (source[name] != null) {\n      return source[name];\n    }\n  }\n\n  return null;\n};\n\n/*!\n * ignore\n */\n\nexports.noop = function() {};\n\nexports.errorToPOJO = function errorToPOJO(error) {\n  const isError = error instanceof Error;\n  if (!isError) {\n    throw new Error('`error` must be `instanceof Error`.');\n  }\n\n  const ret = {};\n  for (const properyName of Object.getOwnPropertyNames(error)) {\n    ret[properyName] = error[properyName];\n  }\n  return ret;\n};\n\n/*!\n * ignore\n */\n\nexports.warn = function warn(message) {\n  return process.emitWarning(message, { code: 'MONGOOSE' });\n};\n\n\nexports.injectTimestampsOption = function injectTimestampsOption(writeOperation, timestampsOption) {\n  if (timestampsOption == null) {\n    return;\n  }\n  writeOperation.timestamps = timestampsOption;\n};\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 8867, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/backend/node_modules/mongoose/lib/schemaType.js"],"sourcesContent":["'use strict';\n\n/*!\n * Module dependencies.\n */\n\nconst MongooseError = require('./error/index');\nconst SchemaTypeOptions = require('./options/schemaTypeOptions');\nconst $exists = require('./schema/operators/exists');\nconst $type = require('./schema/operators/type');\nconst clone = require('./helpers/clone');\nconst handleImmutable = require('./helpers/schematype/handleImmutable');\nconst isAsyncFunction = require('./helpers/isAsyncFunction');\nconst isSimpleValidator = require('./helpers/isSimpleValidator');\nconst immediate = require('./helpers/immediate');\nconst schemaTypeSymbol = require('./helpers/symbols').schemaTypeSymbol;\nconst utils = require('./utils');\nconst validatorErrorSymbol = require('./helpers/symbols').validatorErrorSymbol;\nconst documentIsModified = require('./helpers/symbols').documentIsModified;\n\nconst populateModelSymbol = require('./helpers/symbols').populateModelSymbol;\n\nconst CastError = MongooseError.CastError;\nconst ValidatorError = MongooseError.ValidatorError;\n\nconst setOptionsForDefaults = { _skipMarkModified: true };\n\n/**\n * SchemaType constructor. Do **not** instantiate `SchemaType` directly.\n * Mongoose converts your schema paths into SchemaTypes automatically.\n *\n * #### Example:\n *\n *     const schema = new Schema({ name: String });\n *     schema.path('name') instanceof SchemaType; // true\n *\n * @param {String} path\n * @param {SchemaTypeOptions} [options] See [SchemaTypeOptions docs](https://mongoosejs.com/docs/api/schematypeoptions.html)\n * @param {String} [instance]\n * @api public\n */\n\nfunction SchemaType(path, options, instance) {\n  this[schemaTypeSymbol] = true;\n  this.path = path;\n  this.instance = instance;\n  this.schemaName = this.constructor.schemaName;\n  this.validators = [];\n  this.getters = this.constructor.hasOwnProperty('getters') ?\n    this.constructor.getters.slice() :\n    [];\n  this.setters = this.constructor.hasOwnProperty('setters') ?\n    this.constructor.setters.slice() :\n    [];\n\n  this.splitPath();\n\n  options = options || {};\n  const defaultOptions = this.constructor.defaultOptions || {};\n  const defaultOptionsKeys = Object.keys(defaultOptions);\n\n  for (const option of defaultOptionsKeys) {\n    if (option === 'validate') {\n      this.validate(defaultOptions.validate);\n    } else if (defaultOptions.hasOwnProperty(option) && !Object.prototype.hasOwnProperty.call(options, option)) {\n      options[option] = defaultOptions[option];\n    }\n  }\n\n  if (options.select == null) {\n    delete options.select;\n  }\n\n  const Options = this.OptionsConstructor || SchemaTypeOptions;\n  this.options = new Options(options);\n  this._index = null;\n\n  if (utils.hasUserDefinedProperty(this.options, 'immutable')) {\n    this.$immutable = this.options.immutable;\n\n    handleImmutable(this);\n  }\n\n  const keys = Object.keys(this.options);\n  for (const prop of keys) {\n    if (prop === 'cast') {\n      if (Array.isArray(this.options[prop])) {\n        this.castFunction.apply(this, this.options[prop]);\n      } else {\n        this.castFunction(this.options[prop]);\n      }\n      continue;\n    }\n    if (utils.hasUserDefinedProperty(this.options, prop) && typeof this[prop] === 'function') {\n      // { unique: true, index: true }\n      if (prop === 'index' && this._index) {\n        if (options.index === false) {\n          const index = this._index;\n          if (typeof index === 'object' && index != null) {\n            if (index.unique) {\n              throw new Error('Path \"' + this.path + '\" may not have `index` ' +\n                'set to false and `unique` set to true');\n            }\n            if (index.sparse) {\n              throw new Error('Path \"' + this.path + '\" may not have `index` ' +\n                'set to false and `sparse` set to true');\n            }\n          }\n\n          this._index = false;\n        }\n        continue;\n      }\n\n      const val = options[prop];\n      // Special case so we don't screw up array defaults, see gh-5780\n      if (prop === 'default') {\n        this.default(val);\n        continue;\n      }\n\n      const opts = Array.isArray(val) ? val : [val];\n\n      this[prop].apply(this, opts);\n    }\n  }\n\n  Object.defineProperty(this, '$$context', {\n    enumerable: false,\n    configurable: false,\n    writable: true,\n    value: null\n  });\n}\n\n/**\n * The class that Mongoose uses internally to instantiate this SchemaType's `options` property.\n * @memberOf SchemaType\n * @instance\n * @api private\n */\n\nSchemaType.prototype.OptionsConstructor = SchemaTypeOptions;\n\n/**\n * The path to this SchemaType in a Schema.\n *\n * #### Example:\n *\n *     const schema = new Schema({ name: String });\n *     schema.path('name').path; // 'name'\n *\n * @property path\n * @api public\n * @memberOf SchemaType\n */\n\nSchemaType.prototype.path;\n\n/**\n * The validators that Mongoose should run to validate properties at this SchemaType's path.\n *\n * #### Example:\n *\n *     const schema = new Schema({ name: { type: String, required: true } });\n *     schema.path('name').validators.length; // 1, the `required` validator\n *\n * @property validators\n * @api public\n * @memberOf SchemaType\n */\n\nSchemaType.prototype.validators;\n\n/**\n * True if this SchemaType has a required validator. False otherwise.\n *\n * #### Example:\n *\n *     const schema = new Schema({ name: { type: String, required: true } });\n *     schema.path('name').isRequired; // true\n *\n *     schema.path('name').required(false);\n *     schema.path('name').isRequired; // false\n *\n * @property isRequired\n * @api public\n * @memberOf SchemaType\n */\n\nSchemaType.prototype.isRequired;\n\n/**\n * Split the current dottet path into segments\n *\n * @return {String[]|undefined}\n * @api private\n */\n\nSchemaType.prototype.splitPath = function() {\n  if (this._presplitPath != null) {\n    return this._presplitPath;\n  }\n  if (this.path == null) {\n    return undefined;\n  }\n\n  this._presplitPath = this.path.indexOf('.') === -1 ? [this.path] : this.path.split('.');\n  return this._presplitPath;\n};\n\n/**\n * Get/set the function used to cast arbitrary values to this type.\n *\n * #### Example:\n *\n *     // Disallow `null` for numbers, and don't try to cast any values to\n *     // numbers, so even strings like '123' will cause a CastError.\n *     mongoose.Number.cast(function(v) {\n *       assert.ok(v === undefined || typeof v === 'number');\n *       return v;\n *     });\n *\n * @param {Function|false} caster Function that casts arbitrary values to this type, or throws an error if casting failed\n * @return {Function}\n * @static\n * @memberOf SchemaType\n * @function cast\n * @api public\n */\n\nSchemaType.cast = function cast(caster) {\n  if (arguments.length === 0) {\n    return this._cast;\n  }\n  if (caster === false) {\n    caster = v => v;\n  }\n  this._cast = caster;\n\n  return this._cast;\n};\n\n/**\n * Get/set the function used to cast arbitrary values to this particular schematype instance.\n * Overrides `SchemaType.cast()`.\n *\n * #### Example:\n *\n *     // Disallow `null` for numbers, and don't try to cast any values to\n *     // numbers, so even strings like '123' will cause a CastError.\n *     const number = new mongoose.Number('mypath', {});\n *     number.cast(function(v) {\n *       assert.ok(v === undefined || typeof v === 'number');\n *       return v;\n *     });\n *\n * @param {Function|false} caster Function that casts arbitrary values to this type, or throws an error if casting failed\n * @return {Function}\n * @memberOf SchemaType\n * @api public\n */\n\nSchemaType.prototype.castFunction = function castFunction(caster, message) {\n  if (arguments.length === 0) {\n    return this._castFunction;\n  }\n\n  if (caster === false) {\n    caster = this.constructor._defaultCaster || (v => v);\n  }\n  if (typeof caster === 'string') {\n    this._castErrorMessage = caster;\n    return this._castFunction;\n  }\n  if (caster != null) {\n    this._castFunction = caster;\n  }\n  if (message != null) {\n    this._castErrorMessage = message;\n  }\n\n  return this._castFunction;\n};\n\n/**\n * The function that Mongoose calls to cast arbitrary values to this SchemaType.\n *\n * @param {Object} value value to cast\n * @param {Document} doc document that triggers the casting\n * @param {Boolean} init\n * @api public\n */\n\nSchemaType.prototype.cast = function cast() {\n  throw new Error('Base SchemaType class does not implement a `cast()` function');\n};\n\n/**\n * Sets a default option for this schema type.\n *\n * #### Example:\n *\n *     // Make all strings be trimmed by default\n *     mongoose.SchemaTypes.String.set('trim', true);\n *\n * @param {String} option The name of the option you'd like to set (e.g. trim, lowercase, etc...)\n * @param {Any} value The value of the option you'd like to set.\n * @return {void}\n * @static\n * @memberOf SchemaType\n * @function set\n * @api public\n */\n\nSchemaType.set = function set(option, value) {\n  if (!this.hasOwnProperty('defaultOptions')) {\n    this.defaultOptions = Object.assign({}, this.defaultOptions);\n  }\n  this.defaultOptions[option] = value;\n};\n\n/**\n * Attaches a getter for all instances of this schema type.\n *\n * #### Example:\n *\n *     // Make all numbers round down\n *     mongoose.Number.get(function(v) { return Math.floor(v); });\n *\n * @param {Function} getter\n * @return {this}\n * @static\n * @memberOf SchemaType\n * @function get\n * @api public\n */\n\nSchemaType.get = function(getter) {\n  this.getters = this.hasOwnProperty('getters') ? this.getters : [];\n  this.getters.push(getter);\n};\n\n/**\n * Sets a default value for this SchemaType.\n *\n * #### Example:\n *\n *     const schema = new Schema({ n: { type: Number, default: 10 })\n *     const M = db.model('M', schema)\n *     const m = new M;\n *     console.log(m.n) // 10\n *\n * Defaults can be either `functions` which return the value to use as the default or the literal value itself. Either way, the value will be cast based on its schema type before being set during document creation.\n *\n * #### Example:\n *\n *     // values are cast:\n *     const schema = new Schema({ aNumber: { type: Number, default: 4.815162342 }})\n *     const M = db.model('M', schema)\n *     const m = new M;\n *     console.log(m.aNumber) // 4.815162342\n *\n *     // default unique objects for Mixed types:\n *     const schema = new Schema({ mixed: Schema.Types.Mixed });\n *     schema.path('mixed').default(function () {\n *       return {};\n *     });\n *\n *     // if we don't use a function to return object literals for Mixed defaults,\n *     // each document will receive a reference to the same object literal creating\n *     // a \"shared\" object instance:\n *     const schema = new Schema({ mixed: Schema.Types.Mixed });\n *     schema.path('mixed').default({});\n *     const M = db.model('M', schema);\n *     const m1 = new M;\n *     m1.mixed.added = 1;\n *     console.log(m1.mixed); // { added: 1 }\n *     const m2 = new M;\n *     console.log(m2.mixed); // { added: 1 }\n *\n * @param {Function|any} val The default value to set\n * @return {Any|undefined} Returns the set default value.\n * @api public\n */\n\nSchemaType.prototype.default = function(val) {\n  if (arguments.length === 1) {\n    if (val === void 0) {\n      this.defaultValue = void 0;\n      return void 0;\n    }\n\n    if (val != null && val.instanceOfSchema) {\n      throw new MongooseError('Cannot set default value of path `' + this.path +\n        '` to a mongoose Schema instance.');\n    }\n\n    this.defaultValue = val;\n    return this.defaultValue;\n  } else if (arguments.length > 1) {\n    this.defaultValue = [...arguments];\n  }\n  return this.defaultValue;\n};\n\n/**\n * Declares the index options for this schematype.\n *\n * #### Example:\n *\n *     const s = new Schema({ name: { type: String, index: true })\n *     const s = new Schema({ name: { type: String, index: -1 })\n *     const s = new Schema({ loc: { type: [Number], index: 'hashed' })\n *     const s = new Schema({ loc: { type: [Number], index: '2d', sparse: true })\n *     const s = new Schema({ loc: { type: [Number], index: { type: '2dsphere', sparse: true }})\n *     const s = new Schema({ date: { type: Date, index: { unique: true, expires: '1d' }})\n *     s.path('my.path').index(true);\n *     s.path('my.date').index({ expires: 60 });\n *     s.path('my.path').index({ unique: true, sparse: true });\n *\n * #### Note:\n *\n * _Indexes are created [in the background](https://www.mongodb.com/docs/manual/core/index-creation/#index-creation-background)\n * by default. If `background` is set to `false`, MongoDB will not execute any\n * read/write operations you send until the index build.\n * Specify `background: false` to override Mongoose's default._\n *\n * @param {Object|Boolean|String|Number} options\n * @return {SchemaType} this\n * @api public\n */\n\nSchemaType.prototype.index = function(options) {\n  this._index = options;\n  utils.expires(this._index);\n  return this;\n};\n\n/**\n * Declares an unique index.\n *\n * #### Example:\n *\n *     const s = new Schema({ name: { type: String, unique: true } });\n *     s.path('name').index({ unique: true });\n *\n * _NOTE: violating the constraint returns an `E11000` error from MongoDB when saving, not a Mongoose validation error._\n *\n * You can optionally specify an error message to replace MongoDB's default `E11000 duplicate key error` message.\n * The following will throw a \"Email must be unique\" error if `save()`, `updateOne()`, `updateMany()`, `replaceOne()`,\n * `findOneAndUpdate()`, or `findOneAndReplace()` throws a duplicate key error:\n *\n * ```javascript\n * new Schema({\n *   email: {\n *     type: String,\n *     unique: [true, 'Email must be unique']\n *   }\n * });\n * ```\n *\n * Note that the above syntax does **not** work for `bulkWrite()` or `insertMany()`. `bulkWrite()` and `insertMany()`\n * will still throw MongoDB's default `E11000 duplicate key error` message.\n *\n * @param {Boolean} value\n * @param {String} [message]\n * @return {SchemaType} this\n * @api public\n */\n\nSchemaType.prototype.unique = function unique(value, message) {\n  if (this._index === false) {\n    if (!value) {\n      return;\n    }\n    throw new Error('Path \"' + this.path + '\" may not have `index` set to ' +\n      'false and `unique` set to true');\n  }\n\n  if (!this.options.hasOwnProperty('index') && value === false) {\n    return this;\n  }\n\n  if (this._index == null || this._index === true) {\n    this._index = {};\n  } else if (typeof this._index === 'string') {\n    this._index = { type: this._index };\n  }\n\n  this._index.unique = !!value;\n  if (typeof message === 'string') {\n    this._duplicateKeyErrorMessage = message;\n  }\n  return this;\n};\n\n/**\n * Declares a full text index.\n *\n * ### Example:\n *\n *      const s = new Schema({ name : { type: String, text : true } })\n *      s.path('name').index({ text : true });\n *\n * @param {Boolean} bool\n * @return {SchemaType} this\n * @api public\n */\n\nSchemaType.prototype.text = function(bool) {\n  if (this._index === false) {\n    if (!bool) {\n      return this;\n    }\n    throw new Error('Path \"' + this.path + '\" may not have `index` set to ' +\n      'false and `text` set to true');\n  }\n\n  if (!this.options.hasOwnProperty('index') && bool === false) {\n    return this;\n  }\n\n  if (this._index === null || this._index === undefined ||\n    typeof this._index === 'boolean') {\n    this._index = {};\n  } else if (typeof this._index === 'string') {\n    this._index = { type: this._index };\n  }\n\n  this._index.text = bool;\n  return this;\n};\n\n/**\n * Declares a sparse index.\n *\n * #### Example:\n *\n *     const s = new Schema({ name: { type: String, sparse: true } });\n *     s.path('name').index({ sparse: true });\n *\n * @param {Boolean} bool\n * @return {SchemaType} this\n * @api public\n */\n\nSchemaType.prototype.sparse = function(bool) {\n  if (this._index === false) {\n    if (!bool) {\n      return this;\n    }\n    throw new Error('Path \"' + this.path + '\" may not have `index` set to ' +\n      'false and `sparse` set to true');\n  }\n\n  if (!this.options.hasOwnProperty('index') && bool === false) {\n    return this;\n  }\n\n  if (this._index == null || typeof this._index === 'boolean') {\n    this._index = {};\n  } else if (typeof this._index === 'string') {\n    this._index = { type: this._index };\n  }\n\n  this._index.sparse = bool;\n  return this;\n};\n\n/**\n * Defines this path as immutable. Mongoose prevents you from changing\n * immutable paths unless the parent document has [`isNew: true`](https://mongoosejs.com/docs/api/document.html#Document.prototype.isNew()).\n *\n * #### Example:\n *\n *     const schema = new Schema({\n *       name: { type: String, immutable: true },\n *       age: Number\n *     });\n *     const Model = mongoose.model('Test', schema);\n *\n *     await Model.create({ name: 'test' });\n *     const doc = await Model.findOne();\n *\n *     doc.isNew; // false\n *     doc.name = 'new name';\n *     doc.name; // 'test', because `name` is immutable\n *\n * Mongoose also prevents changing immutable properties using `updateOne()`\n * and `updateMany()` based on [strict mode](https://mongoosejs.com/docs/guide.html#strict).\n *\n * #### Example:\n *\n *     // Mongoose will strip out the `name` update, because `name` is immutable\n *     Model.updateOne({}, { $set: { name: 'test2' }, $inc: { age: 1 } });\n *\n *     // If `strict` is set to 'throw', Mongoose will throw an error if you\n *     // update `name`\n *     const err = await Model.updateOne({}, { name: 'test2' }, { strict: 'throw' }).\n *       then(() => null, err => err);\n *     err.name; // StrictModeError\n *\n *     // If `strict` is `false`, Mongoose allows updating `name` even though\n *     // the property is immutable.\n *     Model.updateOne({}, { name: 'test2' }, { strict: false });\n *\n * @param {Boolean} bool\n * @return {SchemaType} this\n * @see isNew https://mongoosejs.com/docs/api/document.html#Document.prototype.isNew()\n * @api public\n */\n\nSchemaType.prototype.immutable = function(bool) {\n  this.$immutable = bool;\n  handleImmutable(this);\n\n  return this;\n};\n\n/**\n * Defines a custom function for transforming this path when converting a document to JSON.\n *\n * Mongoose calls this function with one parameter: the current `value` of the path. Mongoose\n * then uses the return value in the JSON output.\n *\n * #### Example:\n *\n *     const schema = new Schema({\n *       date: { type: Date, transform: v => v.getFullYear() }\n *     });\n *     const Model = mongoose.model('Test', schema);\n *\n *     await Model.create({ date: new Date('2016-06-01') });\n *     const doc = await Model.findOne();\n *\n *     doc.date instanceof Date; // true\n *\n *     doc.toJSON().date; // 2016 as a number\n *     JSON.stringify(doc); // '{\"_id\":...,\"date\":2016}'\n *\n * @param {Function} fn\n * @return {SchemaType} this\n * @api public\n */\n\nSchemaType.prototype.transform = function(fn) {\n  this.options.transform = fn;\n\n  return this;\n};\n\n/**\n * Adds a setter to this schematype.\n *\n * #### Example:\n *\n *     function capitalize (val) {\n *       if (typeof val !== 'string') val = '';\n *       return val.charAt(0).toUpperCase() + val.substring(1);\n *     }\n *\n *     // defining within the schema\n *     const s = new Schema({ name: { type: String, set: capitalize }});\n *\n *     // or with the SchemaType\n *     const s = new Schema({ name: String })\n *     s.path('name').set(capitalize);\n *\n * Setters allow you to transform the data before it gets to the raw mongodb\n * document or query.\n *\n * Suppose you are implementing user registration for a website. Users provide\n * an email and password, which gets saved to mongodb. The email is a string\n * that you will want to normalize to lower case, in order to avoid one email\n * having more than one account -- e.g., otherwise, avenue@q.com can be registered for 2 accounts via avenue@q.com and AvEnUe@Q.CoM.\n *\n * You can set up email lower case normalization easily via a Mongoose setter.\n *\n *     function toLower(v) {\n *       return v.toLowerCase();\n *     }\n *\n *     const UserSchema = new Schema({\n *       email: { type: String, set: toLower }\n *     });\n *\n *     const User = db.model('User', UserSchema);\n *\n *     const user = new User({email: 'AVENUE@Q.COM'});\n *     console.log(user.email); // 'avenue@q.com'\n *\n *     // or\n *     const user = new User();\n *     user.email = 'Avenue@Q.com';\n *     console.log(user.email); // 'avenue@q.com'\n *     User.updateOne({ _id: _id }, { $set: { email: 'AVENUE@Q.COM' } }); // update to 'avenue@q.com'\n *\n *     // Setters also transform query filters\n *     const user = await User.find({ email: 'AVENUE@Q.COM' }); // query for 'avenue@q.com'\n *\n * As you can see above, setters allow you to transform the data before it\n * stored in MongoDB, or before executing a query.\n *\n * _NOTE: we could have also just used the built-in [`lowercase: true` SchemaType option](https://mongoosejs.com/docs/api/schemastringoptions.html#SchemaStringOptions.prototype.lowercase) instead of defining our own function._\n *\n *     new Schema({ email: { type: String, lowercase: true }})\n *\n * Setters are also passed a second argument, the schematype on which the setter was defined. This allows for tailored behavior based on options passed in the schema.\n *\n *     function inspector (val, priorValue, schematype) {\n *       if (schematype.options.required) {\n *         return schematype.path + ' is required';\n *       } else {\n *         return val;\n *       }\n *     }\n *\n *     const VirusSchema = new Schema({\n *       name: { type: String, required: true, set: inspector },\n *       taxonomy: { type: String, set: inspector }\n *     })\n *\n *     const Virus = db.model('Virus', VirusSchema);\n *     const v = new Virus({ name: 'Parvoviridae', taxonomy: 'Parvovirinae' });\n *\n *     console.log(v.name);     // name is required\n *     console.log(v.taxonomy); // Parvovirinae\n *\n * You can also use setters to modify other properties on the document. If\n * you're setting a property `name` on a document, the setter will run with\n * `this` as the document. Be careful, in mongoose 5 setters will also run\n * when querying by `name` with `this` as the query.\n *\n *     const nameSchema = new Schema({ name: String, keywords: [String] });\n *     nameSchema.path('name').set(function(v) {\n *       // Need to check if `this` is a document, because in mongoose 5\n *       // setters will also run on queries, in which case `this` will be a\n *       // mongoose query object.\n *       if (this instanceof Document && v != null) {\n *         this.keywords = v.split(' ');\n *       }\n *       return v;\n *     });\n *\n * @param {Function} fn\n * @return {SchemaType} this\n * @api public\n */\n\nSchemaType.prototype.set = function(fn) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('A setter must be a function.');\n  }\n  this.setters.push(fn);\n  return this;\n};\n\n/**\n * Adds a getter to this schematype.\n *\n * #### Example:\n *\n *     function dob (val) {\n *       if (!val) return val;\n *       return (val.getMonth() + 1) + \"/\" + val.getDate() + \"/\" + val.getFullYear();\n *     }\n *\n *     // defining within the schema\n *     const s = new Schema({ born: { type: Date, get: dob })\n *\n *     // or by retreiving its SchemaType\n *     const s = new Schema({ born: Date })\n *     s.path('born').get(dob)\n *\n * Getters allow you to transform the representation of the data as it travels from the raw mongodb document to the value that you see.\n *\n * Suppose you are storing credit card numbers and you want to hide everything except the last 4 digits to the mongoose user. You can do so by defining a getter in the following way:\n *\n *     function obfuscate (cc) {\n *       return '****-****-****-' + cc.slice(cc.length-4, cc.length);\n *     }\n *\n *     const AccountSchema = new Schema({\n *       creditCardNumber: { type: String, get: obfuscate }\n *     });\n *\n *     const Account = db.model('Account', AccountSchema);\n *\n *     Account.findById(id, function (err, found) {\n *       console.log(found.creditCardNumber); // '****-****-****-1234'\n *     });\n *\n * Getters are also passed a second argument, the schematype on which the getter was defined. This allows for tailored behavior based on options passed in the schema.\n *\n *     function inspector (val, priorValue, schematype) {\n *       if (schematype.options.required) {\n *         return schematype.path + ' is required';\n *       } else {\n *         return schematype.path + ' is not';\n *       }\n *     }\n *\n *     const VirusSchema = new Schema({\n *       name: { type: String, required: true, get: inspector },\n *       taxonomy: { type: String, get: inspector }\n *     })\n *\n *     const Virus = db.model('Virus', VirusSchema);\n *\n *     Virus.findById(id, function (err, virus) {\n *       console.log(virus.name);     // name is required\n *       console.log(virus.taxonomy); // taxonomy is not\n *     })\n *\n * @param {Function} fn\n * @return {SchemaType} this\n * @api public\n */\n\nSchemaType.prototype.get = function(fn) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('A getter must be a function.');\n  }\n  this.getters.push(fn);\n  return this;\n};\n\n/**\n * Adds multiple validators for this document path.\n * Calls `validate()` for every element in validators.\n *\n * @param {Array<RegExp|Function|Object>} validators\n * @returns this\n */\n\nSchemaType.prototype.validateAll = function(validators) {\n  for (let i = 0; i < validators.length; i++) {\n    this.validate(validators[i]);\n  }\n  return this;\n};\n\n/**\n * Adds validator(s) for this document path.\n *\n * Validators always receive the value to validate as their first argument and\n * must return `Boolean`. Returning `false` or throwing an error means\n * validation failed.\n *\n * The error message argument is optional. If not passed, the [default generic error message template](https://mongoosejs.com/docs/api/error.html#Error.messages) will be used.\n *\n * #### Example:\n *\n *     // make sure every value is equal to \"something\"\n *     function validator (val) {\n *       return val === 'something';\n *     }\n *     new Schema({ name: { type: String, validate: validator }});\n *\n *     // with a custom error message\n *\n *     const custom = [validator, 'Uh oh, {PATH} does not equal \"something\".']\n *     new Schema({ name: { type: String, validate: custom }});\n *\n *     // adding many validators at a time\n *\n *     const many = [\n *         { validator: validator, message: 'uh oh' }\n *       , { validator: anotherValidator, message: 'failed' }\n *     ]\n *     new Schema({ name: { type: String, validate: many }});\n *\n *     // or utilizing SchemaType methods directly:\n *\n *     const schema = new Schema({ name: 'string' });\n *     schema.path('name').validate(validator, 'validation of `{PATH}` failed with value `{VALUE}`');\n *\n * #### Error message templates:\n *\n * Below is a list of supported template keywords:\n *\n * - PATH: The schema path where the error is being triggered.\n * - VALUE: The value assigned to the PATH that is triggering the error.\n * - KIND: The validation property that triggered the error i.e. required.\n * - REASON: The error object that caused this error if there was one.\n *\n * If Mongoose's built-in error message templating isn't enough, Mongoose\n * supports setting the `message` property to a function.\n *\n *     schema.path('name').validate({\n *       validator: function(v) { return v.length > 5; },\n *       // `errors['name']` will be \"name must have length 5, got 'foo'\"\n *       message: function(props) {\n *         return `${props.path} must have length 5, got '${props.value}'`;\n *       }\n *     });\n *\n * To bypass Mongoose's error messages and just copy the error message that\n * the validator throws, do this:\n *\n *     schema.path('name').validate({\n *       validator: function() { throw new Error('Oops!'); },\n *       // `errors['name'].message` will be \"Oops!\"\n *       message: function(props) { return props.reason.message; }\n *     });\n *\n * #### Asynchronous validation:\n *\n * Mongoose supports validators that return a promise. A validator that returns\n * a promise is called an _async validator_. Async validators run in\n * parallel, and `validate()` will wait until all async validators have settled.\n *\n *     schema.path('name').validate({\n *       validator: function (value) {\n *         return new Promise(function (resolve, reject) {\n *           resolve(false); // validation failed\n *         });\n *       }\n *     });\n *\n * You might use asynchronous validators to retreive other documents from the database to validate against or to meet other I/O bound validation needs.\n *\n * Validation occurs `pre('save')` or whenever you manually execute [document#validate](https://mongoosejs.com/docs/api/document.html#Document.prototype.validate()).\n *\n * If validation fails during `pre('save')` and no callback was passed to receive the error, an `error` event will be emitted on your Models associated db [connection](https://mongoosejs.com/docs/api/connection.html#Connection()), passing the validation error object along.\n *\n *     const conn = mongoose.createConnection(..);\n *     conn.on('error', handleError);\n *\n *     const Product = conn.model('Product', yourSchema);\n *     const dvd = new Product(..);\n *     dvd.save(); // emits error on the `conn` above\n *\n * If you want to handle these errors at the Model level, add an `error`\n * listener to your Model as shown below.\n *\n *     // registering an error listener on the Model lets us handle errors more locally\n *     Product.on('error', handleError);\n *\n * @param {RegExp|Function|Object} obj validator function, or hash describing options\n * @param {Function} [obj.validator] validator function. If the validator function returns `undefined` or a truthy value, validation succeeds. If it returns [falsy](https://masteringjs.io/tutorials/fundamentals/falsy) (except `undefined`) or throws an error, validation fails.\n * @param {String|Function} [obj.message] optional error message. If function, should return the error message as a string\n * @param {Boolean} [obj.propsParameter=false] If true, Mongoose will pass the validator properties object (with the `validator` function, `message`, etc.) as the 2nd arg to the validator function. This is disabled by default because many validators [rely on positional args](https://github.com/chriso/validator.js#validators), so turning this on may cause unpredictable behavior in external validators.\n * @param {String|Function} [errorMsg] optional error message. If function, should return the error message as a string\n * @param {String} [type] optional validator type\n * @return {SchemaType} this\n * @api public\n */\n\nSchemaType.prototype.validate = function(obj, message, type) {\n  if (typeof obj === 'function' || obj && utils.getFunctionName(obj.constructor) === 'RegExp') {\n    let properties;\n    if (typeof message === 'function') {\n      properties = { validator: obj, message: message };\n      properties.type = type || 'user defined';\n    } else if (message instanceof Object && !type) {\n      properties = isSimpleValidator(message) ? Object.assign({}, message) : clone(message);\n      if (!properties.message) {\n        properties.message = properties.msg;\n      }\n      properties.validator = obj;\n      properties.type = properties.type || 'user defined';\n    } else {\n      if (message == null) {\n        message = MongooseError.messages.general.default;\n      }\n      if (!type) {\n        type = 'user defined';\n      }\n      properties = { message: message, type: type, validator: obj };\n    }\n\n    this.validators.push(properties);\n    return this;\n  }\n\n  let i;\n  let length;\n  let arg;\n\n  for (i = 0, length = arguments.length; i < length; i++) {\n    arg = arguments[i];\n    if (!utils.isPOJO(arg)) {\n      const msg = 'Invalid validator. Received (' + typeof arg + ') '\n        + arg\n        + '. See https://mongoosejs.com/docs/api/schematype.html#SchemaType.prototype.validate()';\n\n      throw new Error(msg);\n    }\n    this.validate(arg.validator, arg);\n  }\n\n  return this;\n};\n\n/**\n * Adds a required validator to this SchemaType. The validator gets added\n * to the front of this SchemaType's validators array using `unshift()`.\n *\n * #### Example:\n *\n *     const s = new Schema({ born: { type: Date, required: true })\n *\n *     // or with custom error message\n *\n *     const s = new Schema({ born: { type: Date, required: '{PATH} is required!' })\n *\n *     // or with a function\n *\n *     const s = new Schema({\n *       userId: ObjectId,\n *       username: {\n *         type: String,\n *         required: function() { return this.userId != null; }\n *       }\n *     })\n *\n *     // or with a function and a custom message\n *     const s = new Schema({\n *       userId: ObjectId,\n *       username: {\n *         type: String,\n *         required: [\n *           function() { return this.userId != null; },\n *           'username is required if id is specified'\n *         ]\n *       }\n *     })\n *\n *     // or through the path API\n *\n *     s.path('name').required(true);\n *\n *     // with custom error messaging\n *\n *     s.path('name').required(true, 'grrr :( ');\n *\n *     // or make a path conditionally required based on a function\n *     const isOver18 = function() { return this.age >= 18; };\n *     s.path('voterRegistrationId').required(isOver18);\n *\n * The required validator uses the SchemaType's `checkRequired` function to\n * determine whether a given value satisfies the required validator. By default,\n * a value satisfies the required validator if `val != null` (that is, if\n * the value is not null nor undefined). However, most built-in mongoose schema\n * types override the default `checkRequired` function:\n *\n * @param {Boolean|Function|Object} required enable/disable the validator, or function that returns required boolean, or options object\n * @param {Boolean|Function} [options.isRequired] enable/disable the validator, or function that returns required boolean\n * @param {Function} [options.ErrorConstructor] custom error constructor. The constructor receives 1 parameter, an object containing the validator properties.\n * @param {String} [message] optional custom error message\n * @return {SchemaType} this\n * @see Customized Error Messages https://mongoosejs.com/docs/api/error.html#Error.messages\n * @see SchemaArray#checkRequired https://mongoosejs.com/docs/api/schemaarray.html#SchemaArray.prototype.checkRequired()\n * @see SchemaBoolean#checkRequired https://mongoosejs.com/docs/api/schemaboolean.html#SchemaBoolean.prototype.checkRequired()\n * @see SchemaBuffer#checkRequired https://mongoosejs.com/docs/api/schemabuffer.html#SchemaBuffer.prototype.checkRequired()\n * @see SchemaNumber#checkRequired https://mongoosejs.com/docs/api/schemanumber.html#SchemaNumber.prototype.checkRequired()\n * @see SchemaObjectId#checkRequired https://mongoosejs.com/docs/api/schemaobjectid.html#ObjectId.prototype.checkRequired()\n * @see SchemaString#checkRequired https://mongoosejs.com/docs/api/schemastring.html#SchemaString.prototype.checkRequired()\n * @api public\n */\n\nSchemaType.prototype.required = function(required, message) {\n  let customOptions = {};\n\n  if (arguments.length > 0 && required == null) {\n    this.validators = this.validators.filter(function(v) {\n      return v.validator !== this.requiredValidator;\n    }, this);\n\n    this.isRequired = false;\n    delete this.originalRequiredValue;\n    return this;\n  }\n\n  if (typeof required === 'object') {\n    customOptions = required;\n    message = customOptions.message || message;\n    required = required.isRequired;\n  }\n\n  if (required === false) {\n    this.validators = this.validators.filter(function(v) {\n      return v.validator !== this.requiredValidator;\n    }, this);\n\n    this.isRequired = false;\n    delete this.originalRequiredValue;\n    return this;\n  }\n\n  const _this = this;\n  this.isRequired = true;\n\n  this.requiredValidator = function(v) {\n    const cachedRequired = this && this.$__ && this.$__.cachedRequired;\n\n    // no validation when this path wasn't selected in the query.\n    if (cachedRequired != null && !this.$__isSelected(_this.path) && !this[documentIsModified](_this.path)) {\n      return true;\n    }\n\n    // `$cachedRequired` gets set in `_evaluateRequiredFunctions()` so we\n    // don't call required functions multiple times in one validate call\n    // See gh-6801\n    if (cachedRequired != null && _this.path in cachedRequired) {\n      const res = cachedRequired[_this.path] ?\n        _this.checkRequired(v, this) :\n        true;\n      delete cachedRequired[_this.path];\n      return res;\n    } else if (typeof required === 'function') {\n      return required.apply(this) ? _this.checkRequired(v, this) : true;\n    }\n\n    return _this.checkRequired(v, this);\n  };\n  this.originalRequiredValue = required;\n\n  if (typeof required === 'string') {\n    message = required;\n    required = undefined;\n  }\n\n  const msg = message || MongooseError.messages.general.required;\n  this.validators.unshift(Object.assign({}, customOptions, {\n    validator: this.requiredValidator,\n    message: msg,\n    type: 'required'\n  }));\n\n  return this;\n};\n\n/**\n * Set the model that this path refers to. This is the option that [populate](https://mongoosejs.com/docs/populate.html)\n * looks at to determine the foreign collection it should query.\n *\n * #### Example:\n *\n *     const userSchema = new Schema({ name: String });\n *     const User = mongoose.model('User', userSchema);\n *\n *     const postSchema = new Schema({ user: mongoose.ObjectId });\n *     postSchema.path('user').ref('User'); // Can set ref to a model name\n *     postSchema.path('user').ref(User); // Or a model class\n *     postSchema.path('user').ref(() => 'User'); // Or a function that returns the model name\n *     postSchema.path('user').ref(() => User); // Or a function that returns the model class\n *\n *     // Or you can just declare the `ref` inline in your schema\n *     const postSchema2 = new Schema({\n *       user: { type: mongoose.ObjectId, ref: User }\n *     });\n *\n * @param {String|Model|Function} ref either a model name, a [Model](https://mongoosejs.com/docs/models.html), or a function that returns a model name or model.\n * @return {SchemaType} this\n * @api public\n */\n\nSchemaType.prototype.ref = function(ref) {\n  this.options.ref = ref;\n  return this;\n};\n\n/**\n * Gets the default value\n *\n * @param {Object} scope the scope which callback are executed\n * @param {Boolean} init\n * @return {Any} The Stored default value.\n * @api private\n */\n\nSchemaType.prototype.getDefault = function(scope, init, options) {\n  let ret;\n  if (this.defaultValue == null) {\n    return this.defaultValue;\n  }\n  if (typeof this.defaultValue === 'function') {\n    if (\n      this.defaultValue === Date.now ||\n      this.defaultValue === Array ||\n      this.defaultValue.name.toLowerCase() === 'objectid'\n    ) {\n      ret = this.defaultValue.call(scope);\n    } else {\n      ret = this.defaultValue.call(scope, scope);\n    }\n  } else {\n    ret = this.defaultValue;\n  }\n\n  if (ret !== null && ret !== undefined) {\n    if (typeof ret === 'object' && (!this.options || !this.options.shared)) {\n      ret = clone(ret);\n    }\n\n    if (options && options.skipCast) {\n      return this._applySetters(ret, scope);\n    }\n\n    const casted = this.applySetters(ret, scope, init, undefined, setOptionsForDefaults);\n    if (casted && !Array.isArray(casted) && casted.$isSingleNested) {\n      casted.$__parent = scope;\n    }\n    return casted;\n  }\n  return ret;\n};\n\n/**\n * Applies setters without casting\n *\n * @param {Any} value\n * @param {Any} scope\n * @param {Boolean} init\n * @param {Any} priorVal\n * @param {Object} [options]\n * @instance\n * @api private\n */\n\nSchemaType.prototype._applySetters = function(value, scope, init, priorVal, options) {\n  let v = value;\n  if (init) {\n    return v;\n  }\n  const setters = this.setters;\n\n  for (let i = setters.length - 1; i >= 0; i--) {\n    v = setters[i].call(scope, v, priorVal, this, options);\n  }\n\n  return v;\n};\n\n/*!\n * ignore\n */\n\nSchemaType.prototype._castNullish = function _castNullish(v) {\n  return v;\n};\n\n/**\n * Applies setters\n *\n * @param {Object} value\n * @param {Object} scope\n * @param {Boolean} init\n * @return {Any}\n * @api private\n */\n\nSchemaType.prototype.applySetters = function(value, scope, init, priorVal, options) {\n  let v = this._applySetters(value, scope, init, priorVal, options);\n  if (v == null) {\n    return this._castNullish(v);\n  }\n  // do not cast until all setters are applied #665\n  v = this.cast(v, scope, init, priorVal, options);\n\n  return v;\n};\n\n/**\n * Applies getters to a value\n *\n * @param {Object} value\n * @param {Object} scope\n * @return {Any}\n * @api private\n */\n\nSchemaType.prototype.applyGetters = function(value, scope) {\n  let v = value;\n  const getters = this.getters;\n  const len = getters.length;\n\n  if (len === 0) {\n    return v;\n  }\n\n  for (let i = 0; i < len; ++i) {\n    v = getters[i].call(scope, v, this);\n  }\n\n  return v;\n};\n\n/**\n * Sets default `select()` behavior for this path.\n *\n * Set to `true` if this path should always be included in the results, `false` if it should be excluded by default. This setting can be overridden at the query level.\n *\n * #### Example:\n *\n *     T = db.model('T', new Schema({ x: { type: String, select: true }}));\n *     T.find(..); // field x will always be selected ..\n *     // .. unless overridden;\n *     T.find().select('-x').exec(callback);\n *\n * @param {Boolean} val\n * @return {SchemaType} this\n * @api public\n */\n\nSchemaType.prototype.select = function select(val) {\n  this.selected = !!val;\n  return this;\n};\n\n/**\n * Performs a validation of `value` using the validators declared for this SchemaType.\n *\n * @param {Any} value\n * @param {Function} callback\n * @param {Object} scope\n * @param {Object} [options]\n * @param {String} [options.path]\n * @return {Any} If no validators, returns the output from calling `fn`, otherwise no return\n * @api public\n */\n\nSchemaType.prototype.doValidate = function(value, fn, scope, options) {\n  let err = false;\n  const path = this.path;\n  if (typeof fn !== 'function') {\n    throw new TypeError(`Must pass callback function to doValidate(), got ${typeof fn}`);\n  }\n\n  // Avoid non-object `validators`\n  const validators = this.validators.\n    filter(v => typeof v === 'object' && v !== null);\n\n  let count = validators.length;\n\n  if (!count) {\n    return fn(null);\n  }\n\n  for (let i = 0, len = validators.length; i < len; ++i) {\n    if (err) {\n      break;\n    }\n\n    const v = validators[i];\n    const validator = v.validator;\n    let ok;\n\n    const validatorProperties = isSimpleValidator(v) ? Object.assign({}, v) : clone(v);\n    validatorProperties.path = options && options.path ? options.path : path;\n    validatorProperties.fullPath = this.$fullPath;\n    validatorProperties.value = value;\n    if (typeof value === 'string') {\n      validatorProperties.length = value.length;\n      if (validatorProperties.value.length > 30) {\n        validatorProperties.value = validatorProperties.value.slice(0, 30) + '...';\n      }\n    }\n\n    if (validator instanceof RegExp) {\n      validate(validator.test(value), validatorProperties, scope);\n      continue;\n    }\n\n    if (typeof validator !== 'function') {\n      continue;\n    }\n\n    if (value === undefined && validator !== this.requiredValidator) {\n      validate(true, validatorProperties, scope);\n      continue;\n    }\n\n    try {\n      if (validatorProperties.propsParameter) {\n        ok = validator.call(scope, value, validatorProperties);\n      } else {\n        ok = validator.call(scope, value);\n      }\n    } catch (error) {\n      ok = false;\n      validatorProperties.reason = error;\n      if (error.message) {\n        validatorProperties.message = error.message;\n      }\n    }\n\n    if (ok != null && typeof ok.then === 'function') {\n      ok.then(\n        function(ok) { validate(ok, validatorProperties, scope); },\n        function(error) {\n          validatorProperties.reason = error;\n          validatorProperties.message = error.message;\n          ok = false;\n          validate(ok, validatorProperties, scope);\n        });\n    } else {\n      validate(ok, validatorProperties, scope);\n    }\n  }\n\n  function validate(ok, validatorProperties, scope) {\n    if (err) {\n      return;\n    }\n    if (ok === undefined || ok) {\n      if (--count <= 0) {\n        immediate(function() {\n          fn(null);\n        });\n      }\n    } else {\n      const ErrorConstructor = validatorProperties.ErrorConstructor || ValidatorError;\n      err = new ErrorConstructor(validatorProperties, scope);\n      err[validatorErrorSymbol] = true;\n      immediate(function() {\n        fn(err);\n      });\n    }\n  }\n};\n\n\nfunction _validate(ok, validatorProperties) {\n  if (ok !== undefined && !ok) {\n    const ErrorConstructor = validatorProperties.ErrorConstructor || ValidatorError;\n    const err = new ErrorConstructor(validatorProperties);\n    err[validatorErrorSymbol] = true;\n    return err;\n  }\n}\n\n/**\n * Performs a validation of `value` using the validators declared for this SchemaType.\n *\n * #### Note:\n *\n * This method ignores the asynchronous validators.\n *\n * @param {Any} value\n * @param {Object} scope\n * @param {Object} [options]\n * @param {Object} [options.path]\n * @return {MongooseError|null}\n * @api private\n */\n\nSchemaType.prototype.doValidateSync = function(value, scope, options) {\n  const path = this.path;\n  const count = this.validators.length;\n\n  if (!count) {\n    return null;\n  }\n\n  let validators = this.validators;\n  if (value === void 0) {\n    if (this.validators.length !== 0 && this.validators[0].type === 'required') {\n      validators = [this.validators[0]];\n    } else {\n      return null;\n    }\n  }\n\n  let err = null;\n  let i = 0;\n  const len = validators.length;\n  for (i = 0; i < len; ++i) {\n    const v = validators[i];\n\n    if (v === null || typeof v !== 'object') {\n      continue;\n    }\n\n    const validator = v.validator;\n    const validatorProperties = isSimpleValidator(v) ? Object.assign({}, v) : clone(v);\n    validatorProperties.path = options && options.path ? options.path : path;\n    validatorProperties.fullPath = this.$fullPath;\n    validatorProperties.value = value;\n    if (typeof value === 'string') {\n      validatorProperties.length = value.length;\n      if (validatorProperties.value.length > 30) {\n        validatorProperties.value = validatorProperties.value.slice(0, 30) + '...';\n      }\n    }\n    let ok = false;\n\n    // Skip any explicit async validators. Validators that return a promise\n    // will still run, but won't trigger any errors.\n    if (isAsyncFunction(validator)) {\n      continue;\n    }\n\n    if (validator instanceof RegExp) {\n      err = _validate(validator.test(value), validatorProperties);\n      continue;\n    }\n\n    if (typeof validator !== 'function') {\n      continue;\n    }\n\n    try {\n      if (validatorProperties.propsParameter) {\n        ok = validator.call(scope, value, validatorProperties);\n      } else {\n        ok = validator.call(scope, value);\n      }\n    } catch (error) {\n      ok = false;\n      validatorProperties.reason = error;\n    }\n\n    // Skip any validators that return a promise, we can't handle those\n    // synchronously\n    if (ok != null && typeof ok.then === 'function') {\n      continue;\n    }\n    err = _validate(ok, validatorProperties);\n    if (err) {\n      break;\n    }\n  }\n\n  return err;\n};\n\n/**\n * Determines if value is a valid Reference.\n *\n * @param {SchemaType} self\n * @param {Object} value\n * @param {Document} doc\n * @param {Boolean} init\n * @return {Boolean}\n * @api private\n */\n\nSchemaType._isRef = function(self, value, doc, init) {\n  // fast path\n  let ref = init && self.options && (self.options.ref || self.options.refPath);\n\n  if (!ref && doc && doc.$__ != null) {\n    // checks for\n    // - this populated with adhoc model and no ref was set in schema OR\n    // - setting / pushing values after population\n    const path = doc.$__fullPath(self.path, true);\n\n    const owner = doc.ownerDocument();\n    ref = (path != null && owner.$populated(path)) || doc.$populated(self.path);\n  }\n\n  if (ref) {\n    if (value == null) {\n      return true;\n    }\n    if (!Buffer.isBuffer(value) && // buffers are objects too\n      value._bsontype !== 'Binary' // raw binary value from the db\n      && utils.isObject(value) // might have deselected _id in population query\n    ) {\n      return true;\n    }\n\n    return init;\n  }\n\n  return false;\n};\n\n/*!\n * ignore\n */\n\nSchemaType.prototype._castRef = function _castRef(value, doc, init, options) {\n  if (value == null) {\n    return value;\n  }\n\n  if (value.$__ != null) {\n    value.$__.wasPopulated = value.$__.wasPopulated || { value: value._doc._id };\n    return value;\n  }\n\n  // setting a populated path\n  if (Buffer.isBuffer(value) || !utils.isObject(value)) {\n    if (init) {\n      return value;\n    }\n    throw new CastError(this.instance, value, this.path, null, this);\n  }\n\n  // Handle the case where user directly sets a populated\n  // path to a plain object; cast to the Model used in\n  // the population query.\n  const path = doc.$__fullPath(this.path, true);\n  const owner = doc.ownerDocument();\n  const pop = owner.$populated(path, true);\n\n  let ret = value;\n  if (!doc.$__.populated ||\n    !doc.$__.populated[path] ||\n    !doc.$__.populated[path].options ||\n    !doc.$__.populated[path].options.options ||\n    !doc.$__.populated[path].options.options.lean) {\n    const PopulatedModel = pop ? pop.options[populateModelSymbol] : doc.constructor.db.model(this.options.ref);\n    ret = PopulatedModel.hydrate(value, null, options);\n    ret.$__.wasPopulated = { value: ret._doc._id, options: { [populateModelSymbol]: PopulatedModel } };\n  }\n\n  return ret;\n};\n\n/*!\n * ignore\n */\n\nfunction handleSingle(val, context) {\n  return this.castForQuery(null, val, context);\n}\n\n/*!\n * ignore\n */\n\nfunction handleArray(val, context) {\n  const _this = this;\n  if (!Array.isArray(val)) {\n    return [this.castForQuery(null, val, context)];\n  }\n  return val.map(function(m) {\n    return _this.castForQuery(null, m, context);\n  });\n}\n\n/**\n * Just like handleArray, except also allows `[]` because surprisingly\n * `$in: [1, []]` works fine\n * @api private\n */\n\nfunction handle$in(val, context) {\n  const _this = this;\n  if (!Array.isArray(val)) {\n    return [this.castForQuery(null, val, context)];\n  }\n  return val.map(function(m) {\n    if (Array.isArray(m) && m.length === 0) {\n      return m;\n    }\n    return _this.castForQuery(null, m, context);\n  });\n}\n\n/**\n * Contains the handlers for different query operators for this schema type.\n * For example, `$conditionalHandlers.$exists` is the function Mongoose calls to cast `$exists` filter operators.\n *\n * @property $conditionalHandlers\n * @memberOf SchemaType\n * @instance\n * @api public\n */\n\nSchemaType.prototype.$conditionalHandlers = {\n  $all: handleArray,\n  $eq: handleSingle,\n  $in: handle$in,\n  $ne: handleSingle,\n  $nin: handle$in,\n  $exists: $exists,\n  $type: $type\n};\n\n/**\n * Cast the given value with the given optional query operator.\n *\n * @param {String} [$conditional] query operator, like `$eq` or `$in`\n * @param {Any} val\n * @param {Query} context\n * @return {Any}\n * @api private\n */\n\nSchemaType.prototype.castForQuery = function($conditional, val, context) {\n  let handler;\n  if ($conditional != null) {\n    handler = this.$conditionalHandlers[$conditional];\n    if (!handler) {\n      throw new Error('Can\\'t use ' + $conditional);\n    }\n    return handler.call(this, val, context);\n  }\n\n  try {\n    return this.applySetters(val, context);\n  } catch (err) {\n    if (err instanceof CastError && err.path === this.path && this.$fullPath != null) {\n      err.path = this.$fullPath;\n    }\n    throw err;\n  }\n};\n\n/**\n * Set & Get the `checkRequired` function\n * Override the function the required validator uses to check whether a value\n * passes the `required` check. Override this on the individual SchemaType.\n *\n * #### Example:\n *\n *     // Use this to allow empty strings to pass the `required` validator\n *     mongoose.Schema.Types.String.checkRequired(v => typeof v === 'string');\n *\n * @param {Function} [fn] If set, will overwrite the current set function\n * @return {Function} The input `fn` or the already set function\n * @static\n * @memberOf SchemaType\n * @function checkRequired\n * @api public\n */\n\nSchemaType.checkRequired = function(fn) {\n  if (arguments.length !== 0) {\n    this._checkRequired = fn;\n  }\n\n  return this._checkRequired;\n};\n\n/**\n * Default check for if this path satisfies the `required` validator.\n *\n * @param {Any} val\n * @return {Boolean} `true` when the value is not `null`, `false` otherwise\n * @api private\n */\n\nSchemaType.prototype.checkRequired = function(val) {\n  return val != null;\n};\n\n/**\n * Clone the current SchemaType\n *\n * @return {SchemaType} The cloned SchemaType instance\n * @api private\n */\n\nSchemaType.prototype.clone = function() {\n  const options = Object.assign({}, this.options);\n  const schematype = new this.constructor(this.path, options, this.instance);\n  schematype.validators = this.validators.slice();\n  if (this.requiredValidator !== undefined) schematype.requiredValidator = this.requiredValidator;\n  if (this.defaultValue !== undefined) schematype.defaultValue = this.defaultValue;\n  if (this.$immutable !== undefined && this.options.immutable === undefined) {\n    schematype.$immutable = this.$immutable;\n\n    handleImmutable(schematype);\n  }\n  if (this._index !== undefined) schematype._index = this._index;\n  if (this.selected !== undefined) schematype.selected = this.selected;\n  if (this.isRequired !== undefined) schematype.isRequired = this.isRequired;\n  if (this.originalRequiredValue !== undefined) schematype.originalRequiredValue = this.originalRequiredValue;\n  schematype.getters = this.getters.slice();\n  schematype.setters = this.setters.slice();\n  return schematype;\n};\n\n/**\n * Returns the embedded schema type, if any. For arrays, document arrays, and maps, `getEmbeddedSchemaType()`\n * returns the schema type of the array's elements (or map's elements). For other types, `getEmbeddedSchemaType()`\n * returns `undefined`.\n *\n * #### Example:\n *\n *     const schema = new Schema({ name: String, tags: [String] });\n *     schema.path('name').getEmbeddedSchemaType(); // undefined\n *     schema.path('tags').getEmbeddedSchemaType(); // SchemaString { path: 'tags', ... }\n *\n * @returns {SchemaType} embedded schematype\n * @api public\n */\n\nSchemaType.prototype.getEmbeddedSchemaType = function getEmbeddedSchemaType() {\n  return this.$embeddedSchemaType;\n};\n\n/*!\n * If _duplicateKeyErrorMessage is a string, replace unique index errors \"E11000 duplicate key error\" with this string.\n *\n * @api private\n */\n\nSchemaType.prototype._duplicateKeyErrorMessage = null;\n\n/**\n * Returns this schema type's representation in a JSON schema.\n *\n * @param [options]\n * @param [options.useBsonType=false] If true, return a representation with `bsonType` for use with MongoDB's `$jsonSchema`.\n * @returns {Object} JSON schema properties\n */\n\nSchemaType.prototype.toJSONSchema = function toJSONSchema(_options) { // eslint-disable-line no-unused-vars\n  throw new Error(`Converting unsupported SchemaType to JSON Schema: ${this.instance} at path \"${this.path}\"`);\n};\n\n/**\n * Returns the BSON type that the schema corresponds to, for automatic encryption.\n * @api private\n */\nSchemaType.prototype.autoEncryptionType = function autoEncryptionType() {\n  return null;\n};\n\n/*!\n * Module exports.\n */\n\nmodule.exports = exports = SchemaType;\n\nexports.CastError = CastError;\n\nexports.ValidatorError = ValidatorError;\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 10464, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/backend/node_modules/mongoose/lib/virtualType.js"],"sourcesContent":["'use strict';\n\nconst modelNamesFromRefPath = require('./helpers/populate/modelNamesFromRefPath');\nconst utils = require('./utils');\n\nconst modelSymbol = require('./helpers/symbols').modelSymbol;\n\n/**\n * VirtualType constructor\n *\n * This is what mongoose uses to define virtual attributes via `Schema.prototype.virtual`.\n *\n * #### Example:\n *\n *     const fullname = schema.virtual('fullname');\n *     fullname instanceof mongoose.VirtualType // true\n *\n * @param {Object} options\n * @param {String|Function} [options.ref] if `ref` is not nullish, this becomes a [populated virtual](https://mongoosejs.com/docs/populate.html#populate-virtuals)\n * @param {String|Function} [options.localField] the local field to populate on if this is a populated virtual.\n * @param {String|Function} [options.foreignField] the foreign field to populate on if this is a populated virtual.\n * @param {Boolean} [options.justOne=false] by default, a populated virtual is an array. If you set `justOne`, the populated virtual will be a single doc or `null`.\n * @param {Boolean} [options.getters=false] if you set this to `true`, Mongoose will call any custom getters you defined on this virtual\n * @param {Boolean} [options.count=false] if you set this to `true`, `populate()` will set this virtual to the number of populated documents, as opposed to the documents themselves, using [`Query#countDocuments()`](https://mongoosejs.com/docs/api/query.html#Query.prototype.countDocuments())\n * @param {Object|Function} [options.match=null] add an extra match condition to `populate()`\n * @param {Number} [options.limit=null] add a default `limit` to the `populate()` query\n * @param {Number} [options.skip=null] add a default `skip` to the `populate()` query\n * @param {Number} [options.perDocumentLimit=null] For legacy reasons, `limit` with `populate()` may give incorrect results because it only executes a single query for every document being populated. If you set `perDocumentLimit`, Mongoose will ensure correct `limit` per document by executing a separate query for each document to `populate()`. For example, `.find().populate({ path: 'test', perDocumentLimit: 2 })` will execute 2 additional queries if `.find()` returns 2 documents.\n * @param {Object} [options.options=null] Additional options like `limit` and `lean`.\n * @param {String} name\n * @api public\n */\n\nfunction VirtualType(options, name) {\n  this.path = name;\n  this.getters = [];\n  this.setters = [];\n  this.options = Object.assign({}, options);\n}\n\n/**\n * If no getters/setters, add a default\n *\n * @api private\n */\n\nVirtualType.prototype._applyDefaultGetters = function() {\n  if (this.getters.length > 0 || this.setters.length > 0) {\n    return;\n  }\n\n  const path = this.path;\n  const internalProperty = '$' + path;\n  this.getters.push(function() {\n    return this.$locals[internalProperty];\n  });\n  this.setters.push(function(v) {\n    this.$locals[internalProperty] = v;\n  });\n};\n\n/*!\n * ignore\n */\n\nVirtualType.prototype.clone = function() {\n  const clone = new VirtualType(this.options, this.path);\n  clone.getters = [].concat(this.getters);\n  clone.setters = [].concat(this.setters);\n  return clone;\n};\n\n/**\n * Adds a custom getter to this virtual.\n *\n * Mongoose calls the getter function with the below 3 parameters.\n *\n * - `value`: the value returned by the previous getter. If there is only one getter, `value` will be `undefined`.\n * - `virtual`: the virtual object you called `.get()` on.\n * - `doc`: the document this virtual is attached to. Equivalent to `this`.\n *\n * #### Example:\n *\n *     const virtual = schema.virtual('fullname');\n *     virtual.get(function(value, virtual, doc) {\n *       return this.name.first + ' ' + this.name.last;\n *     });\n *\n * @param {Function} fn\n * @return {VirtualType} this\n * @api public\n */\n\nVirtualType.prototype.get = function(fn) {\n  this.getters.push(fn);\n  return this;\n};\n\n/**\n * Adds a custom setter to this virtual.\n *\n * Mongoose calls the setter function with the below 3 parameters.\n *\n * - `value`: the value being set.\n * - `virtual`: the virtual object you're calling `.set()` on.\n * - `doc`: the document this virtual is attached to. Equivalent to `this`.\n *\n * #### Example:\n *\n *     const virtual = schema.virtual('fullname');\n *     virtual.set(function(value, virtual, doc) {\n *       const parts = value.split(' ');\n *       this.name.first = parts[0];\n *       this.name.last = parts[1];\n *     });\n *\n *     const Model = mongoose.model('Test', schema);\n *     const doc = new Model();\n *     // Calls the setter with `value = 'Jean-Luc Picard'`\n *     doc.fullname = 'Jean-Luc Picard';\n *     doc.name.first; // 'Jean-Luc'\n *     doc.name.last; // 'Picard'\n *\n * @param {Function} fn\n * @return {VirtualType} this\n * @api public\n */\n\nVirtualType.prototype.set = function(fn) {\n  this.setters.push(fn);\n  return this;\n};\n\n/**\n * Applies getters to `value`.\n *\n * @param {Object} value\n * @param {Document} doc The document this virtual is attached to\n * @return {Any} the value after applying all getters\n * @api public\n */\n\nVirtualType.prototype.applyGetters = function(value, doc) {\n  if (utils.hasUserDefinedProperty(this.options, ['ref', 'refPath']) &&\n      doc.$$populatedVirtuals &&\n      doc.$$populatedVirtuals.hasOwnProperty(this.path)) {\n    value = doc.$$populatedVirtuals[this.path];\n  }\n\n  let v = value;\n  for (const getter of this.getters) {\n    v = getter.call(doc, v, this, doc);\n  }\n  return v;\n};\n\n/**\n * Applies setters to `value`.\n *\n * @param {Object} value\n * @param {Document} doc\n * @return {Any} the value after applying all setters\n * @api public\n */\n\nVirtualType.prototype.applySetters = function(value, doc) {\n  let v = value;\n  for (const setter of this.setters) {\n    v = setter.call(doc, v, this, doc);\n  }\n  return v;\n};\n\n/**\n * Get the names of models used to populate this model given a doc\n *\n * @param {Document} doc\n * @return {Array<string> | null}\n * @api private\n */\n\nVirtualType.prototype._getModelNamesForPopulate = function _getModelNamesForPopulate(doc) {\n  if (this.options.refPath) {\n    return modelNamesFromRefPath(this.options.refPath, doc, this.path);\n  }\n\n  let normalizedRef = null;\n  if (typeof this.options.ref === 'function' && !this.options.ref[modelSymbol]) {\n    normalizedRef = this.options.ref.call(doc, doc);\n  } else {\n    normalizedRef = this.options.ref;\n  }\n  if (normalizedRef != null && !Array.isArray(normalizedRef)) {\n    return [normalizedRef];\n  }\n\n  return normalizedRef;\n};\n\n/*!\n * exports\n */\n\nmodule.exports = VirtualType;\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 10641, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/backend/node_modules/mongoose/lib/cast.js"],"sourcesContent":["'use strict';\n\n/*!\n * Module dependencies.\n */\n\nconst CastError = require('./error/cast');\nconst StrictModeError = require('./error/strict');\nconst Types = require('./schema/index');\nconst cast$expr = require('./helpers/query/cast$expr');\nconst castString = require('./cast/string');\nconst castTextSearch = require('./schema/operators/text');\nconst get = require('./helpers/get');\nconst getSchemaDiscriminatorByValue = require('./helpers/discriminator/getSchemaDiscriminatorByValue');\nconst isOperator = require('./helpers/query/isOperator');\nconst util = require('util');\nconst isObject = require('./helpers/isObject');\nconst isMongooseObject = require('./helpers/isMongooseObject');\nconst utils = require('./utils');\n\nconst ALLOWED_GEOWITHIN_GEOJSON_TYPES = ['Polygon', 'MultiPolygon'];\n\n/**\n * Handles internal casting for query filters.\n *\n * @param {Schema} schema\n * @param {Object} obj Object to cast\n * @param {Object} [options] the query options\n * @param {Boolean|\"throw\"} [options.strict] Wheter to enable all strict options\n * @param {Boolean|\"throw\"} [options.strictQuery] Enable strict Queries\n * @param {Boolean} [options.sanitizeFilter] avoid adding implict query selectors ($in)\n * @param {Boolean} [options.upsert]\n * @param {Query} [context] passed to setters\n * @api private\n */\nmodule.exports = function cast(schema, obj, options, context) {\n  if (Array.isArray(obj)) {\n    throw new Error('Query filter must be an object, got an array ', util.inspect(obj));\n  }\n\n  if (obj == null) {\n    return obj;\n  }\n\n  if (schema != null && schema.discriminators != null && obj[schema.options.discriminatorKey] != null) {\n    schema = getSchemaDiscriminatorByValue(schema, obj[schema.options.discriminatorKey]) || schema;\n  }\n\n  const paths = Object.keys(obj);\n  let i = paths.length;\n  let _keys;\n  let any$conditionals;\n  let schematype;\n  let nested;\n  let path;\n  let type;\n  let val;\n\n  options = options || {};\n\n  while (i--) {\n    path = paths[i];\n    val = obj[path];\n\n    if (path === '$or' || path === '$nor' || path === '$and') {\n      if (!Array.isArray(val)) {\n        throw new CastError('Array', val, path);\n      }\n      for (let k = val.length - 1; k >= 0; k--) {\n        if (val[k] == null || typeof val[k] !== 'object') {\n          throw new CastError('Object', val[k], path + '.' + k);\n        }\n        const beforeCastKeysLength = Object.keys(val[k]).length;\n        const discriminatorValue = val[k][schema.options.discriminatorKey];\n        if (discriminatorValue == null) {\n          val[k] = cast(schema, val[k], options, context);\n        } else {\n          const discriminatorSchema = getSchemaDiscriminatorByValue(context.schema, discriminatorValue);\n          val[k] = cast(discriminatorSchema ? discriminatorSchema : schema, val[k], options, context);\n        }\n\n        if (Object.keys(val[k]).length === 0 && beforeCastKeysLength !== 0) {\n          val.splice(k, 1);\n        }\n      }\n\n      // delete empty: {$or: []} -> {}\n      if (val.length === 0) {\n        delete obj[path];\n      }\n    } else if (path === '$where') {\n      type = typeof val;\n\n      if (type !== 'string' && type !== 'function') {\n        throw new Error('Must have a string or function for $where');\n      }\n\n      if (type === 'function') {\n        obj[path] = val.toString();\n      }\n\n      continue;\n    } else if (path === '$expr') {\n      val = cast$expr(val, schema);\n      continue;\n    } else if (path === '$elemMatch') {\n      val = cast(schema, val, options, context);\n    } else if (path === '$text') {\n      val = castTextSearch(val, path);\n    } else if (path === '$comment' && !schema.paths.hasOwnProperty('$comment')) {\n      val = castString(val, path);\n      obj[path] = val;\n    } else {\n      if (!schema) {\n        // no casting for Mixed types\n        continue;\n      }\n\n      schematype = schema.path(path);\n\n      // Check for embedded discriminator paths\n      if (!schematype) {\n        const split = path.split('.');\n        let j = split.length;\n        while (j--) {\n          const pathFirstHalf = split.slice(0, j).join('.');\n          const pathLastHalf = split.slice(j).join('.');\n          const _schematype = schema.path(pathFirstHalf);\n          const discriminatorKey = _schematype &&\n            _schematype.schema &&\n            _schematype.schema.options &&\n            _schematype.schema.options.discriminatorKey;\n\n          // gh-6027: if we haven't found the schematype but this path is\n          // underneath an embedded discriminator and the embedded discriminator\n          // key is in the query, use the embedded discriminator schema\n          if (_schematype != null &&\n            (_schematype.schema && _schematype.schema.discriminators) != null &&\n            discriminatorKey != null &&\n            pathLastHalf !== discriminatorKey) {\n            const discriminatorVal = get(obj, pathFirstHalf + '.' + discriminatorKey);\n            const discriminators = _schematype.schema.discriminators;\n            if (typeof discriminatorVal === 'string' && discriminators[discriminatorVal] != null) {\n\n              schematype = discriminators[discriminatorVal].path(pathLastHalf);\n            } else if (discriminatorVal != null &&\n              Object.keys(discriminatorVal).length === 1 &&\n              Array.isArray(discriminatorVal.$in) &&\n              discriminatorVal.$in.length === 1 &&\n              typeof discriminatorVal.$in[0] === 'string' &&\n              discriminators[discriminatorVal.$in[0]] != null) {\n              schematype = discriminators[discriminatorVal.$in[0]].path(pathLastHalf);\n            }\n          }\n        }\n      }\n\n      if (!schematype) {\n        // Handle potential embedded array queries\n        const split = path.split('.');\n        let j = split.length;\n        let pathFirstHalf;\n        let pathLastHalf;\n        let remainingConds;\n\n        // Find the part of the var path that is a path of the Schema\n        while (j--) {\n          pathFirstHalf = split.slice(0, j).join('.');\n          schematype = schema.path(pathFirstHalf);\n          if (schematype) {\n            break;\n          }\n        }\n\n        // If a substring of the input path resolves to an actual real path...\n        if (schematype) {\n          // Apply the casting; similar code for $elemMatch in schema/array.js\n          if (schematype.caster && schematype.caster.schema) {\n            remainingConds = {};\n            pathLastHalf = split.slice(j).join('.');\n            remainingConds[pathLastHalf] = val;\n\n            const ret = cast(schematype.caster.schema, remainingConds, options, context)[pathLastHalf];\n            if (ret === void 0) {\n              delete obj[path];\n            } else {\n              obj[path] = ret;\n            }\n          } else {\n            obj[path] = val;\n          }\n          continue;\n        }\n\n        if (isObject(val)) {\n          // handle geo schemas that use object notation\n          // { loc: { long: Number, lat: Number }\n\n          let geo = '';\n          if (val.$near) {\n            geo = '$near';\n          } else if (val.$nearSphere) {\n            geo = '$nearSphere';\n          } else if (val.$within) {\n            geo = '$within';\n          } else if (val.$geoIntersects) {\n            geo = '$geoIntersects';\n          } else if (val.$geoWithin) {\n            geo = '$geoWithin';\n          }\n\n          if (geo) {\n            const numbertype = new Types.Number('__QueryCasting__');\n            let value = val[geo];\n\n            if (val.$maxDistance != null) {\n              val.$maxDistance = numbertype.castForQuery(\n                null,\n                val.$maxDistance,\n                context\n              );\n            }\n            if (val.$minDistance != null) {\n              val.$minDistance = numbertype.castForQuery(\n                null,\n                val.$minDistance,\n                context\n              );\n            }\n\n            if (geo === '$within') {\n              const withinType = value.$center\n                  || value.$centerSphere\n                  || value.$box\n                  || value.$polygon;\n\n              if (!withinType) {\n                throw new Error('Bad $within parameter: ' + JSON.stringify(val));\n              }\n\n              value = withinType;\n            } else if (geo === '$near' &&\n                typeof value.type === 'string' && Array.isArray(value.coordinates)) {\n              // geojson; cast the coordinates\n              value = value.coordinates;\n            } else if ((geo === '$near' || geo === '$nearSphere' || geo === '$geoIntersects') &&\n                value.$geometry && typeof value.$geometry.type === 'string' &&\n                Array.isArray(value.$geometry.coordinates)) {\n              if (value.$maxDistance != null) {\n                value.$maxDistance = numbertype.castForQuery(\n                  null,\n                  value.$maxDistance,\n                  context\n                );\n              }\n              if (value.$minDistance != null) {\n                value.$minDistance = numbertype.castForQuery(\n                  null,\n                  value.$minDistance,\n                  context\n                );\n              }\n              if (isMongooseObject(value.$geometry)) {\n                value.$geometry = value.$geometry.toObject({\n                  transform: false,\n                  virtuals: false\n                });\n              }\n              value = value.$geometry.coordinates;\n            } else if (geo === '$geoWithin') {\n              if (value.$geometry) {\n                if (isMongooseObject(value.$geometry)) {\n                  value.$geometry = value.$geometry.toObject({ virtuals: false });\n                }\n                const geoWithinType = value.$geometry.type;\n                if (ALLOWED_GEOWITHIN_GEOJSON_TYPES.indexOf(geoWithinType) === -1) {\n                  throw new Error('Invalid geoJSON type for $geoWithin \"' +\n                    geoWithinType + '\", must be \"Polygon\" or \"MultiPolygon\"');\n                }\n                value = value.$geometry.coordinates;\n              } else {\n                value = value.$box || value.$polygon || value.$center ||\n                  value.$centerSphere;\n                if (isMongooseObject(value)) {\n                  value = value.toObject({ virtuals: false });\n                }\n              }\n            }\n\n            _cast(value, numbertype, context);\n            continue;\n          }\n        }\n\n        if (schema.nested[path]) {\n          continue;\n        }\n\n        const strict = 'strict' in options ? options.strict : schema.options.strict;\n        const strictQuery = getStrictQuery(options, schema._userProvidedOptions, schema.options, context);\n        if (options.upsert && strict) {\n          if (strict === 'throw') {\n            throw new StrictModeError(path);\n          }\n          throw new StrictModeError(path, 'Path \"' + path + '\" is not in ' +\n            'schema, strict mode is `true`, and upsert is `true`.');\n        } if (strictQuery === 'throw') {\n          throw new StrictModeError(path, 'Path \"' + path + '\" is not in ' +\n            'schema and strictQuery is \\'throw\\'.');\n        } else if (strictQuery) {\n          delete obj[path];\n        }\n      } else if (val == null) {\n        continue;\n      } else if (utils.isPOJO(val)) {\n        any$conditionals = Object.keys(val).some(isOperator);\n\n        if (!any$conditionals) {\n          obj[path] = schematype.castForQuery(\n            null,\n            val,\n            context\n          );\n        } else {\n          const ks = Object.keys(val);\n          let $cond;\n          let k = ks.length;\n\n          while (k--) {\n            $cond = ks[k];\n            nested = val[$cond];\n            if ($cond === '$elemMatch') {\n              if (nested && schematype != null && schematype.schema != null) {\n                cast(schematype.schema, nested, options, context);\n              } else if (nested && schematype != null && schematype.$isMongooseArray) {\n                if (utils.isPOJO(nested) && nested.$not != null) {\n                  cast(schema, nested, options, context);\n                } else {\n                  val[$cond] = schematype.castForQuery(\n                    $cond,\n                    nested,\n                    context\n                  );\n                }\n              }\n            } else if ($cond === '$not') {\n              if (nested && schematype) {\n                _keys = Object.keys(nested);\n                if (_keys.length && isOperator(_keys[0])) {\n                  for (const key in nested) {\n                    nested[key] = schematype.castForQuery(\n                      key,\n                      nested[key],\n                      context\n                    );\n                  }\n                } else {\n                  val[$cond] = schematype.castForQuery(\n                    $cond,\n                    nested,\n                    context\n                  );\n                }\n                continue;\n              }\n            } else {\n              val[$cond] = schematype.castForQuery(\n                $cond,\n                nested,\n                context\n              );\n            }\n\n          }\n        }\n      } else if (Array.isArray(val) && ['Buffer', 'Array'].indexOf(schematype.instance) === -1 && !options.sanitizeFilter) {\n        const casted = [];\n        const valuesArray = val;\n\n        for (const _val of valuesArray) {\n          casted.push(schematype.castForQuery(\n            null,\n            _val,\n            context\n          ));\n        }\n\n        obj[path] = { $in: casted };\n      } else {\n        obj[path] = schematype.castForQuery(\n          null,\n          val,\n          context\n        );\n      }\n    }\n  }\n\n  return obj;\n};\n\nfunction _cast(val, numbertype, context) {\n  if (Array.isArray(val)) {\n    val.forEach(function(item, i) {\n      if (Array.isArray(item) || isObject(item)) {\n        return _cast(item, numbertype, context);\n      }\n      val[i] = numbertype.castForQuery(null, item, context);\n    });\n  } else {\n    const nearKeys = Object.keys(val);\n    let nearLen = nearKeys.length;\n    while (nearLen--) {\n      const nkey = nearKeys[nearLen];\n      const item = val[nkey];\n      if (Array.isArray(item) || isObject(item)) {\n        _cast(item, numbertype, context);\n        val[nkey] = item;\n      } else {\n        val[nkey] = numbertype.castForQuery({ val: item, context: context });\n      }\n    }\n  }\n}\n\nfunction getStrictQuery(queryOptions, schemaUserProvidedOptions, schemaOptions, context) {\n  if ('strictQuery' in queryOptions) {\n    return queryOptions.strictQuery;\n  }\n  if ('strictQuery' in schemaUserProvidedOptions) {\n    return schemaUserProvidedOptions.strictQuery;\n  }\n  const mongooseOptions = context &&\n    context.mongooseCollection &&\n    context.mongooseCollection.conn &&\n    context.mongooseCollection.conn.base &&\n    context.mongooseCollection.conn.base.options;\n  if (mongooseOptions) {\n    if ('strictQuery' in mongooseOptions) {\n      return mongooseOptions.strictQuery;\n    }\n  }\n  return schemaOptions.strictQuery;\n}\n"],"names":[],"mappings":"AAEA;;CAEC,GAED,MAAM;AACN,MAAM;AACN,MAAM;AACN,MAAM;AACN,MAAM;AACN,MAAM;AACN,MAAM;AACN,MAAM;AACN,MAAM;AACN,MAAM;AACN,MAAM;AACN,MAAM;AACN,MAAM;AAEN,MAAM,kCAAkC;IAAC;IAAW;CAAe;AAEnE;;;;;;;;;;;;CAYC,GACD,OAAO,OAAO,GAAG,SAAS,KAAK,MAAM,EAAE,GAAG,EAAE,OAAO,EAAE,OAAO;IAC1D,IAAI,MAAM,OAAO,CAAC,MAAM;QACtB,MAAM,IAAI,MAAM,iDAAiD,KAAK,OAAO,CAAC;IAChF;IAEA,IAAI,OAAO,MAAM;QACf,OAAO;IACT;IAEA,IAAI,UAAU,QAAQ,OAAO,cAAc,IAAI,QAAQ,GAAG,CAAC,OAAO,OAAO,CAAC,gBAAgB,CAAC,IAAI,MAAM;QACnG,SAAS,8BAA8B,QAAQ,GAAG,CAAC,OAAO,OAAO,CAAC,gBAAgB,CAAC,KAAK;IAC1F;IAEA,MAAM,QAAQ,OAAO,IAAI,CAAC;IAC1B,IAAI,IAAI,MAAM,MAAM;IACpB,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IAEJ,UAAU,WAAW,CAAC;IAEtB,MAAO,IAAK;QACV,OAAO,KAAK,CAAC,EAAE;QACf,MAAM,GAAG,CAAC,KAAK;QAEf,IAAI,SAAS,SAAS,SAAS,UAAU,SAAS,QAAQ;YACxD,IAAI,CAAC,MAAM,OAAO,CAAC,MAAM;gBACvB,MAAM,IAAI,UAAU,SAAS,KAAK;YACpC;YACA,IAAK,IAAI,IAAI,IAAI,MAAM,GAAG,GAAG,KAAK,GAAG,IAAK;gBACxC,IAAI,GAAG,CAAC,EAAE,IAAI,QAAQ,OAAO,GAAG,CAAC,EAAE,KAAK,UAAU;oBAChD,MAAM,IAAI,UAAU,UAAU,GAAG,CAAC,EAAE,EAAE,OAAO,MAAM;gBACrD;gBACA,MAAM,uBAAuB,OAAO,IAAI,CAAC,GAAG,CAAC,EAAE,EAAE,MAAM;gBACvD,MAAM,qBAAqB,GAAG,CAAC,EAAE,CAAC,OAAO,OAAO,CAAC,gBAAgB,CAAC;gBAClE,IAAI,sBAAsB,MAAM;oBAC9B,GAAG,CAAC,EAAE,GAAG,KAAK,QAAQ,GAAG,CAAC,EAAE,EAAE,SAAS;gBACzC,OAAO;oBACL,MAAM,sBAAsB,8BAA8B,QAAQ,MAAM,EAAE;oBAC1E,GAAG,CAAC,EAAE,GAAG,KAAK,sBAAsB,sBAAsB,QAAQ,GAAG,CAAC,EAAE,EAAE,SAAS;gBACrF;gBAEA,IAAI,OAAO,IAAI,CAAC,GAAG,CAAC,EAAE,EAAE,MAAM,KAAK,KAAK,yBAAyB,GAAG;oBAClE,IAAI,MAAM,CAAC,GAAG;gBAChB;YACF;YAEA,gCAAgC;YAChC,IAAI,IAAI,MAAM,KAAK,GAAG;gBACpB,OAAO,GAAG,CAAC,KAAK;YAClB;QACF,OAAO,IAAI,SAAS,UAAU;YAC5B,OAAO,OAAO;YAEd,IAAI,SAAS,YAAY,SAAS,YAAY;gBAC5C,MAAM,IAAI,MAAM;YAClB;YAEA,IAAI,SAAS,YAAY;gBACvB,GAAG,CAAC,KAAK,GAAG,IAAI,QAAQ;YAC1B;YAEA;QACF,OAAO,IAAI,SAAS,SAAS;YAC3B,MAAM,UAAU,KAAK;YACrB;QACF,OAAO,IAAI,SAAS,cAAc;YAChC,MAAM,KAAK,QAAQ,KAAK,SAAS;QACnC,OAAO,IAAI,SAAS,SAAS;YAC3B,MAAM,eAAe,KAAK;QAC5B,OAAO,IAAI,SAAS,cAAc,CAAC,OAAO,KAAK,CAAC,cAAc,CAAC,aAAa;YAC1E,MAAM,WAAW,KAAK;YACtB,GAAG,CAAC,KAAK,GAAG;QACd,OAAO;YACL,IAAI,CAAC,QAAQ;gBAEX;YACF;YAEA,aAAa,OAAO,IAAI,CAAC;YAEzB,yCAAyC;YACzC,IAAI,CAAC,YAAY;gBACf,MAAM,QAAQ,KAAK,KAAK,CAAC;gBACzB,IAAI,IAAI,MAAM,MAAM;gBACpB,MAAO,IAAK;oBACV,MAAM,gBAAgB,MAAM,KAAK,CAAC,GAAG,GAAG,IAAI,CAAC;oBAC7C,MAAM,eAAe,MAAM,KAAK,CAAC,GAAG,IAAI,CAAC;oBACzC,MAAM,cAAc,OAAO,IAAI,CAAC;oBAChC,MAAM,mBAAmB,eACvB,YAAY,MAAM,IAClB,YAAY,MAAM,CAAC,OAAO,IAC1B,YAAY,MAAM,CAAC,OAAO,CAAC,gBAAgB;oBAE7C,+DAA+D;oBAC/D,sEAAsE;oBACtE,6DAA6D;oBAC7D,IAAI,eAAe,QACjB,CAAC,YAAY,MAAM,IAAI,YAAY,MAAM,CAAC,cAAc,KAAK,QAC7D,oBAAoB,QACpB,iBAAiB,kBAAkB;wBACnC,MAAM,mBAAmB,IAAI,KAAK,gBAAgB,MAAM;wBACxD,MAAM,iBAAiB,YAAY,MAAM,CAAC,cAAc;wBACxD,IAAI,OAAO,qBAAqB,YAAY,cAAc,CAAC,iBAAiB,IAAI,MAAM;4BAEpF,aAAa,cAAc,CAAC,iBAAiB,CAAC,IAAI,CAAC;wBACrD,OAAO,IAAI,oBAAoB,QAC7B,OAAO,IAAI,CAAC,kBAAkB,MAAM,KAAK,KACzC,MAAM,OAAO,CAAC,iBAAiB,GAAG,KAClC,iBAAiB,GAAG,CAAC,MAAM,KAAK,KAChC,OAAO,iBAAiB,GAAG,CAAC,EAAE,KAAK,YACnC,cAAc,CAAC,iBAAiB,GAAG,CAAC,EAAE,CAAC,IAAI,MAAM;4BACjD,aAAa,cAAc,CAAC,iBAAiB,GAAG,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC;wBAC5D;oBACF;gBACF;YACF;YAEA,IAAI,CAAC,YAAY;gBACf,0CAA0C;gBAC1C,MAAM,QAAQ,KAAK,KAAK,CAAC;gBACzB,IAAI,IAAI,MAAM,MAAM;gBACpB,IAAI;gBACJ,IAAI;gBACJ,IAAI;gBAEJ,6DAA6D;gBAC7D,MAAO,IAAK;oBACV,gBAAgB,MAAM,KAAK,CAAC,GAAG,GAAG,IAAI,CAAC;oBACvC,aAAa,OAAO,IAAI,CAAC;oBACzB,IAAI,YAAY;wBACd;oBACF;gBACF;gBAEA,sEAAsE;gBACtE,IAAI,YAAY;oBACd,oEAAoE;oBACpE,IAAI,WAAW,MAAM,IAAI,WAAW,MAAM,CAAC,MAAM,EAAE;wBACjD,iBAAiB,CAAC;wBAClB,eAAe,MAAM,KAAK,CAAC,GAAG,IAAI,CAAC;wBACnC,cAAc,CAAC,aAAa,GAAG;wBAE/B,MAAM,MAAM,KAAK,WAAW,MAAM,CAAC,MAAM,EAAE,gBAAgB,SAAS,QAAQ,CAAC,aAAa;wBAC1F,IAAI,QAAQ,KAAK,GAAG;4BAClB,OAAO,GAAG,CAAC,KAAK;wBAClB,OAAO;4BACL,GAAG,CAAC,KAAK,GAAG;wBACd;oBACF,OAAO;wBACL,GAAG,CAAC,KAAK,GAAG;oBACd;oBACA;gBACF;gBAEA,IAAI,SAAS,MAAM;oBACjB,8CAA8C;oBAC9C,uCAAuC;oBAEvC,IAAI,MAAM;oBACV,IAAI,IAAI,KAAK,EAAE;wBACb,MAAM;oBACR,OAAO,IAAI,IAAI,WAAW,EAAE;wBAC1B,MAAM;oBACR,OAAO,IAAI,IAAI,OAAO,EAAE;wBACtB,MAAM;oBACR,OAAO,IAAI,IAAI,cAAc,EAAE;wBAC7B,MAAM;oBACR,OAAO,IAAI,IAAI,UAAU,EAAE;wBACzB,MAAM;oBACR;oBAEA,IAAI,KAAK;wBACP,MAAM,aAAa,IAAI,MAAM,MAAM,CAAC;wBACpC,IAAI,QAAQ,GAAG,CAAC,IAAI;wBAEpB,IAAI,IAAI,YAAY,IAAI,MAAM;4BAC5B,IAAI,YAAY,GAAG,WAAW,YAAY,CACxC,MACA,IAAI,YAAY,EAChB;wBAEJ;wBACA,IAAI,IAAI,YAAY,IAAI,MAAM;4BAC5B,IAAI,YAAY,GAAG,WAAW,YAAY,CACxC,MACA,IAAI,YAAY,EAChB;wBAEJ;wBAEA,IAAI,QAAQ,WAAW;4BACrB,MAAM,aAAa,MAAM,OAAO,IACzB,MAAM,aAAa,IACnB,MAAM,IAAI,IACV,MAAM,QAAQ;4BAErB,IAAI,CAAC,YAAY;gCACf,MAAM,IAAI,MAAM,4BAA4B,KAAK,SAAS,CAAC;4BAC7D;4BAEA,QAAQ;wBACV,OAAO,IAAI,QAAQ,WACf,OAAO,MAAM,IAAI,KAAK,YAAY,MAAM,OAAO,CAAC,MAAM,WAAW,GAAG;4BACtE,gCAAgC;4BAChC,QAAQ,MAAM,WAAW;wBAC3B,OAAO,IAAI,CAAC,QAAQ,WAAW,QAAQ,iBAAiB,QAAQ,gBAAgB,KAC5E,MAAM,SAAS,IAAI,OAAO,MAAM,SAAS,CAAC,IAAI,KAAK,YACnD,MAAM,OAAO,CAAC,MAAM,SAAS,CAAC,WAAW,GAAG;4BAC9C,IAAI,MAAM,YAAY,IAAI,MAAM;gCAC9B,MAAM,YAAY,GAAG,WAAW,YAAY,CAC1C,MACA,MAAM,YAAY,EAClB;4BAEJ;4BACA,IAAI,MAAM,YAAY,IAAI,MAAM;gCAC9B,MAAM,YAAY,GAAG,WAAW,YAAY,CAC1C,MACA,MAAM,YAAY,EAClB;4BAEJ;4BACA,IAAI,iBAAiB,MAAM,SAAS,GAAG;gCACrC,MAAM,SAAS,GAAG,MAAM,SAAS,CAAC,QAAQ,CAAC;oCACzC,WAAW;oCACX,UAAU;gCACZ;4BACF;4BACA,QAAQ,MAAM,SAAS,CAAC,WAAW;wBACrC,OAAO,IAAI,QAAQ,cAAc;4BAC/B,IAAI,MAAM,SAAS,EAAE;gCACnB,IAAI,iBAAiB,MAAM,SAAS,GAAG;oCACrC,MAAM,SAAS,GAAG,MAAM,SAAS,CAAC,QAAQ,CAAC;wCAAE,UAAU;oCAAM;gCAC/D;gCACA,MAAM,gBAAgB,MAAM,SAAS,CAAC,IAAI;gCAC1C,IAAI,gCAAgC,OAAO,CAAC,mBAAmB,CAAC,GAAG;oCACjE,MAAM,IAAI,MAAM,0CACd,gBAAgB;gCACpB;gCACA,QAAQ,MAAM,SAAS,CAAC,WAAW;4BACrC,OAAO;gCACL,QAAQ,MAAM,IAAI,IAAI,MAAM,QAAQ,IAAI,MAAM,OAAO,IACnD,MAAM,aAAa;gCACrB,IAAI,iBAAiB,QAAQ;oCAC3B,QAAQ,MAAM,QAAQ,CAAC;wCAAE,UAAU;oCAAM;gCAC3C;4BACF;wBACF;wBAEA,MAAM,OAAO,YAAY;wBACzB;oBACF;gBACF;gBAEA,IAAI,OAAO,MAAM,CAAC,KAAK,EAAE;oBACvB;gBACF;gBAEA,MAAM,SAAS,YAAY,UAAU,QAAQ,MAAM,GAAG,OAAO,OAAO,CAAC,MAAM;gBAC3E,MAAM,cAAc,eAAe,SAAS,OAAO,oBAAoB,EAAE,OAAO,OAAO,EAAE;gBACzF,IAAI,QAAQ,MAAM,IAAI,QAAQ;oBAC5B,IAAI,WAAW,SAAS;wBACtB,MAAM,IAAI,gBAAgB;oBAC5B;oBACA,MAAM,IAAI,gBAAgB,MAAM,WAAW,OAAO,iBAChD;gBACJ;gBAAE,IAAI,gBAAgB,SAAS;oBAC7B,MAAM,IAAI,gBAAgB,MAAM,WAAW,OAAO,iBAChD;gBACJ,OAAO,IAAI,aAAa;oBACtB,OAAO,GAAG,CAAC,KAAK;gBAClB;YACF,OAAO,IAAI,OAAO,MAAM;gBACtB;YACF,OAAO,IAAI,MAAM,MAAM,CAAC,MAAM;gBAC5B,mBAAmB,OAAO,IAAI,CAAC,KAAK,IAAI,CAAC;gBAEzC,IAAI,CAAC,kBAAkB;oBACrB,GAAG,CAAC,KAAK,GAAG,WAAW,YAAY,CACjC,MACA,KACA;gBAEJ,OAAO;oBACL,MAAM,KAAK,OAAO,IAAI,CAAC;oBACvB,IAAI;oBACJ,IAAI,IAAI,GAAG,MAAM;oBAEjB,MAAO,IAAK;wBACV,QAAQ,EAAE,CAAC,EAAE;wBACb,SAAS,GAAG,CAAC,MAAM;wBACnB,IAAI,UAAU,cAAc;4BAC1B,IAAI,UAAU,cAAc,QAAQ,WAAW,MAAM,IAAI,MAAM;gCAC7D,KAAK,WAAW,MAAM,EAAE,QAAQ,SAAS;4BAC3C,OAAO,IAAI,UAAU,cAAc,QAAQ,WAAW,gBAAgB,EAAE;gCACtE,IAAI,MAAM,MAAM,CAAC,WAAW,OAAO,IAAI,IAAI,MAAM;oCAC/C,KAAK,QAAQ,QAAQ,SAAS;gCAChC,OAAO;oCACL,GAAG,CAAC,MAAM,GAAG,WAAW,YAAY,CAClC,OACA,QACA;gCAEJ;4BACF;wBACF,OAAO,IAAI,UAAU,QAAQ;4BAC3B,IAAI,UAAU,YAAY;gCACxB,QAAQ,OAAO,IAAI,CAAC;gCACpB,IAAI,MAAM,MAAM,IAAI,WAAW,KAAK,CAAC,EAAE,GAAG;oCACxC,IAAK,MAAM,OAAO,OAAQ;wCACxB,MAAM,CAAC,IAAI,GAAG,WAAW,YAAY,CACnC,KACA,MAAM,CAAC,IAAI,EACX;oCAEJ;gCACF,OAAO;oCACL,GAAG,CAAC,MAAM,GAAG,WAAW,YAAY,CAClC,OACA,QACA;gCAEJ;gCACA;4BACF;wBACF,OAAO;4BACL,GAAG,CAAC,MAAM,GAAG,WAAW,YAAY,CAClC,OACA,QACA;wBAEJ;oBAEF;gBACF;YACF,OAAO,IAAI,MAAM,OAAO,CAAC,QAAQ;gBAAC;gBAAU;aAAQ,CAAC,OAAO,CAAC,WAAW,QAAQ,MAAM,CAAC,KAAK,CAAC,QAAQ,cAAc,EAAE;gBACnH,MAAM,SAAS,EAAE;gBACjB,MAAM,cAAc;gBAEpB,KAAK,MAAM,QAAQ,YAAa;oBAC9B,OAAO,IAAI,CAAC,WAAW,YAAY,CACjC,MACA,MACA;gBAEJ;gBAEA,GAAG,CAAC,KAAK,GAAG;oBAAE,KAAK;gBAAO;YAC5B,OAAO;gBACL,GAAG,CAAC,KAAK,GAAG,WAAW,YAAY,CACjC,MACA,KACA;YAEJ;QACF;IACF;IAEA,OAAO;AACT;AAEA,SAAS,MAAM,GAAG,EAAE,UAAU,EAAE,OAAO;IACrC,IAAI,MAAM,OAAO,CAAC,MAAM;QACtB,IAAI,OAAO,CAAC,SAAS,IAAI,EAAE,CAAC;YAC1B,IAAI,MAAM,OAAO,CAAC,SAAS,SAAS,OAAO;gBACzC,OAAO,MAAM,MAAM,YAAY;YACjC;YACA,GAAG,CAAC,EAAE,GAAG,WAAW,YAAY,CAAC,MAAM,MAAM;QAC/C;IACF,OAAO;QACL,MAAM,WAAW,OAAO,IAAI,CAAC;QAC7B,IAAI,UAAU,SAAS,MAAM;QAC7B,MAAO,UAAW;YAChB,MAAM,OAAO,QAAQ,CAAC,QAAQ;YAC9B,MAAM,OAAO,GAAG,CAAC,KAAK;YACtB,IAAI,MAAM,OAAO,CAAC,SAAS,SAAS,OAAO;gBACzC,MAAM,MAAM,YAAY;gBACxB,GAAG,CAAC,KAAK,GAAG;YACd,OAAO;gBACL,GAAG,CAAC,KAAK,GAAG,WAAW,YAAY,CAAC;oBAAE,KAAK;oBAAM,SAAS;gBAAQ;YACpE;QACF;IACF;AACF;AAEA,SAAS,eAAe,YAAY,EAAE,yBAAyB,EAAE,aAAa,EAAE,OAAO;IACrF,IAAI,iBAAiB,cAAc;QACjC,OAAO,aAAa,WAAW;IACjC;IACA,IAAI,iBAAiB,2BAA2B;QAC9C,OAAO,0BAA0B,WAAW;IAC9C;IACA,MAAM,kBAAkB,WACtB,QAAQ,kBAAkB,IAC1B,QAAQ,kBAAkB,CAAC,IAAI,IAC/B,QAAQ,kBAAkB,CAAC,IAAI,CAAC,IAAI,IACpC,QAAQ,kBAAkB,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO;IAC9C,IAAI,iBAAiB;QACnB,IAAI,iBAAiB,iBAAiB;YACpC,OAAO,gBAAgB,WAAW;QACpC;IACF;IACA,OAAO,cAAc,WAAW;AAClC","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 10991, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/backend/node_modules/mongoose/lib/plugins/saveSubdocs.js"],"sourcesContent":["'use strict';\n\nconst each = require('../helpers/each');\n\n/*!\n * ignore\n */\n\nmodule.exports = function saveSubdocs(schema) {\n  const unshift = true;\n  schema.s.hooks.pre('save', false, function saveSubdocsPreSave(next) {\n    if (this.$isSubdocument) {\n      next();\n      return;\n    }\n\n    const _this = this;\n    const subdocs = this.$getAllSubdocs({ useCache: true });\n\n    if (!subdocs.length) {\n      next();\n      return;\n    }\n\n    each(subdocs, function(subdoc, cb) {\n      subdoc.$__schema.s.hooks.execPre('save', subdoc, function(err) {\n        cb(err);\n      });\n    }, function(error) {\n      // Invalidate subdocs cache because subdoc pre hooks can add new subdocuments\n      if (_this.$__.saveOptions) {\n        _this.$__.saveOptions.__subdocs = null;\n      }\n      if (error) {\n        return _this.$__schema.s.hooks.execPost('save:error', _this, [_this], { error: error }, function(error) {\n          next(error);\n        });\n      }\n      next();\n    });\n  }, null, unshift);\n\n  schema.s.hooks.post('save', async function saveSubdocsPostDeleteOne() {\n    const removedSubdocs = this.$__.removedSubdocs;\n    if (!removedSubdocs || !removedSubdocs.length) {\n      return;\n    }\n\n    const promises = [];\n    for (const subdoc of removedSubdocs) {\n      promises.push(new Promise((resolve, reject) => {\n        subdoc.$__schema.s.hooks.execPost('deleteOne', subdoc, [subdoc], function(err) {\n          if (err) {\n            return reject(err);\n          }\n          resolve();\n        });\n      }));\n    }\n\n    this.$__.removedSubdocs = null;\n    await Promise.all(promises);\n  });\n\n  schema.s.hooks.post('save', async function saveSubdocsPostSave() {\n    if (this.$isSubdocument) {\n      return;\n    }\n\n    const _this = this;\n    const subdocs = this.$getAllSubdocs({ useCache: true });\n\n    if (!subdocs.length) {\n      return;\n    }\n\n    const promises = [];\n    for (const subdoc of subdocs) {\n      promises.push(new Promise((resolve, reject) => {\n        subdoc.$__schema.s.hooks.execPost('save', subdoc, [subdoc], function(err) {\n          if (err) {\n            return reject(err);\n          }\n          resolve();\n        });\n      }));\n    }\n\n    try {\n      await Promise.all(promises);\n    } catch (error) {\n      await new Promise((resolve, reject) => {\n        this.$__schema.s.hooks.execPost('save:error', _this, [_this], { error: error }, function(error) {\n          if (error) {\n            return reject(error);\n          }\n          resolve();\n        });\n      });\n    }\n  }, null, unshift);\n};\n"],"names":[],"mappings":"AAEA,MAAM;AAEN;;CAEC,GAED,OAAO,OAAO,GAAG,SAAS,YAAY,MAAM;IAC1C,MAAM,UAAU;IAChB,OAAO,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,QAAQ,OAAO,SAAS,mBAAmB,IAAI;QAChE,IAAI,IAAI,CAAC,cAAc,EAAE;YACvB;YACA;QACF;QAEA,MAAM,QAAQ,IAAI;QAClB,MAAM,UAAU,IAAI,CAAC,cAAc,CAAC;YAAE,UAAU;QAAK;QAErD,IAAI,CAAC,QAAQ,MAAM,EAAE;YACnB;YACA;QACF;QAEA,KAAK,SAAS,SAAS,MAAM,EAAE,EAAE;YAC/B,OAAO,SAAS,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,QAAQ,QAAQ,SAAS,GAAG;gBAC3D,GAAG;YACL;QACF,GAAG,SAAS,KAAK;YACf,6EAA6E;YAC7E,IAAI,MAAM,GAAG,CAAC,WAAW,EAAE;gBACzB,MAAM,GAAG,CAAC,WAAW,CAAC,SAAS,GAAG;YACpC;YACA,IAAI,OAAO;gBACT,OAAO,MAAM,SAAS,CAAC,CAAC,CAAC,KAAK,CAAC,QAAQ,CAAC,cAAc,OAAO;oBAAC;iBAAM,EAAE;oBAAE,OAAO;gBAAM,GAAG,SAAS,KAAK;oBACpG,KAAK;gBACP;YACF;YACA;QACF;IACF,GAAG,MAAM;IAET,OAAO,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,QAAQ,eAAe;QACzC,MAAM,iBAAiB,IAAI,CAAC,GAAG,CAAC,cAAc;QAC9C,IAAI,CAAC,kBAAkB,CAAC,eAAe,MAAM,EAAE;YAC7C;QACF;QAEA,MAAM,WAAW,EAAE;QACnB,KAAK,MAAM,UAAU,eAAgB;YACnC,SAAS,IAAI,CAAC,IAAI,QAAQ,CAAC,SAAS;gBAClC,OAAO,SAAS,CAAC,CAAC,CAAC,KAAK,CAAC,QAAQ,CAAC,aAAa,QAAQ;oBAAC;iBAAO,EAAE,SAAS,GAAG;oBAC3E,IAAI,KAAK;wBACP,OAAO,OAAO;oBAChB;oBACA;gBACF;YACF;QACF;QAEA,IAAI,CAAC,GAAG,CAAC,cAAc,GAAG;QAC1B,MAAM,QAAQ,GAAG,CAAC;IACpB;IAEA,OAAO,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,QAAQ,eAAe;QACzC,IAAI,IAAI,CAAC,cAAc,EAAE;YACvB;QACF;QAEA,MAAM,QAAQ,IAAI;QAClB,MAAM,UAAU,IAAI,CAAC,cAAc,CAAC;YAAE,UAAU;QAAK;QAErD,IAAI,CAAC,QAAQ,MAAM,EAAE;YACnB;QACF;QAEA,MAAM,WAAW,EAAE;QACnB,KAAK,MAAM,UAAU,QAAS;YAC5B,SAAS,IAAI,CAAC,IAAI,QAAQ,CAAC,SAAS;gBAClC,OAAO,SAAS,CAAC,CAAC,CAAC,KAAK,CAAC,QAAQ,CAAC,QAAQ,QAAQ;oBAAC;iBAAO,EAAE,SAAS,GAAG;oBACtE,IAAI,KAAK;wBACP,OAAO,OAAO;oBAChB;oBACA;gBACF;YACF;QACF;QAEA,IAAI;YACF,MAAM,QAAQ,GAAG,CAAC;QACpB,EAAE,OAAO,OAAO;YACd,MAAM,IAAI,QAAQ,CAAC,SAAS;gBAC1B,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,KAAK,CAAC,QAAQ,CAAC,cAAc,OAAO;oBAAC;iBAAM,EAAE;oBAAE,OAAO;gBAAM,GAAG,SAAS,KAAK;oBAC5F,IAAI,OAAO;wBACT,OAAO,OAAO;oBAChB;oBACA;gBACF;YACF;QACF;IACF,GAAG,MAAM;AACX","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 11097, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/backend/node_modules/mongoose/lib/plugins/sharding.js"],"sourcesContent":["'use strict';\n\nconst objectIdSymbol = require('../helpers/symbols').objectIdSymbol;\nconst utils = require('../utils');\n\n/*!\n * ignore\n */\n\nmodule.exports = function shardingPlugin(schema) {\n  schema.post('init', function shardingPluginPostInit() {\n    storeShard.call(this);\n    return this;\n  });\n  schema.pre('save', function shardingPluginPreSave(next) {\n    applyWhere.call(this);\n    next();\n  });\n  schema.pre('deleteOne', { document: true, query: false }, function shardingPluginPreRemove(next) {\n    applyWhere.call(this);\n    next();\n  });\n  schema.post('save', function shardingPluginPostSave() {\n    storeShard.call(this);\n  });\n};\n\n/*!\n * ignore\n */\n\nfunction applyWhere() {\n  let paths;\n  let len;\n\n  if (this.$__.shardval) {\n    paths = Object.keys(this.$__.shardval);\n    len = paths.length;\n\n    this.$where = this.$where || {};\n    for (let i = 0; i < len; ++i) {\n      this.$where[paths[i]] = this.$__.shardval[paths[i]];\n    }\n  }\n}\n\n/*!\n * ignore\n */\n\nmodule.exports.storeShard = storeShard;\n\n/*!\n * ignore\n */\n\nfunction storeShard() {\n  // backwards compat\n  const key = this.$__schema.options.shardKey || this.$__schema.options.shardkey;\n  if (!utils.isPOJO(key)) {\n    return;\n  }\n\n  const orig = this.$__.shardval = {};\n  const paths = Object.keys(key);\n  const len = paths.length;\n  let val;\n\n  for (let i = 0; i < len; ++i) {\n    val = this.$__getValue(paths[i]);\n    if (val == null) {\n      orig[paths[i]] = val;\n    } else if (utils.isMongooseObject(val)) {\n      orig[paths[i]] = val.toObject({ depopulate: true, _isNested: true });\n    } else if (val instanceof Date || val[objectIdSymbol]) {\n      orig[paths[i]] = val;\n    } else if (typeof val.valueOf === 'function') {\n      orig[paths[i]] = val.valueOf();\n    } else {\n      orig[paths[i]] = val;\n    }\n  }\n}\n"],"names":[],"mappings":"AAEA,MAAM,iBAAiB,6GAA8B,cAAc;AACnE,MAAM;AAEN;;CAEC,GAED,OAAO,OAAO,GAAG,SAAS,eAAe,MAAM;IAC7C,OAAO,IAAI,CAAC,QAAQ,SAAS;QAC3B,WAAW,IAAI,CAAC,IAAI;QACpB,OAAO,IAAI;IACb;IACA,OAAO,GAAG,CAAC,QAAQ,SAAS,sBAAsB,IAAI;QACpD,WAAW,IAAI,CAAC,IAAI;QACpB;IACF;IACA,OAAO,GAAG,CAAC,aAAa;QAAE,UAAU;QAAM,OAAO;IAAM,GAAG,SAAS,wBAAwB,IAAI;QAC7F,WAAW,IAAI,CAAC,IAAI;QACpB;IACF;IACA,OAAO,IAAI,CAAC,QAAQ,SAAS;QAC3B,WAAW,IAAI,CAAC,IAAI;IACtB;AACF;AAEA;;CAEC,GAED,SAAS;IACP,IAAI;IACJ,IAAI;IAEJ,IAAI,IAAI,CAAC,GAAG,CAAC,QAAQ,EAAE;QACrB,QAAQ,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,QAAQ;QACrC,MAAM,MAAM,MAAM;QAElB,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,IAAI,CAAC;QAC9B,IAAK,IAAI,IAAI,GAAG,IAAI,KAAK,EAAE,EAAG;YAC5B,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,KAAK,CAAC,EAAE,CAAC;QACrD;IACF;AACF;AAEA;;CAEC,GAED,OAAO,OAAO,CAAC,UAAU,GAAG;AAE5B;;CAEC,GAED,SAAS;IACP,mBAAmB;IACnB,MAAM,MAAM,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,QAAQ,IAAI,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,QAAQ;IAC9E,IAAI,CAAC,MAAM,MAAM,CAAC,MAAM;QACtB;IACF;IAEA,MAAM,OAAO,IAAI,CAAC,GAAG,CAAC,QAAQ,GAAG,CAAC;IAClC,MAAM,QAAQ,OAAO,IAAI,CAAC;IAC1B,MAAM,MAAM,MAAM,MAAM;IACxB,IAAI;IAEJ,IAAK,IAAI,IAAI,GAAG,IAAI,KAAK,EAAE,EAAG;QAC5B,MAAM,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,EAAE;QAC/B,IAAI,OAAO,MAAM;YACf,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,GAAG;QACnB,OAAO,IAAI,MAAM,gBAAgB,CAAC,MAAM;YACtC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,GAAG,IAAI,QAAQ,CAAC;gBAAE,YAAY;gBAAM,WAAW;YAAK;QACpE,OAAO,IAAI,eAAe,QAAQ,GAAG,CAAC,eAAe,EAAE;YACrD,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,GAAG;QACnB,OAAO,IAAI,OAAO,IAAI,OAAO,KAAK,YAAY;YAC5C,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,GAAG,IAAI,OAAO;QAC9B,OAAO;YACL,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,GAAG;QACnB;IACF;AACF","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 11172, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/backend/node_modules/mongoose/lib/plugins/trackTransaction.js"],"sourcesContent":["'use strict';\n\nconst arrayAtomicsSymbol = require('../helpers/symbols').arrayAtomicsSymbol;\nconst sessionNewDocuments = require('../helpers/symbols').sessionNewDocuments;\nconst utils = require('../utils');\n\nmodule.exports = function trackTransaction(schema) {\n  schema.pre('save', function trackTransactionPreSave() {\n    const session = this.$session();\n    if (session == null) {\n      return;\n    }\n    if (session.transaction == null || session[sessionNewDocuments] == null) {\n      return;\n    }\n\n    if (!session[sessionNewDocuments].has(this)) {\n      const initialState = {};\n      if (this.isNew) {\n        initialState.isNew = true;\n      }\n      if (this.$__schema.options.versionKey) {\n        initialState.versionKey = this.get(this.$__schema.options.versionKey);\n      }\n\n      initialState.modifiedPaths = new Set(Object.keys(this.$__.activePaths.getStatePaths('modify')));\n      initialState.atomics = _getAtomics(this);\n\n      session[sessionNewDocuments].set(this, initialState);\n    }\n  });\n};\n\nfunction _getAtomics(doc, previous) {\n  const pathToAtomics = new Map();\n  previous = previous || new Map();\n\n  const pathsToCheck = Object.keys(doc.$__.activePaths.init).concat(Object.keys(doc.$__.activePaths.modify));\n\n  for (const path of pathsToCheck) {\n    const val = doc.$__getValue(path);\n    if (val != null &&\n        Array.isArray(val) &&\n        utils.isMongooseDocumentArray(val) &&\n        val.length &&\n        val[arrayAtomicsSymbol] != null &&\n        Object.keys(val[arrayAtomicsSymbol]).length !== 0) {\n      const existing = previous.get(path) || {};\n      pathToAtomics.set(path, mergeAtomics(existing, val[arrayAtomicsSymbol]));\n    }\n  }\n\n  const dirty = doc.$__dirty();\n  for (const dirt of dirty) {\n    const path = dirt.path;\n\n    const val = dirt.value;\n    if (val != null && val[arrayAtomicsSymbol] != null && Object.keys(val[arrayAtomicsSymbol]).length !== 0) {\n      const existing = previous.get(path) || {};\n      pathToAtomics.set(path, mergeAtomics(existing, val[arrayAtomicsSymbol]));\n    }\n  }\n\n  return pathToAtomics;\n}\n\nfunction mergeAtomics(destination, source) {\n  destination = destination || {};\n\n  if (source.$pullAll != null) {\n    destination.$pullAll = (destination.$pullAll || []).concat(source.$pullAll);\n  }\n  if (source.$push != null) {\n    destination.$push = destination.$push || {};\n    destination.$push.$each = (destination.$push.$each || []).concat(source.$push.$each);\n  }\n  if (source.$addToSet != null) {\n    destination.$addToSet = (destination.$addToSet || []).concat(source.$addToSet);\n  }\n  if (source.$set != null) {\n    destination.$set = Array.isArray(source.$set) ? [...source.$set] : Object.assign({}, source.$set);\n  }\n\n  return destination;\n}\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 11243, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/backend/node_modules/mongoose/lib/plugins/validateBeforeSave.js"],"sourcesContent":["'use strict';\n\n/*!\n * ignore\n */\n\nmodule.exports = function validateBeforeSave(schema) {\n  const unshift = true;\n  schema.pre('save', false, function validateBeforeSave(next, options) {\n    const _this = this;\n    // Nested docs have their own presave\n    if (this.$isSubdocument) {\n      return next();\n    }\n\n    const hasValidateBeforeSaveOption = options &&\n        (typeof options === 'object') &&\n        ('validateBeforeSave' in options);\n\n    let shouldValidate;\n    if (hasValidateBeforeSaveOption) {\n      shouldValidate = !!options.validateBeforeSave;\n    } else {\n      shouldValidate = this.$__schema.options.validateBeforeSave;\n    }\n\n    // Validate\n    if (shouldValidate) {\n      const hasValidateModifiedOnlyOption = options &&\n          (typeof options === 'object') &&\n          ('validateModifiedOnly' in options);\n      const validateOptions = hasValidateModifiedOnlyOption ?\n        { validateModifiedOnly: options.validateModifiedOnly } :\n        null;\n      this.$validate(validateOptions).then(\n        () => {\n          this.$op = 'save';\n          next();\n        },\n        error => {\n          _this.$__schema.s.hooks.execPost('save:error', _this, [_this], { error: error }, function(error) {\n            _this.$op = 'save';\n            next(error);\n          });\n        }\n      );\n    } else {\n      next();\n    }\n  }, null, unshift);\n};\n"],"names":[],"mappings":"AAEA;;CAEC,GAED,OAAO,OAAO,GAAG,SAAS,mBAAmB,MAAM;IACjD,MAAM,UAAU;IAChB,OAAO,GAAG,CAAC,QAAQ,OAAO,SAAS,mBAAmB,IAAI,EAAE,OAAO;QACjE,MAAM,QAAQ,IAAI;QAClB,qCAAqC;QACrC,IAAI,IAAI,CAAC,cAAc,EAAE;YACvB,OAAO;QACT;QAEA,MAAM,8BAA8B,WAC/B,OAAO,YAAY,YACnB,wBAAwB;QAE7B,IAAI;QACJ,IAAI,6BAA6B;YAC/B,iBAAiB,CAAC,CAAC,QAAQ,kBAAkB;QAC/C,OAAO;YACL,iBAAiB,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,kBAAkB;QAC5D;QAEA,WAAW;QACX,IAAI,gBAAgB;YAClB,MAAM,gCAAgC,WACjC,OAAO,YAAY,YACnB,0BAA0B;YAC/B,MAAM,kBAAkB,gCACtB;gBAAE,sBAAsB,QAAQ,oBAAoB;YAAC,IACrD;YACF,IAAI,CAAC,SAAS,CAAC,iBAAiB,IAAI,CAClC;gBACE,IAAI,CAAC,GAAG,GAAG;gBACX;YACF,GACA,CAAA;gBACE,MAAM,SAAS,CAAC,CAAC,CAAC,KAAK,CAAC,QAAQ,CAAC,cAAc,OAAO;oBAAC;iBAAM,EAAE;oBAAE,OAAO;gBAAM,GAAG,SAAS,KAAK;oBAC7F,MAAM,GAAG,GAAG;oBACZ,KAAK;gBACP;YACF;QAEJ,OAAO;YACL;QACF;IACF,GAAG,MAAM;AACX","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 11288, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/backend/node_modules/mongoose/lib/plugins/index.js"],"sourcesContent":["'use strict';\n\nexports.saveSubdocs = require('./saveSubdocs');\nexports.sharding = require('./sharding');\nexports.trackTransaction = require('./trackTransaction');\nexports.validateBeforeSave = require('./validateBeforeSave');\n"],"names":[],"mappings":"AAEA,QAAQ,WAAW;AACnB,QAAQ,QAAQ;AAChB,QAAQ,gBAAgB;AACxB,QAAQ,kBAAkB","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 11296, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/backend/node_modules/mongoose/lib/constants.js"],"sourcesContent":["'use strict';\n\n/*!\n * ignore\n */\n\nconst queryOperations = Object.freeze([\n  // Read\n  'countDocuments',\n  'distinct',\n  'estimatedDocumentCount',\n  'find',\n  'findOne',\n  // Update\n  'findOneAndReplace',\n  'findOneAndUpdate',\n  'replaceOne',\n  'updateMany',\n  'updateOne',\n  // Delete\n  'deleteMany',\n  'deleteOne',\n  'findOneAndDelete'\n]);\n\nexports.queryOperations = queryOperations;\n\n/*!\n * ignore\n */\n\nconst queryMiddlewareFunctions = queryOperations.concat([\n  'validate'\n]);\n\nexports.queryMiddlewareFunctions = queryMiddlewareFunctions;\n\n/*!\n * ignore\n */\n\nconst aggregateMiddlewareFunctions = [\n  'aggregate'\n];\n\nexports.aggregateMiddlewareFunctions = aggregateMiddlewareFunctions;\n\n/*!\n * ignore\n */\n\nconst modelMiddlewareFunctions = [\n  'bulkWrite',\n  'createCollection',\n  'insertMany'\n];\n\nexports.modelMiddlewareFunctions = modelMiddlewareFunctions;\n\n/*!\n * ignore\n */\n\nconst documentMiddlewareFunctions = [\n  'validate',\n  'save',\n  'remove',\n  'updateOne',\n  'deleteOne',\n  'init'\n];\n\nexports.documentMiddlewareFunctions = documentMiddlewareFunctions;\n"],"names":[],"mappings":"AAEA;;CAEC,GAED,MAAM,kBAAkB,OAAO,MAAM,CAAC;IACpC,OAAO;IACP;IACA;IACA;IACA;IACA;IACA,SAAS;IACT;IACA;IACA;IACA;IACA;IACA,SAAS;IACT;IACA;IACA;CACD;AAED,QAAQ,eAAe,GAAG;AAE1B;;CAEC,GAED,MAAM,2BAA2B,gBAAgB,MAAM,CAAC;IACtD;CACD;AAED,QAAQ,wBAAwB,GAAG;AAEnC;;CAEC,GAED,MAAM,+BAA+B;IACnC;CACD;AAED,QAAQ,4BAA4B,GAAG;AAEvC;;CAEC,GAED,MAAM,2BAA2B;IAC/B;IACA;IACA;CACD;AAED,QAAQ,wBAAwB,GAAG;AAEnC;;CAEC,GAED,MAAM,8BAA8B;IAClC;IACA;IACA;IACA;IACA;IACA;CACD;AAED,QAAQ,2BAA2B,GAAG","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 11352, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/backend/node_modules/mongoose/lib/schema.js"],"sourcesContent":["'use strict';\n\n/*!\n * Module dependencies.\n */\n\nconst EventEmitter = require('events').EventEmitter;\nconst Kareem = require('kareem');\nconst MongooseError = require('./error/mongooseError');\nconst SchemaType = require('./schemaType');\nconst SchemaTypeOptions = require('./options/schemaTypeOptions');\nconst VirtualOptions = require('./options/virtualOptions');\nconst VirtualType = require('./virtualType');\nconst addAutoId = require('./helpers/schema/addAutoId');\nconst clone = require('./helpers/clone');\nconst get = require('./helpers/get');\nconst getConstructorName = require('./helpers/getConstructorName');\nconst getIndexes = require('./helpers/schema/getIndexes');\nconst handleReadPreferenceAliases = require('./helpers/query/handleReadPreferenceAliases');\nconst idGetter = require('./helpers/schema/idGetter');\nconst isIndexSpecEqual = require('./helpers/indexes/isIndexSpecEqual');\nconst merge = require('./helpers/schema/merge');\nconst mpath = require('mpath');\nconst setPopulatedVirtualValue = require('./helpers/populate/setPopulatedVirtualValue');\nconst setupTimestamps = require('./helpers/timestamps/setupTimestamps');\nconst utils = require('./utils');\nconst validateRef = require('./helpers/populate/validateRef');\n\nconst hasNumericSubpathRegex = /\\.\\d+(\\.|$)/;\n\nlet MongooseTypes;\n\nconst queryHooks = require('./constants').queryMiddlewareFunctions;\nconst documentHooks = require('./helpers/model/applyHooks').middlewareFunctions;\nconst hookNames = queryHooks.concat(documentHooks).\n  reduce((s, hook) => s.add(hook), new Set());\n\nconst isPOJO = utils.isPOJO;\n\nlet id = 0;\n\nconst numberRE = /^\\d+$/;\n\n/**\n * Schema constructor.\n *\n * #### Example:\n *\n *     const child = new Schema({ name: String });\n *     const schema = new Schema({ name: String, age: Number, children: [child] });\n *     const Tree = mongoose.model('Tree', schema);\n *\n *     // setting schema options\n *     new Schema({ name: String }, { id: false, autoIndex: false })\n *\n * #### Options:\n *\n * - [autoIndex](https://mongoosejs.com/docs/guide.html#autoIndex): bool - defaults to null (which means use the connection's autoIndex option)\n * - [autoCreate](https://mongoosejs.com/docs/guide.html#autoCreate): bool - defaults to null (which means use the connection's autoCreate option)\n * - [bufferCommands](https://mongoosejs.com/docs/guide.html#bufferCommands): bool - defaults to true\n * - [bufferTimeoutMS](https://mongoosejs.com/docs/guide.html#bufferTimeoutMS): number - defaults to 10000 (10 seconds). If `bufferCommands` is enabled, the amount of time Mongoose will wait for connectivity to be restablished before erroring out.\n * - [capped](https://mongoosejs.com/docs/guide.html#capped): bool | number | object - defaults to false\n * - [collection](https://mongoosejs.com/docs/guide.html#collection): string - no default\n * - [discriminatorKey](https://mongoosejs.com/docs/guide.html#discriminatorKey): string - defaults to `__t`\n * - [id](https://mongoosejs.com/docs/guide.html#id): bool - defaults to true\n * - [_id](https://mongoosejs.com/docs/guide.html#_id): bool - defaults to true\n * - [minimize](https://mongoosejs.com/docs/guide.html#minimize): bool - controls [document#toObject](https://mongoosejs.com/docs/api/document.html#Document.prototype.toObject()) behavior when called manually - defaults to true\n * - [read](https://mongoosejs.com/docs/guide.html#read): string\n * - [readConcern](https://mongoosejs.com/docs/guide.html#readConcern): object - defaults to null, use to set a default [read concern](https://www.mongodb.com/docs/manual/reference/read-concern/) for all queries.\n * - [writeConcern](https://mongoosejs.com/docs/guide.html#writeConcern): object - defaults to null, use to override [the MongoDB server's default write concern settings](https://www.mongodb.com/docs/manual/reference/write-concern/)\n * - [shardKey](https://mongoosejs.com/docs/guide.html#shardKey): object - defaults to `null`\n * - [strict](https://mongoosejs.com/docs/guide.html#strict): bool - defaults to true\n * - [strictQuery](https://mongoosejs.com/docs/guide.html#strictQuery): bool - defaults to false\n * - [toJSON](https://mongoosejs.com/docs/guide.html#toJSON) - object - no default\n * - [toObject](https://mongoosejs.com/docs/guide.html#toObject) - object - no default\n * - [typeKey](https://mongoosejs.com/docs/guide.html#typeKey) - string - defaults to 'type'\n * - [validateBeforeSave](https://mongoosejs.com/docs/guide.html#validateBeforeSave) - bool - defaults to `true`\n * - [validateModifiedOnly](https://mongoosejs.com/docs/api/document.html#Document.prototype.validate()) - bool - defaults to `false`\n * - [versionKey](https://mongoosejs.com/docs/guide.html#versionKey): string or object - defaults to \"__v\"\n * - [optimisticConcurrency](https://mongoosejs.com/docs/guide.html#optimisticConcurrency): bool or string[] or { exclude: string[] } - defaults to false. Set to true to enable [optimistic concurrency](https://thecodebarbarian.com/whats-new-in-mongoose-5-10-optimistic-concurrency.html). Set to string array to enable optimistic concurrency for only certain fields, or `{ exclude: string[] }` to define a list of fields to ignore for optimistic concurrency.\n * - [collation](https://mongoosejs.com/docs/guide.html#collation): object - defaults to null (which means use no collation)\n * - [timeseries](https://mongoosejs.com/docs/guide.html#timeseries): object - defaults to null (which means this schema's collection won't be a timeseries collection)\n * - [selectPopulatedPaths](https://mongoosejs.com/docs/guide.html#selectPopulatedPaths): boolean - defaults to `true`\n * - [skipVersioning](https://mongoosejs.com/docs/guide.html#skipVersioning): object - paths to exclude from versioning\n * - [timestamps](https://mongoosejs.com/docs/guide.html#timestamps): object or boolean - defaults to `false`. If true, Mongoose adds `createdAt` and `updatedAt` properties to your schema and manages those properties for you.\n * - [pluginTags](https://mongoosejs.com/docs/guide.html#pluginTags): array of strings - defaults to `undefined`. If set and plugin called with `tags` option, will only apply that plugin to schemas with a matching tag.\n * - [virtuals](https://mongoosejs.com/docs/tutorials/virtuals.html#virtuals-via-schema-options): object - virtuals to define, alias for [`.virtual`](https://mongoosejs.com/docs/api/schema.html#Schema.prototype.virtual())\n * - [collectionOptions]: object with options passed to [`createCollection()`](https://www.mongodb.com/docs/manual/reference/method/db.createCollection/) when calling `Model.createCollection()` or `autoCreate` set to true.\n * - [encryptionType]: the encryption type for the schema.  Valid options are `csfle` or `queryableEncryption`.  See https://mongoosejs.com/docs/field-level-encryption.\n *\n * #### Options for Nested Schemas:\n *\n * - `excludeIndexes`: bool - defaults to `false`. If `true`, skip building indexes on this schema's paths.\n *\n * #### Note:\n *\n * _When nesting schemas, (`children` in the example above), always declare the child schema first before passing it into its parent._\n *\n * @param {Object|Schema|Array} [definition] Can be one of: object describing schema paths, or schema to copy, or array of objects and schemas\n * @param {Object} [options]\n * @inherits NodeJS EventEmitter https://nodejs.org/api/events.html#class-eventemitter\n * @event `init`: Emitted after the schema is compiled into a `Model`.\n * @api public\n */\n\nfunction Schema(obj, options) {\n  if (!(this instanceof Schema)) {\n    return new Schema(obj, options);\n  }\n\n  this.obj = obj;\n  this.paths = {};\n  this.aliases = {};\n  this.subpaths = {};\n  this.virtuals = {};\n  this.singleNestedPaths = {};\n  this.nested = {};\n  this.inherits = {};\n  this.callQueue = [];\n  this._indexes = [];\n  this._searchIndexes = [];\n  this.methods = (options && options.methods) || {};\n  this.methodOptions = {};\n  this.statics = (options && options.statics) || {};\n  this.tree = {};\n  this.query = (options && options.query) || {};\n  this.childSchemas = [];\n  this.plugins = [];\n  // For internal debugging. Do not use this to try to save a schema in MDB.\n  this.$id = ++id;\n  this.mapPaths = [];\n  this.encryptedFields = {};\n\n  this.s = {\n    hooks: new Kareem()\n  };\n  this.options = this.defaultOptions(options);\n\n  // build paths\n  if (Array.isArray(obj)) {\n    for (const definition of obj) {\n      this.add(definition);\n    }\n  } else if (obj) {\n    this.add(obj);\n  }\n\n  // build virtual paths\n  if (options && options.virtuals) {\n    const virtuals = options.virtuals;\n    const pathNames = Object.keys(virtuals);\n    for (const pathName of pathNames) {\n      const pathOptions = virtuals[pathName].options ? virtuals[pathName].options : undefined;\n      const virtual = this.virtual(pathName, pathOptions);\n\n      if (virtuals[pathName].get) {\n        virtual.get(virtuals[pathName].get);\n      }\n\n      if (virtuals[pathName].set) {\n        virtual.set(virtuals[pathName].set);\n      }\n    }\n  }\n\n  // check if _id's value is a subdocument (gh-2276)\n  const _idSubDoc = obj && obj._id && utils.isObject(obj._id);\n\n  // ensure the documents get an auto _id unless disabled\n  const auto_id = !this.paths['_id'] &&\n      (this.options._id) && !_idSubDoc;\n\n  if (auto_id) {\n    addAutoId(this);\n  }\n\n  this.setupTimestamp(this.options.timestamps);\n}\n\n/**\n * Create virtual properties with alias field\n * @api private\n */\nfunction aliasFields(schema, paths) {\n  for (const path of Object.keys(paths)) {\n    let alias = null;\n    if (paths[path] != null) {\n      alias = paths[path];\n    } else {\n      const options = get(schema.paths[path], 'options');\n      if (options == null) {\n        continue;\n      }\n\n      alias = options.alias;\n    }\n\n    if (!alias) {\n      continue;\n    }\n\n    const prop = schema.paths[path].path;\n    if (Array.isArray(alias)) {\n      for (const a of alias) {\n        if (typeof a !== 'string') {\n          throw new Error('Invalid value for alias option on ' + prop + ', got ' + a);\n        }\n\n        schema.aliases[a] = prop;\n\n        schema.\n          virtual(a).\n          get((function(p) {\n            return function() {\n              if (typeof this.get === 'function') {\n                return this.get(p);\n              }\n              return this[p];\n            };\n          })(prop)).\n          set((function(p) {\n            return function(v) {\n              return this.$set(p, v);\n            };\n          })(prop));\n      }\n\n      continue;\n    }\n\n    if (typeof alias !== 'string') {\n      throw new Error('Invalid value for alias option on ' + prop + ', got ' + alias);\n    }\n\n    schema.aliases[alias] = prop;\n\n    schema.\n      virtual(alias).\n      get((function(p) {\n        return function() {\n          if (typeof this.get === 'function') {\n            return this.get(p);\n          }\n          return this[p];\n        };\n      })(prop)).\n      set((function(p) {\n        return function(v) {\n          return this.$set(p, v);\n        };\n      })(prop));\n  }\n}\n\n/*!\n * Inherit from EventEmitter.\n */\nSchema.prototype = Object.create(EventEmitter.prototype);\nSchema.prototype.constructor = Schema;\nSchema.prototype.instanceOfSchema = true;\n\n/*!\n * ignore\n */\n\nObject.defineProperty(Schema.prototype, '$schemaType', {\n  configurable: false,\n  enumerable: false,\n  writable: true\n});\n\n/**\n * Array of child schemas (from document arrays and single nested subdocs)\n * and their corresponding compiled models. Each element of the array is\n * an object with 2 properties: `schema` and `model`.\n *\n * This property is typically only useful for plugin authors and advanced users.\n * You do not need to interact with this property at all to use mongoose.\n *\n * @api public\n * @property childSchemas\n * @memberOf Schema\n * @instance\n */\n\nObject.defineProperty(Schema.prototype, 'childSchemas', {\n  configurable: false,\n  enumerable: true,\n  writable: true\n});\n\n/**\n * Object containing all virtuals defined on this schema.\n * The objects' keys are the virtual paths and values are instances of `VirtualType`.\n *\n * This property is typically only useful for plugin authors and advanced users.\n * You do not need to interact with this property at all to use mongoose.\n *\n * #### Example:\n *\n *     const schema = new Schema({});\n *     schema.virtual('answer').get(() => 42);\n *\n *     console.log(schema.virtuals); // { answer: VirtualType { path: 'answer', ... } }\n *     console.log(schema.virtuals['answer'].getters[0].call()); // 42\n *\n * @api public\n * @property virtuals\n * @memberOf Schema\n * @instance\n */\n\nObject.defineProperty(Schema.prototype, 'virtuals', {\n  configurable: false,\n  enumerable: true,\n  writable: true\n});\n\n/**\n * The original object passed to the schema constructor\n *\n * #### Example:\n *\n *     const schema = new Schema({ a: String }).add({ b: String });\n *     schema.obj; // { a: String }\n *\n * @api public\n * @property obj\n * @memberOf Schema\n * @instance\n */\n\nSchema.prototype.obj;\n\n/**\n * The paths defined on this schema. The keys are the top-level paths\n * in this schema, and the values are instances of the SchemaType class.\n *\n * #### Example:\n *\n *     const schema = new Schema({ name: String }, { _id: false });\n *     schema.paths; // { name: SchemaString { ... } }\n *\n *     schema.add({ age: Number });\n *     schema.paths; // { name: SchemaString { ... }, age: SchemaNumber { ... } }\n *\n * @api public\n * @property paths\n * @memberOf Schema\n * @instance\n */\n\nSchema.prototype.paths;\n\n/**\n * Schema as a tree\n *\n * #### Example:\n *\n *     {\n *         '_id'     : ObjectId\n *       , 'nested'  : {\n *             'key' : String\n *         }\n *     }\n *\n * @api private\n * @property tree\n * @memberOf Schema\n * @instance\n */\n\nSchema.prototype.tree;\n\n/**\n * Returns a deep copy of the schema\n *\n * #### Example:\n *\n *     const schema = new Schema({ name: String });\n *     const clone = schema.clone();\n *     clone === schema; // false\n *     clone.path('name'); // SchemaString { ... }\n *\n * @return {Schema} the cloned schema\n * @api public\n * @memberOf Schema\n * @instance\n */\n\nSchema.prototype.clone = function() {\n  const s = this._clone();\n\n  // Bubble up `init` for backwards compat\n  s.on('init', v => this.emit('init', v));\n\n  return s;\n};\n\n/*!\n * ignore\n */\n\nSchema.prototype._clone = function _clone(Constructor) {\n  Constructor = Constructor || (this.base == null ? Schema : this.base.Schema);\n\n  const s = new Constructor({}, this._userProvidedOptions);\n  s.base = this.base;\n  s.obj = this.obj;\n  s.options = clone(this.options);\n  s.callQueue = this.callQueue.map(function(f) { return f; });\n  s.methods = clone(this.methods);\n  s.methodOptions = clone(this.methodOptions);\n  s.statics = clone(this.statics);\n  s.query = clone(this.query);\n  s.plugins = Array.prototype.slice.call(this.plugins);\n  s._indexes = clone(this._indexes);\n  s._searchIndexes = clone(this._searchIndexes);\n  s.s.hooks = this.s.hooks.clone();\n\n  s.tree = clone(this.tree);\n  s.paths = Object.fromEntries(\n    Object.entries(this.paths).map(([key, value]) => ([key, value.clone()]))\n  );\n  s.nested = clone(this.nested);\n  s.subpaths = clone(this.subpaths);\n  for (const schemaType of Object.values(s.paths)) {\n    if (schemaType.$isSingleNested) {\n      const path = schemaType.path;\n      for (const key of Object.keys(schemaType.schema.paths)) {\n        s.singleNestedPaths[path + '.' + key] = schemaType.schema.paths[key];\n      }\n      for (const key of Object.keys(schemaType.schema.singleNestedPaths)) {\n        s.singleNestedPaths[path + '.' + key] =\n          schemaType.schema.singleNestedPaths[key];\n      }\n      for (const key of Object.keys(schemaType.schema.subpaths)) {\n        s.singleNestedPaths[path + '.' + key] =\n          schemaType.schema.subpaths[key];\n      }\n      for (const key of Object.keys(schemaType.schema.nested)) {\n        s.singleNestedPaths[path + '.' + key] = 'nested';\n      }\n    }\n  }\n  s._gatherChildSchemas();\n\n  s.virtuals = clone(this.virtuals);\n  s.$globalPluginsApplied = this.$globalPluginsApplied;\n  s.$isRootDiscriminator = this.$isRootDiscriminator;\n  s.$implicitlyCreated = this.$implicitlyCreated;\n  s.$id = ++id;\n  s.$originalSchemaId = this.$id;\n  s.mapPaths = [].concat(this.mapPaths);\n\n  if (this.discriminatorMapping != null) {\n    s.discriminatorMapping = Object.assign({}, this.discriminatorMapping);\n  }\n  if (this.discriminators != null) {\n    s.discriminators = Object.assign({}, this.discriminators);\n  }\n  if (this._applyDiscriminators != null) {\n    s._applyDiscriminators = new Map(this._applyDiscriminators);\n  }\n\n  s.aliases = Object.assign({}, this.aliases);\n\n  s.encryptedFields = clone(this.encryptedFields);\n\n  return s;\n};\n\n/**\n * Returns a new schema that has the picked `paths` from this schema.\n *\n * This method is analagous to [Lodash's `pick()` function](https://lodash.com/docs/4.17.15#pick) for Mongoose schemas.\n *\n * #### Example:\n *\n *     const schema = Schema({ name: String, age: Number });\n *     // Creates a new schema with the same `name` path as `schema`,\n *     // but no `age` path.\n *     const newSchema = schema.pick(['name']);\n *\n *     newSchema.path('name'); // SchemaString { ... }\n *     newSchema.path('age'); // undefined\n *\n * @param {String[]} paths List of Paths to pick for the new Schema\n * @param {Object} [options] Options to pass to the new Schema Constructor (same as `new Schema(.., Options)`). Defaults to `this.options` if not set.\n * @return {Schema}\n * @api public\n */\n\nSchema.prototype.pick = function(paths, options) {\n  const newSchema = new Schema({}, options || this.options);\n  if (!Array.isArray(paths)) {\n    throw new MongooseError('Schema#pick() only accepts an array argument, ' +\n      'got \"' + typeof paths + '\"');\n  }\n\n  for (const path of paths) {\n    if (this._hasEncryptedField(path)) {\n      const encrypt = this.encryptedFields[path];\n      const schemaType = this.path(path);\n      newSchema.add({\n        [path]: {\n          encrypt,\n          [this.options.typeKey]: schemaType\n        }\n      });\n    } else if (this.nested[path]) {\n      newSchema.add({ [path]: get(this.tree, path) });\n    } else {\n      const schematype = this.path(path);\n      if (schematype == null) {\n        throw new MongooseError('Path `' + path + '` is not in the schema');\n      }\n      newSchema.add({ [path]: schematype });\n    }\n  }\n\n  if (!this._hasEncryptedFields()) {\n    newSchema.options.encryptionType = null;\n  }\n\n  return newSchema;\n};\n\n/**\n * Returns a new schema that has the `paths` from the original schema, minus the omitted ones.\n *\n * This method is analagous to [Lodash's `omit()` function](https://lodash.com/docs/#omit) for Mongoose schemas.\n *\n * #### Example:\n *\n *     const schema = Schema({ name: String, age: Number });\n *     // Creates a new schema omitting the `age` path\n *     const newSchema = schema.omit(['age']);\n *\n *     newSchema.path('name'); // SchemaString { ... }\n *     newSchema.path('age'); // undefined\n *\n * @param {String[]} paths List of Paths to omit for the new Schema\n * @param {Object} [options] Options to pass to the new Schema Constructor (same as `new Schema(.., Options)`). Defaults to `this.options` if not set.\n * @return {Schema}\n * @api public\n */\n\nSchema.prototype.omit = function(paths, options) {\n  const newSchema = new Schema(this, options || this.options);\n  if (!Array.isArray(paths)) {\n    throw new MongooseError(\n      'Schema#omit() only accepts an array argument, ' +\n        'got \"' +\n        typeof paths +\n        '\"'\n    );\n  }\n\n  newSchema.remove(paths);\n\n  for (const nested in newSchema.singleNestedPaths) {\n    if (paths.includes(nested)) {\n      delete newSchema.singleNestedPaths[nested];\n    }\n  }\n\n  return newSchema;\n};\n\n/**\n * Returns default options for this schema, merged with `options`.\n *\n * @param {Object} [options] Options to overwrite the default options\n * @return {Object} The merged options of `options` and the default options\n * @api private\n */\n\nSchema.prototype.defaultOptions = function(options) {\n  this._userProvidedOptions = options == null ? {} : clone(options);\n  const baseOptions = this.base && this.base.options || {};\n  const strict = 'strict' in baseOptions ? baseOptions.strict : true;\n  const strictQuery = 'strictQuery' in baseOptions ? baseOptions.strictQuery : false;\n  const id = 'id' in baseOptions ? baseOptions.id : true;\n  options = {\n    strict,\n    strictQuery,\n    bufferCommands: true,\n    capped: false, // { size, max, autoIndexId }\n    versionKey: '__v',\n    optimisticConcurrency: false,\n    minimize: true,\n    autoIndex: null,\n    discriminatorKey: '__t',\n    shardKey: null,\n    read: null,\n    validateBeforeSave: true,\n    validateModifiedOnly: false,\n    // the following are only applied at construction time\n    _id: true,\n    id: id,\n    typeKey: 'type',\n    ...options\n  };\n\n  if (options.versionKey && typeof options.versionKey !== 'string') {\n    throw new MongooseError('`versionKey` must be falsy or string, got `' + (typeof options.versionKey) + '`');\n  }\n\n  if (typeof options.read === 'string') {\n    options.read = handleReadPreferenceAliases(options.read);\n  } else if (Array.isArray(options.read) && typeof options.read[0] === 'string') {\n    options.read = {\n      mode: handleReadPreferenceAliases(options.read[0]),\n      tags: options.read[1]\n    };\n  }\n\n  if (options.optimisticConcurrency && !options.versionKey) {\n    throw new MongooseError('Must set `versionKey` if using `optimisticConcurrency`');\n  }\n\n  return options;\n};\n\n/**\n * Inherit a Schema by applying a discriminator on an existing Schema.\n *\n *\n * #### Example:\n *\n *     const eventSchema = new mongoose.Schema({ timestamp: Date }, { discriminatorKey: 'kind' });\n *\n *     const clickedEventSchema = new mongoose.Schema({ element: String }, { discriminatorKey: 'kind' });\n *     const ClickedModel = eventSchema.discriminator('clicked', clickedEventSchema);\n *\n *     const Event = mongoose.model('Event', eventSchema);\n *\n *     Event.discriminators['clicked']; // Model { clicked }\n *\n *     const doc = await Event.create({ kind: 'clicked', element: '#hero' });\n *     doc.element; // '#hero'\n *     doc instanceof ClickedModel; // true\n *\n * @param {String} name the name of the discriminator\n * @param {Schema} schema the discriminated Schema\n * @param {Object} [options] discriminator options\n * @param {String} [options.value] the string stored in the `discriminatorKey` property. If not specified, Mongoose uses the `name` parameter.\n * @param {Boolean} [options.clone=true] By default, `discriminator()` clones the given `schema`. Set to `false` to skip cloning.\n * @param {Boolean} [options.overwriteModels=false] by default, Mongoose does not allow you to define a discriminator with the same name as another discriminator. Set this to allow overwriting discriminators with the same name.\n * @param {Boolean} [options.mergeHooks=true] By default, Mongoose merges the base schema's hooks with the discriminator schema's hooks. Set this option to `false` to make Mongoose use the discriminator schema's hooks instead.\n * @param {Boolean} [options.mergePlugins=true] By default, Mongoose merges the base schema's plugins with the discriminator schema's plugins. Set this option to `false` to make Mongoose use the discriminator schema's plugins instead.\n * @return {Schema} the Schema instance\n * @api public\n */\nSchema.prototype.discriminator = function(name, schema, options) {\n  this._applyDiscriminators = this._applyDiscriminators || new Map();\n  this._applyDiscriminators.set(name, { schema, options });\n\n  return this;\n};\n\n/*!\n * Get this schema's default toObject/toJSON options, including Mongoose global\n * options.\n */\n\nSchema.prototype._defaultToObjectOptions = function(json) {\n  const path = json ? 'toJSON' : 'toObject';\n  if (this._defaultToObjectOptionsMap && this._defaultToObjectOptionsMap[path]) {\n    return this._defaultToObjectOptionsMap[path];\n  }\n\n  const baseOptions = this.base &&\n    this.base.options &&\n    this.base.options[path] || {};\n  const schemaOptions = this.options[path] || {};\n  // merge base default options with Schema's set default options if available.\n  // `clone` is necessary here because `utils.options` directly modifies the second input.\n  const defaultOptions = Object.assign({}, baseOptions, schemaOptions);\n\n  this._defaultToObjectOptionsMap = this._defaultToObjectOptionsMap || {};\n  this._defaultToObjectOptionsMap[path] = defaultOptions;\n  return defaultOptions;\n};\n\n/**\n * Sets the encryption type of the schema, if a value is provided, otherwise\n * returns the encryption type.\n *\n * @param {'csfle' | 'queryableEncryption' | null | undefined} encryptionType plain object with paths to add, or another schema\n */\nSchema.prototype.encryptionType = function encryptionType(encryptionType) {\n  if (arguments.length === 0) {\n    return this.options.encryptionType;\n  }\n  if (!(typeof encryptionType === 'string' || encryptionType === null)) {\n    throw new Error('invalid `encryptionType`: ${encryptionType}');\n  }\n  this.options.encryptionType = encryptionType;\n};\n\n/**\n * Adds key path / schema type pairs to this schema.\n *\n * #### Example:\n *\n *     const ToySchema = new Schema();\n *     ToySchema.add({ name: 'string', color: 'string', price: 'number' });\n *\n *     const TurboManSchema = new Schema();\n *     // You can also `add()` another schema and copy over all paths, virtuals,\n *     // getters, setters, indexes, methods, and statics.\n *     TurboManSchema.add(ToySchema).add({ year: Number });\n *\n * @param {Object|Schema} obj plain object with paths to add, or another schema\n * @param {String} [prefix] path to prefix the newly added paths with\n * @return {Schema} the Schema instance\n * @api public\n */\n\nSchema.prototype.add = function add(obj, prefix) {\n  if (obj instanceof Schema || (obj != null && obj.instanceOfSchema)) {\n    merge(this, obj);\n    return this;\n  }\n\n  // Special case: setting top-level `_id` to false should convert to disabling\n  // the `_id` option. This behavior never worked before 5.4.11 but numerous\n  // codebases use it (see gh-7516, gh-7512).\n  if (obj._id === false && prefix == null) {\n    this.options._id = false;\n  }\n\n  prefix = prefix || '';\n  // avoid prototype pollution\n  if (prefix === '__proto__.' || prefix === 'constructor.' || prefix === 'prototype.') {\n    return this;\n  }\n\n  const keys = Object.keys(obj);\n  const typeKey = this.options.typeKey;\n  for (const key of keys) {\n    if (utils.specialProperties.has(key)) {\n      continue;\n    }\n\n    const fullPath = prefix + key;\n    const val = obj[key];\n\n    if (val == null) {\n      throw new TypeError('Invalid value for schema path `' + fullPath +\n        '`, got value \"' + val + '\"');\n    }\n    // Retain `_id: false` but don't set it as a path, re: gh-8274.\n    if (key === '_id' && val === false) {\n      continue;\n    }\n    // Deprecate setting schema paths to primitive types (gh-7558)\n    let isMongooseTypeString = false;\n    if (typeof val === 'string') {\n      // Handle the case in which the type is specified as a string (eg. 'date', 'oid', ...)\n      const MongooseTypes = this.base != null ? this.base.Schema.Types : Schema.Types;\n      const upperVal = val.charAt(0).toUpperCase() + val.substring(1);\n      isMongooseTypeString = MongooseTypes[upperVal] != null;\n    }\n    if (\n      key !== '_id' &&\n      ((typeof val !== 'object' && typeof val !== 'function' && !isMongooseTypeString) ||\n      val == null)\n    ) {\n      throw new TypeError(`Invalid schema configuration: \\`${val}\\` is not ` +\n        `a valid type at path \\`${key}\\`. See ` +\n        'https://bit.ly/mongoose-schematypes for a list of valid schema types.');\n    }\n    if (val instanceof VirtualType || (val.constructor && val.constructor.name || null) === 'VirtualType') {\n      this.virtual(val);\n      continue;\n    }\n\n    if (Array.isArray(val) && val.length === 1 && val[0] == null) {\n      throw new TypeError('Invalid value for schema Array path `' + fullPath +\n        '`, got value \"' + val[0] + '\"');\n    }\n\n    if (!(isPOJO(val) || val instanceof SchemaTypeOptions)) {\n      // Special-case: Non-options definitely a path so leaf at this node\n      // Examples: Schema instances, SchemaType instances\n      if (prefix) {\n        this.nested[prefix.substring(0, prefix.length - 1)] = true;\n      }\n      this.path(prefix + key, val);\n      if (val[0] != null && !(val[0].instanceOfSchema) && utils.isPOJO(val[0].discriminators)) {\n        const schemaType = this.path(prefix + key);\n        for (const key in val[0].discriminators) {\n          schemaType.discriminator(key, val[0].discriminators[key]);\n        }\n      }\n    } else if (Object.keys(val).length < 1) {\n      // Special-case: {} always interpreted as Mixed path so leaf at this node\n      if (prefix) {\n        this.nested[prefix.substring(0, prefix.length - 1)] = true;\n      }\n      this.path(fullPath, val); // mixed type\n    } else if (!val[typeKey] || (typeKey === 'type' && isPOJO(val.type) && val.type.type)) {\n      // Special-case: POJO with no bona-fide type key - interpret as tree of deep paths so recurse\n      // nested object `{ last: { name: String } }`. Avoid functions with `.type` re: #10807 because\n      // NestJS sometimes adds `Date.type`.\n      this.nested[fullPath] = true;\n      this.add(val, fullPath + '.');\n    } else {\n      // There IS a bona-fide type key that may also be a POJO\n      const _typeDef = val[typeKey];\n      if (isPOJO(_typeDef) && Object.keys(_typeDef).length > 0) {\n        // If a POJO is the value of a type key, make it a subdocument\n        if (prefix) {\n          this.nested[prefix.substring(0, prefix.length - 1)] = true;\n        }\n\n        const childSchemaOptions = {};\n        if (this._userProvidedOptions.typeKey) {\n          childSchemaOptions.typeKey = this._userProvidedOptions.typeKey;\n        }\n        // propagate 'strict' option to child schema\n        if (this._userProvidedOptions.strict != null) {\n          childSchemaOptions.strict = this._userProvidedOptions.strict;\n        }\n        if (this._userProvidedOptions.toObject != null) {\n          childSchemaOptions.toObject = utils.omit(this._userProvidedOptions.toObject, ['transform']);\n        }\n        if (this._userProvidedOptions.toJSON != null) {\n          childSchemaOptions.toJSON = utils.omit(this._userProvidedOptions.toJSON, ['transform']);\n        }\n\n        const _schema = new Schema(_typeDef, childSchemaOptions);\n        _schema.$implicitlyCreated = true;\n        const schemaWrappedPath = Object.assign({}, val, { [typeKey]: _schema });\n        this.path(prefix + key, schemaWrappedPath);\n      } else {\n        // Either the type is non-POJO or we interpret it as Mixed anyway\n        if (prefix) {\n          this.nested[prefix.substring(0, prefix.length - 1)] = true;\n        }\n        this.path(prefix + key, val);\n        if (val != null && !(val.instanceOfSchema) && utils.isPOJO(val.discriminators)) {\n          const schemaType = this.path(prefix + key);\n          for (const key in val.discriminators) {\n            schemaType.discriminator(key, val.discriminators[key]);\n          }\n        }\n      }\n    }\n\n    if (val.instanceOfSchema && val.encryptionType() != null) {\n      // schema.add({ field: <instance of encrypted schema> })\n      if (this.encryptionType() != val.encryptionType()) {\n        throw new Error('encryptionType of a nested schema must match the encryption type of the parent schema.');\n      }\n\n      for (const [encryptedField, encryptedFieldConfig] of Object.entries(val.encryptedFields)) {\n        const path = fullPath + '.' + encryptedField;\n        this._addEncryptedField(path, encryptedFieldConfig);\n      }\n    } else if (typeof val === 'object' && 'encrypt' in val) {\n      // schema.add({ field: { type: <schema type>, encrypt: { ... }}})\n      const { encrypt } = val;\n\n      if (this.encryptionType() == null) {\n        throw new Error('encryptionType must be provided');\n      }\n\n      this._addEncryptedField(fullPath, encrypt);\n    } else {\n      // if the field was already encrypted and we re-configure it to be unencrypted, remove\n      // the encrypted field configuration\n      this._removeEncryptedField(fullPath);\n    }\n  }\n\n  const aliasObj = Object.fromEntries(\n    Object.entries(obj).map(([key]) => ([prefix + key, null]))\n  );\n  aliasFields(this, aliasObj);\n  return this;\n};\n\n/**\n * @param {string} path\n * @param {object} fieldConfig\n *\n * @api private\n */\nSchema.prototype._addEncryptedField = function _addEncryptedField(path, fieldConfig) {\n  const type = this.path(path).autoEncryptionType();\n  if (type == null) {\n    throw new Error(`Invalid BSON type for FLE field: '${path}'`);\n  }\n\n  this.encryptedFields[path] = clone(fieldConfig);\n};\n\n/**\n * @param {string} path\n *\n * @api private\n */\nSchema.prototype._removeEncryptedField = function _removeEncryptedField(path) {\n  delete this.encryptedFields[path];\n};\n\n/**\n * @api private\n *\n * @returns {boolean}\n */\nSchema.prototype._hasEncryptedFields = function _hasEncryptedFields() {\n  return Object.keys(this.encryptedFields).length > 0;\n};\n\n/**\n * @param {string} path\n * @returns {boolean}\n *\n * @api private\n */\nSchema.prototype._hasEncryptedField = function _hasEncryptedField(path) {\n  return path in this.encryptedFields;\n};\n\n\n/**\n * Builds an encryptedFieldsMap for the schema.\n *\n * @api private\n */\nSchema.prototype._buildEncryptedFields = function() {\n  const fields = Object.entries(this.encryptedFields).map(\n    ([path, config]) => {\n      const bsonType = this.path(path).autoEncryptionType();\n      // { path, bsonType, keyId, queries? }\n      return { path, bsonType, ...config };\n    });\n\n  return { fields };\n};\n\n/**\n * Builds a schemaMap for the schema, if the schema is configured for client-side field level encryption.\n *\n * @api private\n */\nSchema.prototype._buildSchemaMap = function() {\n  /**\n   * `schemaMap`s are JSON schemas, which use the following structure to represent objects:\n   *    { field: { bsonType: 'object', properties: { ... } } }\n   *\n   * for example, a schema that looks like this `{ a: { b: int32 } }` would be encoded as\n   * `{ a: { bsonType: 'object', properties: { b: < encryption configuration > } } }`\n   *\n   * This function takes an array of path segments, an output object (that gets mutated) and\n   * a value to be associated with the full path, and constructs a valid CSFLE JSON schema path for\n   * the object.  This works for deeply nested properties as well.\n   *\n   * @param {string[]} path array of path components\n   * @param {object} object the object in which to build a JSON schema of `path`'s properties\n   * @param {object} value the value to associate with the path in object\n   */\n  function buildNestedPath(path, object, value) {\n    let i = 0, component = path[i];\n    for (; i < path.length - 1; ++i, component = path[i]) {\n      object[component] = object[component] == null ? {\n        bsonType: 'object',\n        properties: {}\n      } : object[component];\n      object = object[component].properties;\n    }\n    object[component] = value;\n  }\n\n  const schemaMapPropertyReducer = (accum, [path, propertyConfig]) => {\n    const bsonType = this.path(path).autoEncryptionType();\n    const pathComponents = path.split('.');\n    const configuration = { encrypt: { ...propertyConfig, bsonType } };\n    buildNestedPath(pathComponents, accum, configuration);\n    return accum;\n  };\n\n  const properties = Object.entries(this.encryptedFields).reduce(\n    schemaMapPropertyReducer,\n    {});\n\n  return {\n    bsonType: 'object',\n    properties\n  };\n};\n\n/**\n * Add an alias for `path`. This means getting or setting the `alias`\n * is equivalent to getting or setting the `path`.\n *\n * #### Example:\n *\n *     const toySchema = new Schema({ n: String });\n *\n *     // Make 'name' an alias for 'n'\n *     toySchema.alias('n', 'name');\n *\n *     const Toy = mongoose.model('Toy', toySchema);\n *     const turboMan = new Toy({ n: 'Turbo Man' });\n *\n *     turboMan.name; // 'Turbo Man'\n *     turboMan.n; // 'Turbo Man'\n *\n *     turboMan.name = 'Turbo Man Action Figure';\n *     turboMan.n; // 'Turbo Man Action Figure'\n *\n *     await turboMan.save(); // Saves { _id: ..., n: 'Turbo Man Action Figure' }\n *\n *\n * @param {String} path real path to alias\n * @param {String|String[]} alias the path(s) to use as an alias for `path`\n * @return {Schema} the Schema instance\n * @api public\n */\n\nSchema.prototype.alias = function alias(path, alias) {\n  aliasFields(this, { [path]: alias });\n  return this;\n};\n\n/**\n * Remove an index by name or index specification.\n *\n * removeIndex only removes indexes from your schema object. Does **not** affect the indexes\n * in MongoDB.\n *\n * #### Example:\n *\n *     const ToySchema = new Schema({ name: String, color: String, price: Number });\n *\n *     // Add a new index on { name, color }\n *     ToySchema.index({ name: 1, color: 1 });\n *\n *     // Remove index on { name, color }\n *     // Keep in mind that order matters! `removeIndex({ color: 1, name: 1 })` won't remove the index\n *     ToySchema.removeIndex({ name: 1, color: 1 });\n *\n *     // Add an index with a custom name\n *     ToySchema.index({ color: 1 }, { name: 'my custom index name' });\n *     // Remove index by name\n *     ToySchema.removeIndex('my custom index name');\n *\n * @param {Object|string} index name or index specification\n * @return {Schema} the Schema instance\n * @api public\n */\n\nSchema.prototype.removeIndex = function removeIndex(index) {\n  if (arguments.length > 1) {\n    throw new Error('removeIndex() takes only 1 argument');\n  }\n\n  if (typeof index !== 'object' && typeof index !== 'string') {\n    throw new Error('removeIndex() may only take either an object or a string as an argument');\n  }\n\n  if (typeof index === 'object') {\n    for (let i = this._indexes.length - 1; i >= 0; --i) {\n      if (isIndexSpecEqual(this._indexes[i][0], index)) {\n        this._indexes.splice(i, 1);\n      }\n    }\n  } else {\n    for (let i = this._indexes.length - 1; i >= 0; --i) {\n      if (this._indexes[i][1] != null && this._indexes[i][1].name === index) {\n        this._indexes.splice(i, 1);\n      }\n    }\n  }\n\n  return this;\n};\n\n/**\n * Remove all indexes from this schema.\n *\n * clearIndexes only removes indexes from your schema object. Does **not** affect the indexes\n * in MongoDB.\n *\n * #### Example:\n *\n *     const ToySchema = new Schema({ name: String, color: String, price: Number });\n *     ToySchema.index({ name: 1 });\n *     ToySchema.index({ color: 1 });\n *\n *     // Remove all indexes on this schema\n *     ToySchema.clearIndexes();\n *\n *     ToySchema.indexes(); // []\n *\n * @return {Schema} the Schema instance\n * @api public\n */\n\nSchema.prototype.clearIndexes = function clearIndexes() {\n  this._indexes.length = 0;\n\n  return this;\n};\n\n/**\n * Add an [Atlas search index](https://www.mongodb.com/docs/atlas/atlas-search/create-index/) that Mongoose will create using `Model.createSearchIndex()`.\n * This function only works when connected to MongoDB Atlas.\n *\n * #### Example:\n *\n *     const ToySchema = new Schema({ name: String, color: String, price: Number });\n *     ToySchema.searchIndex({ name: 'test', definition: { mappings: { dynamic: true } } });\n *\n * @param {Object} description index options, including `name` and `definition`\n * @param {String} description.name\n * @param {Object} description.definition\n * @return {Schema} the Schema instance\n * @api public\n */\n\nSchema.prototype.searchIndex = function searchIndex(description) {\n  this._searchIndexes.push(description);\n\n  return this;\n};\n\n/**\n * Reserved document keys.\n *\n * Keys in this object are names that are warned in schema declarations\n * because they have the potential to break Mongoose/ Mongoose plugins functionality. If you create a schema\n * using `new Schema()` with one of these property names, Mongoose will log a warning.\n *\n * - _posts\n * - _pres\n * - collection\n  * - emit\n * - errors\n * - get\n * - init\n * - isModified\n * - isNew\n * - listeners\n * - modelName\n * - on\n * - once\n * - populated\n * - prototype\n * - remove\n * - removeListener\n * - save\n * - schema\n * - toObject\n * - validate\n *\n * _NOTE:_ Use of these terms as method names is permitted, but play at your own risk, as they may be existing mongoose document methods you are stomping on.\n *\n *      const schema = new Schema(..);\n *      schema.methods.init = function () {} // potentially breaking\n *\n * @property reserved\n * @memberOf Schema\n * @static\n */\n\nSchema.reserved = Object.create(null);\nSchema.prototype.reserved = Schema.reserved;\n\nconst reserved = Schema.reserved;\n// Core object\nreserved['prototype'] =\n// EventEmitter\nreserved.emit =\nreserved.listeners =\nreserved.removeListener =\n\n// document properties and functions\nreserved.collection =\nreserved.errors =\nreserved.get =\nreserved.init =\nreserved.isModified =\nreserved.isNew =\nreserved.populated =\nreserved.remove =\nreserved.save =\nreserved.toObject =\nreserved.validate = 1;\nreserved.collection = 1;\n\n/**\n * Gets/sets schema paths.\n *\n * Sets a path (if arity 2)\n * Gets a path (if arity 1)\n *\n * #### Example:\n *\n *     schema.path('name') // returns a SchemaType\n *     schema.path('name', Number) // changes the schemaType of `name` to Number\n *\n * @param {String} path The name of the Path to get / set\n * @param {Object} [obj] The Type to set the path to, if provided the path will be SET, otherwise the path will be GET\n * @api public\n */\n\nSchema.prototype.path = function(path, obj) {\n  if (obj === undefined) {\n    if (this.paths[path] != null) {\n      return this.paths[path];\n    }\n    // Convert to '.$' to check subpaths re: gh-6405\n    const cleanPath = _pathToPositionalSyntax(path);\n    let schematype = _getPath(this, path, cleanPath);\n    if (schematype != null) {\n      return schematype;\n    }\n\n    // Look for maps\n    const mapPath = getMapPath(this, path);\n    if (mapPath != null) {\n      return mapPath;\n    }\n\n    // Look if a parent of this path is mixed\n    schematype = this.hasMixedParent(cleanPath);\n    if (schematype != null) {\n      return schematype;\n    }\n\n    // subpaths?\n    return hasNumericSubpathRegex.test(path)\n      ? getPositionalPath(this, path, cleanPath)\n      : undefined;\n  }\n\n  // some path names conflict with document methods\n  const firstPieceOfPath = path.split('.')[0];\n  if (reserved[firstPieceOfPath] && !this.options.suppressReservedKeysWarning) {\n    const errorMessage = `\\`${firstPieceOfPath}\\` is a reserved schema pathname and may break some functionality. ` +\n      'You are allowed to use it, but use at your own risk. ' +\n      'To disable this warning pass `suppressReservedKeysWarning` as a schema option.';\n\n    utils.warn(errorMessage);\n  }\n\n  if (typeof obj === 'object' && utils.hasUserDefinedProperty(obj, 'ref')) {\n    validateRef(obj.ref, path);\n  }\n\n  // update the tree\n  const subpaths = path.split(/\\./);\n  const last = subpaths.pop();\n  let branch = this.tree;\n  let fullPath = '';\n\n  for (const sub of subpaths) {\n    if (utils.specialProperties.has(sub)) {\n      throw new Error('Cannot set special property `' + sub + '` on a schema');\n    }\n    fullPath = fullPath += (fullPath.length > 0 ? '.' : '') + sub;\n    if (!branch[sub]) {\n      this.nested[fullPath] = true;\n      branch[sub] = {};\n    }\n    if (typeof branch[sub] !== 'object') {\n      const msg = 'Cannot set nested path `' + path + '`. '\n          + 'Parent path `'\n          + fullPath\n          + '` already set to type ' + branch[sub].name\n          + '.';\n      throw new Error(msg);\n    }\n    branch = branch[sub];\n  }\n\n  branch[last] = clone(obj);\n\n  this.paths[path] = this.interpretAsType(path, obj, this.options);\n  const schemaType = this.paths[path];\n\n  // If overwriting an existing path, make sure to clear the childSchemas\n  this.childSchemas = this.childSchemas.filter(childSchema => childSchema.path !== path);\n\n  if (schemaType.$isSchemaMap) {\n    // Maps can have arbitrary keys, so `$*` is internal shorthand for \"any key\"\n    // The '$' is to imply this path should never be stored in MongoDB so we\n    // can easily build a regexp out of this path, and '*' to imply \"any key.\"\n    const mapPath = path + '.$*';\n\n    this.paths[mapPath] = schemaType.$__schemaType;\n    this.mapPaths.push(this.paths[mapPath]);\n    if (schemaType.$__schemaType.$isSingleNested) {\n      this.childSchemas.push({\n        schema: schemaType.$__schemaType.schema,\n        model: schemaType.$__schemaType.caster,\n        path: path\n      });\n    }\n  }\n\n  if (schemaType.$isSingleNested) {\n    for (const key of Object.keys(schemaType.schema.paths)) {\n      this.singleNestedPaths[path + '.' + key] = schemaType.schema.paths[key];\n    }\n    for (const key of Object.keys(schemaType.schema.singleNestedPaths)) {\n      this.singleNestedPaths[path + '.' + key] =\n        schemaType.schema.singleNestedPaths[key];\n    }\n    for (const key of Object.keys(schemaType.schema.subpaths)) {\n      this.singleNestedPaths[path + '.' + key] =\n        schemaType.schema.subpaths[key];\n    }\n    for (const key of Object.keys(schemaType.schema.nested)) {\n      this.singleNestedPaths[path + '.' + key] = 'nested';\n    }\n\n    Object.defineProperty(schemaType.schema, 'base', {\n      configurable: true,\n      enumerable: false,\n      writable: false,\n      value: this.base\n    });\n\n    schemaType.caster.base = this.base;\n    this.childSchemas.push({\n      schema: schemaType.schema,\n      model: schemaType.caster,\n      path: path\n    });\n  } else if (schemaType.$isMongooseDocumentArray) {\n    Object.defineProperty(schemaType.schema, 'base', {\n      configurable: true,\n      enumerable: false,\n      writable: false,\n      value: this.base\n    });\n\n    schemaType.casterConstructor.base = this.base;\n    this.childSchemas.push({\n      schema: schemaType.schema,\n      model: schemaType.casterConstructor,\n      path: path\n    });\n  }\n\n  if (schemaType.$isMongooseArray && schemaType.caster instanceof SchemaType) {\n    let arrayPath = path;\n    let _schemaType = schemaType;\n\n    const toAdd = [];\n    while (_schemaType.$isMongooseArray) {\n      arrayPath = arrayPath + '.$';\n\n      // Skip arrays of document arrays\n      if (_schemaType.$isMongooseDocumentArray) {\n        _schemaType.$embeddedSchemaType._arrayPath = arrayPath;\n        _schemaType.$embeddedSchemaType._arrayParentPath = path;\n        _schemaType = _schemaType.$embeddedSchemaType;\n      } else {\n        _schemaType.caster._arrayPath = arrayPath;\n        _schemaType.caster._arrayParentPath = path;\n        _schemaType = _schemaType.caster;\n      }\n\n      this.subpaths[arrayPath] = _schemaType;\n    }\n\n    for (const _schemaType of toAdd) {\n      this.subpaths[_schemaType.path] = _schemaType;\n    }\n  }\n\n  if (schemaType.$isMongooseDocumentArray) {\n    for (const key of Object.keys(schemaType.schema.paths)) {\n      const _schemaType = schemaType.schema.paths[key];\n      this.subpaths[path + '.' + key] = _schemaType;\n      if (typeof _schemaType === 'object' && _schemaType != null && _schemaType.$parentSchemaDocArray == null) {\n        _schemaType.$parentSchemaDocArray = schemaType;\n      }\n    }\n    for (const key of Object.keys(schemaType.schema.subpaths)) {\n      const _schemaType = schemaType.schema.subpaths[key];\n      this.subpaths[path + '.' + key] = _schemaType;\n      if (typeof _schemaType === 'object' && _schemaType != null && _schemaType.$parentSchemaDocArray == null) {\n        _schemaType.$parentSchemaDocArray = schemaType;\n      }\n    }\n    for (const key of Object.keys(schemaType.schema.singleNestedPaths)) {\n      const _schemaType = schemaType.schema.singleNestedPaths[key];\n      this.subpaths[path + '.' + key] = _schemaType;\n      if (typeof _schemaType === 'object' && _schemaType != null && _schemaType.$parentSchemaDocArray == null) {\n        _schemaType.$parentSchemaDocArray = schemaType;\n      }\n    }\n  }\n\n  return this;\n};\n\n/*!\n * ignore\n */\n\nSchema.prototype._gatherChildSchemas = function _gatherChildSchemas() {\n  const childSchemas = [];\n\n  for (const path of Object.keys(this.paths)) {\n    if (typeof path !== 'string') {\n      continue;\n    }\n    const schematype = this.paths[path];\n    if (schematype.$isMongooseDocumentArray || schematype.$isSingleNested) {\n      childSchemas.push({\n        schema: schematype.schema,\n        model: schematype.caster,\n        path: path\n      });\n    } else if (schematype.$isSchemaMap && schematype.$__schemaType.$isSingleNested) {\n      childSchemas.push({\n        schema: schematype.$__schemaType.schema,\n        model: schematype.$__schemaType.caster,\n        path: path\n      });\n    }\n  }\n\n  this.childSchemas = childSchemas;\n  return childSchemas;\n};\n\n/*!\n * ignore\n */\n\nfunction _getPath(schema, path, cleanPath) {\n  if (schema.paths.hasOwnProperty(path)) {\n    return schema.paths[path];\n  }\n  if (schema.subpaths.hasOwnProperty(cleanPath)) {\n    const subpath = schema.subpaths[cleanPath];\n    if (subpath === 'nested') {\n      return undefined;\n    }\n    return subpath;\n  }\n  if (schema.singleNestedPaths.hasOwnProperty(cleanPath) && typeof schema.singleNestedPaths[cleanPath] === 'object') {\n    const singleNestedPath = schema.singleNestedPaths[cleanPath];\n    if (singleNestedPath === 'nested') {\n      return undefined;\n    }\n    return singleNestedPath;\n  }\n\n  return null;\n}\n\n/*!\n * ignore\n */\n\nfunction _pathToPositionalSyntax(path) {\n  if (!/\\.\\d+/.test(path)) {\n    return path;\n  }\n  return path.replace(/\\.\\d+\\./g, '.$.').replace(/\\.\\d+$/, '.$');\n}\n\n/*!\n * ignore\n */\n\nfunction getMapPath(schema, path) {\n  if (schema.mapPaths.length === 0) {\n    return null;\n  }\n  for (const val of schema.mapPaths) {\n    const cleanPath = val.path.replace(/\\.\\$\\*/g, '');\n    if (path === cleanPath || (path.startsWith(cleanPath + '.') && path.slice(cleanPath.length + 1).indexOf('.') === -1)) {\n      return val;\n    } else if (val.schema && path.startsWith(cleanPath + '.')) {\n      let remnant = path.slice(cleanPath.length + 1);\n      remnant = remnant.slice(remnant.indexOf('.') + 1);\n      return val.schema.paths[remnant];\n    } else if (val.$isSchemaMap && path.startsWith(cleanPath + '.')) {\n      let remnant = path.slice(cleanPath.length + 1);\n      remnant = remnant.slice(remnant.indexOf('.') + 1);\n      const presplitPath = val.$__schemaType._presplitPath;\n      if (remnant.indexOf('.') === -1 && presplitPath[presplitPath.length - 1] === '$*') {\n        // Handle map of map of primitives\n        return val.$__schemaType;\n      } else if (remnant.indexOf('.') !== -1 && val.$__schemaType.schema && presplitPath[presplitPath.length - 1] === '$*') {\n        // map of map of subdocs (recursive)\n        return val.$__schemaType.schema.path(remnant.slice(remnant.indexOf('.') + 1));\n      }\n    }\n  }\n\n  return null;\n}\n\n/**\n * The Mongoose instance this schema is associated with\n *\n * @property base\n * @api private\n */\n\nObject.defineProperty(Schema.prototype, 'base', {\n  configurable: true,\n  enumerable: false,\n  writable: true,\n  value: null\n});\n\n/**\n * Converts type arguments into Mongoose Types.\n *\n * @param {String} path\n * @param {Object} obj constructor\n * @param {Object} options schema options\n * @api private\n */\n\nSchema.prototype.interpretAsType = function(path, obj, options) {\n  if (obj instanceof SchemaType) {\n    if (obj.path === path) {\n      return obj;\n    }\n    const clone = obj.clone();\n    clone.path = path;\n    return clone;\n  }\n\n  // If this schema has an associated Mongoose object, use the Mongoose object's\n  // copy of SchemaTypes re: gh-7158 gh-6933\n  const MongooseTypes = this.base != null ? this.base.Schema.Types : Schema.Types;\n  const Types = this.base != null ? this.base.Types : require('./types');\n\n  if (!utils.isPOJO(obj) && !(obj instanceof SchemaTypeOptions)) {\n    const constructorName = utils.getFunctionName(obj.constructor);\n    if (constructorName !== 'Object') {\n      const oldObj = obj;\n      obj = {};\n      obj[options.typeKey] = oldObj;\n    }\n  }\n\n  // Get the type making sure to allow keys named \"type\"\n  // and default to mixed if not specified.\n  // { type: { type: String, default: 'freshcut' } }\n  let type = obj[options.typeKey] && (obj[options.typeKey] instanceof Function || options.typeKey !== 'type' || !obj.type.type)\n    ? obj[options.typeKey]\n    : {};\n\n  if (type instanceof SchemaType) {\n    if (type.path === path) {\n      return type;\n    }\n    const clone = type.clone();\n    clone.path = path;\n    return clone;\n  }\n\n  let name;\n\n  if (utils.isPOJO(type) || type === 'mixed') {\n    return new MongooseTypes.Mixed(path, obj);\n  }\n\n  if (Array.isArray(type) || type === Array || type === 'array' || type === MongooseTypes.Array) {\n    // if it was specified through { type } look for `cast`\n    let cast = (type === Array || type === 'array')\n      ? obj.cast || obj.of\n      : type[0];\n\n    // new Schema({ path: [new Schema({ ... })] })\n    if (cast && cast.instanceOfSchema) {\n      if (!(cast instanceof Schema)) {\n        if (this.options._isMerging) {\n          cast = new Schema(cast);\n        } else {\n          throw new TypeError('Schema for array path `' + path +\n            '` is from a different copy of the Mongoose module. ' +\n            'Please make sure you\\'re using the same version ' +\n            'of Mongoose everywhere with `npm list mongoose`. If you are still ' +\n            'getting this error, please add `new Schema()` around the path: ' +\n            `${path}: new Schema(...)`);\n        }\n      }\n      return new MongooseTypes.DocumentArray(path, cast, obj);\n    }\n    if (cast &&\n        cast[options.typeKey] &&\n        cast[options.typeKey].instanceOfSchema) {\n      if (!(cast[options.typeKey] instanceof Schema)) {\n        if (this.options._isMerging) {\n          cast[options.typeKey] = new Schema(cast[options.typeKey]);\n        } else {\n          throw new TypeError('Schema for array path `' + path +\n            '` is from a different copy of the Mongoose module. ' +\n            'Please make sure you\\'re using the same version ' +\n            'of Mongoose everywhere with `npm list mongoose`. If you are still ' +\n            'getting this error, please add `new Schema()` around the path: ' +\n            `${path}: new Schema(...)`);\n        }\n      }\n      return new MongooseTypes.DocumentArray(path, cast[options.typeKey], obj, cast);\n    }\n    if (typeof cast !== 'undefined') {\n      if (Array.isArray(cast) || cast.type === Array || cast.type == 'Array') {\n        if (cast && cast.type == 'Array') {\n          cast.type = Array;\n        }\n        return new MongooseTypes.Array(path, this.interpretAsType(path, cast, options), obj);\n      }\n    }\n\n    // Handle both `new Schema({ arr: [{ subpath: String }] })` and `new Schema({ arr: [{ type: { subpath: string } }] })`\n    const castFromTypeKey = (cast != null && cast[options.typeKey] && (options.typeKey !== 'type' || !cast.type.type)) ?\n      cast[options.typeKey] :\n      cast;\n    if (typeof cast === 'string') {\n      cast = MongooseTypes[cast.charAt(0).toUpperCase() + cast.substring(1)];\n    } else if (utils.isPOJO(castFromTypeKey)) {\n      if (Object.keys(castFromTypeKey).length) {\n        // The `minimize` and `typeKey` options propagate to child schemas\n        // declared inline, like `{ arr: [{ val: { $type: String } }] }`.\n        // See gh-3560\n        const childSchemaOptions = { minimize: options.minimize };\n        if (options.typeKey) {\n          childSchemaOptions.typeKey = options.typeKey;\n        }\n        // propagate 'strict' option to child schema\n        if (options.hasOwnProperty('strict')) {\n          childSchemaOptions.strict = options.strict;\n        }\n        if (options.hasOwnProperty('strictQuery')) {\n          childSchemaOptions.strictQuery = options.strictQuery;\n        }\n        if (options.hasOwnProperty('toObject')) {\n          childSchemaOptions.toObject = utils.omit(options.toObject, ['transform']);\n        }\n        if (options.hasOwnProperty('toJSON')) {\n          childSchemaOptions.toJSON = utils.omit(options.toJSON, ['transform']);\n        }\n\n        if (this._userProvidedOptions.hasOwnProperty('_id')) {\n          childSchemaOptions._id = this._userProvidedOptions._id;\n        } else if (Schema.Types.DocumentArray.defaultOptions._id != null) {\n          childSchemaOptions._id = Schema.Types.DocumentArray.defaultOptions._id;\n        }\n\n        const childSchema = new Schema(castFromTypeKey, childSchemaOptions);\n        childSchema.$implicitlyCreated = true;\n        return new MongooseTypes.DocumentArray(path, childSchema, obj);\n      } else {\n        // Special case: empty object becomes mixed\n        return new MongooseTypes.Array(path, MongooseTypes.Mixed, obj);\n      }\n    }\n\n    if (cast) {\n      type = cast[options.typeKey] && (options.typeKey !== 'type' || !cast.type.type)\n        ? cast[options.typeKey]\n        : cast;\n      if (Array.isArray(type)) {\n        return new MongooseTypes.Array(path, this.interpretAsType(path, type, options), obj);\n      }\n\n      name = typeof type === 'string'\n        ? type\n        : type.schemaName || utils.getFunctionName(type);\n\n      // For Jest 26+, see #10296\n      if (name === 'ClockDate') {\n        name = 'Date';\n      }\n\n      if (name === void 0) {\n        throw new TypeError('Invalid schema configuration: ' +\n          `Could not determine the embedded type for array \\`${path}\\`. ` +\n          'See https://mongoosejs.com/docs/guide.html#definition for more info on supported schema syntaxes.');\n      }\n      if (!MongooseTypes.hasOwnProperty(name)) {\n        throw new TypeError('Invalid schema configuration: ' +\n          `\\`${name}\\` is not a valid type within the array \\`${path}\\`.` +\n          'See https://bit.ly/mongoose-schematypes for a list of valid schema types.');\n      }\n    }\n\n    return new MongooseTypes.Array(path, cast || MongooseTypes.Mixed, obj, options);\n  }\n\n  if (type && type.instanceOfSchema) {\n    return new MongooseTypes.Subdocument(type, path, obj);\n  }\n\n  if (Buffer.isBuffer(type)) {\n    name = 'Buffer';\n  } else if (typeof type === 'function' || typeof type === 'object') {\n    name = type.schemaName || utils.getFunctionName(type);\n  } else if (type === Types.ObjectId) {\n    name = 'ObjectId';\n  } else if (type === Types.Decimal128) {\n    name = 'Decimal128';\n  } else {\n    name = type == null ? '' + type : type.toString();\n  }\n\n  if (name) {\n    name = name.charAt(0).toUpperCase() + name.substring(1);\n  }\n  // Special case re: gh-7049 because the bson `ObjectID` class' capitalization\n  // doesn't line up with Mongoose's.\n  if (name === 'ObjectID') {\n    name = 'ObjectId';\n  }\n  // For Jest 26+, see #10296\n  if (name === 'ClockDate') {\n    name = 'Date';\n  }\n\n  if (name === void 0) {\n    throw new TypeError(`Invalid schema configuration: \\`${path}\\` schematype definition is ` +\n      'invalid. See ' +\n      'https://mongoosejs.com/docs/guide.html#definition for more info on supported schema syntaxes.');\n  }\n  if (MongooseTypes[name] == null) {\n    throw new TypeError(`Invalid schema configuration: \\`${name}\\` is not ` +\n      `a valid type at path \\`${path}\\`. See ` +\n      'https://bit.ly/mongoose-schematypes for a list of valid schema types.');\n  }\n\n  if (name === 'Union') {\n    obj.parentSchema = this;\n  }\n  const schemaType = new MongooseTypes[name](path, obj, options);\n\n  if (schemaType.$isSchemaMap) {\n    createMapNestedSchemaType(this, schemaType, path, obj, options);\n  }\n\n  return schemaType;\n};\n\n/*!\n * ignore\n */\n\nfunction createMapNestedSchemaType(schema, schemaType, path, obj, options) {\n  const mapPath = path + '.$*';\n  let _mapType = { type: {} };\n  if (utils.hasUserDefinedProperty(obj, 'of')) {\n    const isInlineSchema = utils.isPOJO(obj.of) &&\n      Object.keys(obj.of).length > 0 &&\n      !utils.hasUserDefinedProperty(obj.of, schema.options.typeKey);\n    if (isInlineSchema) {\n      _mapType = { [schema.options.typeKey]: new Schema(obj.of) };\n    } else if (utils.isPOJO(obj.of)) {\n      _mapType = Object.assign({}, obj.of);\n    } else {\n      _mapType = { [schema.options.typeKey]: obj.of };\n    }\n\n    if (_mapType[schema.options.typeKey] && _mapType[schema.options.typeKey].instanceOfSchema) {\n      const subdocumentSchema = _mapType[schema.options.typeKey];\n      subdocumentSchema.eachPath((subpath, type) => {\n        if (type.options.select === true || type.options.select === false) {\n          throw new MongooseError('Cannot use schema-level projections (`select: true` or `select: false`) within maps at path \"' + path + '.' + subpath + '\"');\n        }\n      });\n    }\n\n    if (utils.hasUserDefinedProperty(obj, 'ref')) {\n      _mapType.ref = obj.ref;\n    }\n  }\n  schemaType.$__schemaType = schema.interpretAsType(mapPath, _mapType, options);\n}\n\n/**\n * Iterates the schemas paths similar to Array#forEach.\n *\n * The callback is passed the pathname and the schemaType instance.\n *\n * #### Example:\n *\n *     const userSchema = new Schema({ name: String, registeredAt: Date });\n *     userSchema.eachPath((pathname, schematype) => {\n *       // Prints twice:\n *       // name SchemaString { ... }\n *       // registeredAt SchemaDate { ... }\n *       console.log(pathname, schematype);\n *     });\n *\n * @param {Function} fn callback function\n * @return {Schema} this\n * @api public\n */\n\nSchema.prototype.eachPath = function(fn) {\n  const keys = Object.keys(this.paths);\n  const len = keys.length;\n\n  for (let i = 0; i < len; ++i) {\n    fn(keys[i], this.paths[keys[i]]);\n  }\n\n  return this;\n};\n\n/**\n * Returns an Array of path strings that are required by this schema.\n *\n * #### Example:\n *\n *     const s = new Schema({\n *       name: { type: String, required: true },\n *       age: { type: String, required: true },\n *       notes: String\n *     });\n *     s.requiredPaths(); // [ 'age', 'name' ]\n *\n * @api public\n * @param {Boolean} invalidate Refresh the cache\n * @return {Array}\n */\n\nSchema.prototype.requiredPaths = function requiredPaths(invalidate) {\n  if (this._requiredpaths && !invalidate) {\n    return this._requiredpaths;\n  }\n\n  const paths = Object.keys(this.paths);\n  let i = paths.length;\n  const ret = [];\n\n  while (i--) {\n    const path = paths[i];\n    if (this.paths[path].isRequired) {\n      ret.push(path);\n    }\n  }\n  this._requiredpaths = ret;\n  return this._requiredpaths;\n};\n\n/**\n * Returns indexes from fields and schema-level indexes (cached).\n *\n * @api private\n * @return {Array}\n */\n\nSchema.prototype.indexedPaths = function indexedPaths() {\n  if (this._indexedpaths) {\n    return this._indexedpaths;\n  }\n  this._indexedpaths = this.indexes();\n  return this._indexedpaths;\n};\n\n/**\n * Returns the pathType of `path` for this schema.\n *\n * Given a path, returns whether it is a real, virtual, nested, or ad-hoc/undefined path.\n *\n * #### Example:\n *\n *     const s = new Schema({ name: String, nested: { foo: String } });\n *     s.virtual('foo').get(() => 42);\n *     s.pathType('name'); // \"real\"\n *     s.pathType('nested'); // \"nested\"\n *     s.pathType('foo'); // \"virtual\"\n *     s.pathType('fail'); // \"adhocOrUndefined\"\n *\n * @param {String} path\n * @return {String}\n * @api public\n */\n\nSchema.prototype.pathType = function(path) {\n  if (this.paths.hasOwnProperty(path)) {\n    return 'real';\n  }\n  if (this.virtuals.hasOwnProperty(path)) {\n    return 'virtual';\n  }\n  if (this.nested.hasOwnProperty(path)) {\n    return 'nested';\n  }\n\n  // Convert to '.$' to check subpaths re: gh-6405\n  const cleanPath = _pathToPositionalSyntax(path);\n\n  if (this.subpaths.hasOwnProperty(cleanPath) || this.subpaths.hasOwnProperty(path)) {\n    return 'real';\n  }\n\n  const singleNestedPath = this.singleNestedPaths.hasOwnProperty(cleanPath) || this.singleNestedPaths.hasOwnProperty(path);\n  if (singleNestedPath) {\n    return singleNestedPath === 'nested' ? 'nested' : 'real';\n  }\n\n  // Look for maps\n  const mapPath = getMapPath(this, path);\n  if (mapPath != null) {\n    return 'real';\n  }\n\n  if (/\\.\\d+\\.|\\.\\d+$/.test(path)) {\n    return getPositionalPathType(this, path, cleanPath);\n  }\n  return 'adhocOrUndefined';\n};\n\n/**\n * Returns true iff this path is a child of a mixed schema.\n *\n * @param {String} path\n * @return {Boolean}\n * @api private\n */\n\nSchema.prototype.hasMixedParent = function(path) {\n  const subpaths = path.split(/\\./g);\n  path = '';\n  for (let i = 0; i < subpaths.length; ++i) {\n    path = i > 0 ? path + '.' + subpaths[i] : subpaths[i];\n    if (this.paths.hasOwnProperty(path) &&\n        this.paths[path] instanceof MongooseTypes.Mixed) {\n      return this.paths[path];\n    }\n  }\n\n  return null;\n};\n\n/**\n * Setup updatedAt and createdAt timestamps to documents if enabled\n *\n * @param {Boolean|Object} timestamps timestamps options\n * @api private\n */\nSchema.prototype.setupTimestamp = function(timestamps) {\n  return setupTimestamps(this, timestamps);\n};\n\n/**\n * ignore. Deprecated re: #6405\n * @param {Any} self\n * @param {String} path\n * @api private\n */\n\nfunction getPositionalPathType(self, path, cleanPath) {\n  const subpaths = path.split(/\\.(\\d+)\\.|\\.(\\d+)$/).filter(Boolean);\n  if (subpaths.length < 2) {\n    return self.paths.hasOwnProperty(subpaths[0]) ?\n      self.paths[subpaths[0]] :\n      'adhocOrUndefined';\n  }\n\n  let val = self.path(subpaths[0]);\n  let isNested = false;\n  if (!val) {\n    return 'adhocOrUndefined';\n  }\n\n  const last = subpaths.length - 1;\n\n  for (let i = 1; i < subpaths.length; ++i) {\n    isNested = false;\n    const subpath = subpaths[i];\n\n    if (i === last && val && !/\\D/.test(subpath)) {\n      if (val.$isMongooseDocumentArray) {\n        val = val.$embeddedSchemaType;\n      } else if (val instanceof MongooseTypes.Array) {\n        // StringSchema, NumberSchema, etc\n        val = val.caster;\n      } else {\n        val = undefined;\n      }\n      break;\n    }\n\n    // ignore if its just a position segment: path.0.subpath\n    if (!/\\D/.test(subpath)) {\n      // Nested array\n      if (val instanceof MongooseTypes.Array && i !== last) {\n        val = val.caster;\n      }\n      continue;\n    }\n\n    if (!(val && val.schema)) {\n      val = undefined;\n      break;\n    }\n\n    const type = val.schema.pathType(subpath);\n    isNested = (type === 'nested');\n    val = val.schema.path(subpath);\n  }\n\n  self.subpaths[cleanPath] = val;\n  if (val) {\n    return 'real';\n  }\n  if (isNested) {\n    return 'nested';\n  }\n  return 'adhocOrUndefined';\n}\n\n\n/*!\n * ignore\n */\n\nfunction getPositionalPath(self, path, cleanPath) {\n  getPositionalPathType(self, path, cleanPath);\n  return self.subpaths[cleanPath];\n}\n\n/**\n * Adds a method call to the queue.\n *\n * #### Example:\n *\n *     schema.methods.print = function() { console.log(this); };\n *     schema.queue('print', []); // Print the doc every one is instantiated\n *\n *     const Model = mongoose.model('Test', schema);\n *     new Model({ name: 'test' }); // Prints '{\"_id\": ..., \"name\": \"test\" }'\n *\n * @param {String} name name of the document method to call later\n * @param {Array} args arguments to pass to the method\n * @api public\n */\n\nSchema.prototype.queue = function(name, args) {\n  this.callQueue.push([name, args]);\n  return this;\n};\n\n/**\n * Defines a pre hook for the model.\n *\n * #### Example:\n *\n *     const toySchema = new Schema({ name: String, created: Date });\n *\n *     toySchema.pre('save', function(next) {\n *       if (!this.created) this.created = new Date;\n *       next();\n *     });\n *\n *     toySchema.pre('validate', function(next) {\n *       if (this.name !== 'Woody') this.name = 'Woody';\n *       next();\n *     });\n *\n *     // Equivalent to calling `pre()` on `find`, `findOne`, `findOneAndUpdate`.\n *     toySchema.pre(/^find/, function(next) {\n *       console.log(this.getFilter());\n *     });\n *\n *     // Equivalent to calling `pre()` on `updateOne`, `findOneAndUpdate`.\n *     toySchema.pre(['updateOne', 'findOneAndUpdate'], function(next) {\n *       console.log(this.getFilter());\n *     });\n *\n *     toySchema.pre('deleteOne', function() {\n *       // Runs when you call `Toy.deleteOne()`\n *     });\n *\n *     toySchema.pre('deleteOne', { document: true }, function() {\n *       // Runs when you call `doc.deleteOne()`\n *     });\n *\n * @param {String|RegExp|String[]} methodName The method name or regular expression to match method name\n * @param {Object} [options]\n * @param {Boolean} [options.document] If `name` is a hook for both document and query middleware, set to `true` to run on document middleware. For example, set `options.document` to `true` to apply this hook to `Document#deleteOne()` rather than `Query#deleteOne()`.\n * @param {Boolean} [options.query] If `name` is a hook for both document and query middleware, set to `true` to run on query middleware.\n * @param {Function} callback\n * @api public\n */\n\nSchema.prototype.pre = function(name) {\n  if (name instanceof RegExp) {\n    const remainingArgs = Array.prototype.slice.call(arguments, 1);\n    for (const fn of hookNames) {\n      if (name.test(fn)) {\n        this.pre.apply(this, [fn].concat(remainingArgs));\n      }\n    }\n    return this;\n  }\n  if (Array.isArray(name)) {\n    const remainingArgs = Array.prototype.slice.call(arguments, 1);\n    for (const el of name) {\n      this.pre.apply(this, [el].concat(remainingArgs));\n    }\n    return this;\n  }\n  this.s.hooks.pre.apply(this.s.hooks, arguments);\n  return this;\n};\n\n/**\n * Defines a post hook for the document\n *\n *     const schema = new Schema(..);\n *     schema.post('save', function (doc) {\n *       console.log('this fired after a document was saved');\n *     });\n *\n *     schema.post('find', function(docs) {\n *       console.log('this fired after you ran a find query');\n *     });\n *\n *     schema.post(/Many$/, function(res) {\n *       console.log('this fired after you ran `updateMany()` or `deleteMany()`');\n *     });\n *\n *     const Model = mongoose.model('Model', schema);\n *\n *     const m = new Model(..);\n *     await m.save();\n *     console.log('this fires after the `post` hook');\n *\n *     await m.find();\n *     console.log('this fires after the post find hook');\n *\n * @param {String|RegExp|String[]} methodName The method name or regular expression to match method name\n * @param {Object} [options]\n * @param {Boolean} [options.document] If `name` is a hook for both document and query middleware, set to `true` to run on document middleware.\n * @param {Boolean} [options.query] If `name` is a hook for both document and query middleware, set to `true` to run on query middleware.\n * @param {Function} fn callback\n * @see middleware https://mongoosejs.com/docs/middleware.html\n * @see kareem https://npmjs.org/package/kareem\n * @api public\n */\n\nSchema.prototype.post = function(name) {\n  if (name instanceof RegExp) {\n    const remainingArgs = Array.prototype.slice.call(arguments, 1);\n    for (const fn of hookNames) {\n      if (name.test(fn)) {\n        this.post.apply(this, [fn].concat(remainingArgs));\n      }\n    }\n    return this;\n  }\n  if (Array.isArray(name)) {\n    const remainingArgs = Array.prototype.slice.call(arguments, 1);\n    for (const el of name) {\n      this.post.apply(this, [el].concat(remainingArgs));\n    }\n    return this;\n  }\n  this.s.hooks.post.apply(this.s.hooks, arguments);\n  return this;\n};\n\n/**\n * Registers a plugin for this schema.\n *\n * #### Example:\n *\n *     const s = new Schema({ name: String });\n *     s.plugin(schema => console.log(schema.path('name').path));\n *     mongoose.model('Test', s); // Prints 'name'\n *\n * Or with Options:\n *\n *     const s = new Schema({ name: String });\n *     s.plugin((schema, opts) => console.log(opts.text, schema.path('name').path), { text: \"Schema Path Name:\" });\n *     mongoose.model('Test', s); // Prints 'Schema Path Name: name'\n *\n * @param {Function} plugin The Plugin's callback\n * @param {Object} [opts] Options to pass to the plugin\n * @param {Boolean} [opts.deduplicate=false] If true, ignore duplicate plugins (same `fn` argument using `===`)\n * @see plugins https://mongoosejs.com/docs/plugins.html\n * @api public\n */\n\nSchema.prototype.plugin = function(fn, opts) {\n  if (typeof fn !== 'function') {\n    throw new Error('First param to `schema.plugin()` must be a function, ' +\n      'got \"' + (typeof fn) + '\"');\n  }\n\n\n  if (opts && opts.deduplicate) {\n    for (const plugin of this.plugins) {\n      if (plugin.fn === fn) {\n        return this;\n      }\n    }\n  }\n  this.plugins.push({ fn: fn, opts: opts });\n\n  fn(this, opts);\n  return this;\n};\n\n/**\n * Adds an instance method to documents constructed from Models compiled from this schema.\n *\n * #### Example:\n *\n *     const schema = kittySchema = new Schema(..);\n *\n *     schema.method('meow', function () {\n *       console.log('meeeeeoooooooooooow');\n *     })\n *\n *     const Kitty = mongoose.model('Kitty', schema);\n *\n *     const fizz = new Kitty;\n *     fizz.meow(); // meeeeeooooooooooooow\n *\n * If a hash of name/fn pairs is passed as the only argument, each name/fn pair will be added as methods.\n *\n *     schema.method({\n *         purr: function () {}\n *       , scratch: function () {}\n *     });\n *\n *     // later\n *     const fizz = new Kitty;\n *     fizz.purr();\n *     fizz.scratch();\n *\n * NOTE: `Schema.method()` adds instance methods to the `Schema.methods` object. You can also add instance methods directly to the `Schema.methods` object as seen in the [guide](https://mongoosejs.com/docs/guide.html#methods)\n *\n * @param {String|Object} name The Method Name for a single function, or a Object of \"string-function\" pairs.\n * @param {Function} [fn] The Function in a single-function definition.\n * @api public\n */\n\nSchema.prototype.method = function(name, fn, options) {\n  if (typeof name !== 'string') {\n    for (const i in name) {\n      this.methods[i] = name[i];\n      this.methodOptions[i] = clone(options);\n    }\n  } else {\n    this.methods[name] = fn;\n    this.methodOptions[name] = clone(options);\n  }\n  return this;\n};\n\n/**\n * Adds static \"class\" methods to Models compiled from this schema.\n *\n * #### Example:\n *\n *     const schema = new Schema(..);\n *     // Equivalent to `schema.statics.findByName = function(name) {}`;\n *     schema.static('findByName', function(name) {\n *       return this.find({ name: name });\n *     });\n *\n *     const Drink = mongoose.model('Drink', schema);\n *     await Drink.findByName('LaCroix');\n *\n * If a hash of name/fn pairs is passed as the only argument, each name/fn pair will be added as methods.\n *\n *     schema.static({\n *         findByName: function () {..}\n *       , findByCost: function () {..}\n *     });\n *\n *     const Drink = mongoose.model('Drink', schema);\n *     await Drink.findByName('LaCroix');\n *     await Drink.findByCost(3);\n *\n * If a hash of name/fn pairs is passed as the only argument, each name/fn pair will be added as statics.\n *\n * @param {String|Object} name The Method Name for a single function, or a Object of \"string-function\" pairs.\n * @param {Function} [fn] The Function in a single-function definition.\n * @api public\n * @see Statics https://mongoosejs.com/docs/guide.html#statics\n */\n\nSchema.prototype.static = function(name, fn) {\n  if (typeof name !== 'string') {\n    for (const i in name) {\n      this.statics[i] = name[i];\n    }\n  } else {\n    this.statics[name] = fn;\n  }\n  return this;\n};\n\n/**\n * Defines an index (most likely compound) for this schema.\n *\n * #### Example:\n *\n *     schema.index({ first: 1, last: -1 })\n *\n * @param {Object} fields The Fields to index, with the order, available values: `1 | -1 | '2d' | '2dsphere' | 'geoHaystack' | 'hashed' | 'text'`\n * @param {Object} [options] Options to pass to [MongoDB driver's `createIndex()` function](https://mongodb.github.io/node-mongodb-native/4.9/classes/Collection.html#createIndex)\n * @param {String | number} [options.expires=null] Mongoose-specific syntactic sugar, uses [ms](https://www.npmjs.com/package/ms) to convert `expires` option into seconds for the `expireAfterSeconds` in the above link.\n * @param {String} [options.language_override=null] Tells mongodb to use the specified field instead of `language` for parsing text indexes.\n * @api public\n */\n\nSchema.prototype.index = function(fields, options) {\n  fields || (fields = {});\n  options || (options = {});\n\n  if (options.expires) {\n    utils.expires(options);\n  }\n  for (const key in fields) {\n    if (this.aliases[key]) {\n      fields = utils.renameObjKey(fields, key, this.aliases[key]);\n    }\n  }\n  for (const field of Object.keys(fields)) {\n    if (fields[field] === 'ascending' || fields[field] === 'asc') {\n      fields[field] = 1;\n    } else if (fields[field] === 'descending' || fields[field] === 'desc') {\n      fields[field] = -1;\n    }\n  }\n\n  for (const existingIndex of this.indexes()) {\n    if (options.name == null && existingIndex[1].name == null && isIndexSpecEqual(existingIndex[0], fields)) {\n      utils.warn(`Duplicate schema index on ${JSON.stringify(fields)} found. This is often due to declaring an index using both \"index: true\" and \"schema.index()\". Please remove the duplicate index definition.`);\n    }\n  }\n\n  this._indexes.push([fields, options]);\n  return this;\n};\n\n/**\n * Sets a schema option.\n *\n * #### Example:\n *\n *     schema.set('strict'); // 'true' by default\n *     schema.set('strict', false); // Sets 'strict' to false\n *     schema.set('strict'); // 'false'\n *\n * @param {String} key The name of the option to set the value to\n * @param {Object} [value] The value to set the option to, if not passed, the option will be reset to default\n * @param {Array<string>} [tags] tags to add to read preference if key === 'read'\n * @see Schema https://mongoosejs.com/docs/api/schema.html#Schema()\n * @api public\n */\n\nSchema.prototype.set = function(key, value, tags) {\n  if (arguments.length === 1) {\n    return this.options[key];\n  }\n\n  switch (key) {\n    case 'read':\n      if (typeof value === 'string') {\n        this.options[key] = { mode: handleReadPreferenceAliases(value), tags };\n      } else if (Array.isArray(value) && typeof value[0] === 'string') {\n        this.options[key] = {\n          mode: handleReadPreferenceAliases(value[0]),\n          tags: value[1]\n        };\n      } else {\n        this.options[key] = value;\n      }\n      this._userProvidedOptions[key] = this.options[key];\n      break;\n    case 'timestamps':\n      this.setupTimestamp(value);\n      this.options[key] = value;\n      this._userProvidedOptions[key] = this.options[key];\n      break;\n    case '_id':\n      this.options[key] = value;\n      this._userProvidedOptions[key] = this.options[key];\n\n      if (value && !this.paths['_id']) {\n        addAutoId(this);\n      } else if (!value && this.paths['_id'] != null && this.paths['_id'].auto) {\n        this.remove('_id');\n      }\n      break;\n    default:\n      this.options[key] = value;\n      this._userProvidedOptions[key] = this.options[key];\n      break;\n  }\n\n  // Propagate `strict` and `strictQuery` changes down to implicitly created schemas\n  if (key === 'strict') {\n    _propagateOptionsToImplicitlyCreatedSchemas(this, { strict: value });\n  }\n  if (key === 'strictQuery') {\n    _propagateOptionsToImplicitlyCreatedSchemas(this, { strictQuery: value });\n  }\n  if (key === 'toObject') {\n    value = { ...value };\n    // Avoid propagating transform to implicitly created schemas re: gh-3279\n    delete value.transform;\n    _propagateOptionsToImplicitlyCreatedSchemas(this, { toObject: value });\n  }\n  if (key === 'toJSON') {\n    value = { ...value };\n    // Avoid propagating transform to implicitly created schemas re: gh-3279\n    delete value.transform;\n    _propagateOptionsToImplicitlyCreatedSchemas(this, { toJSON: value });\n  }\n\n  return this;\n};\n\n/*!\n * Recursively set options on implicitly created schemas\n */\n\nfunction _propagateOptionsToImplicitlyCreatedSchemas(baseSchema, options) {\n  for (const { schema } of baseSchema.childSchemas) {\n    if (!schema.$implicitlyCreated) {\n      continue;\n    }\n    Object.assign(schema.options, options);\n    _propagateOptionsToImplicitlyCreatedSchemas(schema, options);\n  }\n}\n\n/**\n * Gets a schema option.\n *\n * #### Example:\n *\n *     schema.get('strict'); // true\n *     schema.set('strict', false);\n *     schema.get('strict'); // false\n *\n * @param {String} key The name of the Option to get the current value for\n * @api public\n * @return {Any} the option's value\n */\n\nSchema.prototype.get = function(key) {\n  return this.options[key];\n};\n\nconst indexTypes = '2d 2dsphere hashed text'.split(' ');\n\n/**\n * The allowed index types\n *\n * @property {String[]} indexTypes\n * @memberOf Schema\n * @static\n * @api public\n */\n\nObject.defineProperty(Schema, 'indexTypes', {\n  get: function() {\n    return indexTypes;\n  },\n  set: function() {\n    throw new Error('Cannot overwrite Schema.indexTypes');\n  }\n});\n\n/**\n * Returns a list of indexes that this schema declares, via `schema.index()` or by `index: true` in a path's options.\n * Indexes are expressed as an array `[spec, options]`.\n *\n * #### Example:\n *\n *     const userSchema = new Schema({\n *       email: { type: String, required: true, unique: true },\n *       registeredAt: { type: Date, index: true }\n *     });\n *\n *     // [ [ { email: 1 }, { unique: true, background: true } ],\n *     //   [ { registeredAt: 1 }, { background: true } ] ]\n *     userSchema.indexes();\n *\n * [Plugins](https://mongoosejs.com/docs/plugins.html) can use the return value of this function to modify a schema's indexes.\n * For example, the below plugin makes every index unique by default.\n *\n *     function myPlugin(schema) {\n *       for (const index of schema.indexes()) {\n *         if (index[1].unique === undefined) {\n *           index[1].unique = true;\n *         }\n *       }\n *     }\n *\n * @api public\n * @return {Array} list of indexes defined in the schema\n */\n\nSchema.prototype.indexes = function() {\n  return getIndexes(this);\n};\n\n/**\n * Creates a virtual type with the given name.\n *\n * @param {String} name The name of the Virtual\n * @param {Object} [options]\n * @param {String|Model} [options.ref] model name or model instance. Marks this as a [populate virtual](https://mongoosejs.com/docs/populate.html#populate-virtuals).\n * @param {String|Function} [options.localField] Required for populate virtuals. See [populate virtual docs](https://mongoosejs.com/docs/populate.html#populate-virtuals) for more information.\n * @param {String|Function} [options.foreignField] Required for populate virtuals. See [populate virtual docs](https://mongoosejs.com/docs/populate.html#populate-virtuals) for more information.\n * @param {Boolean|Function} [options.justOne=false] Only works with populate virtuals. If [truthy](https://masteringjs.io/tutorials/fundamentals/truthy), will be a single doc or `null`. Otherwise, the populate virtual will be an array.\n * @param {Boolean} [options.count=false] Only works with populate virtuals. If [truthy](https://masteringjs.io/tutorials/fundamentals/truthy), this populate virtual will contain the number of documents rather than the documents themselves when you `populate()`.\n * @param {Function|null} [options.get=null] Adds a [getter](https://mongoosejs.com/docs/tutorials/getters-setters.html) to this virtual to transform the populated doc.\n * @param {Object|Function} [options.match=null] Apply a default [`match` option to populate](https://mongoosejs.com/docs/populate.html#match), adding an additional filter to the populate query.\n * @param {Boolean} [options.applyToArray=false] If true and the given `name` is a direct child of an array, apply the virtual to the array rather than the elements.\n * @return {VirtualType}\n */\n\nSchema.prototype.virtual = function(name, options) {\n  if (name instanceof VirtualType || getConstructorName(name) === 'VirtualType') {\n    return this.virtual(name.path, name.options);\n  }\n  options = new VirtualOptions(options);\n\n  if (utils.hasUserDefinedProperty(options, ['ref', 'refPath'])) {\n    if (options.localField == null) {\n      throw new Error('Reference virtuals require `localField` option');\n    }\n\n    if (options.foreignField == null) {\n      throw new Error('Reference virtuals require `foreignField` option');\n    }\n\n    const virtual = this.virtual(name);\n    virtual.options = options;\n\n    this.pre('init', function virtualPreInit(obj, opts) {\n      if (mpath.has(name, obj)) {\n        const _v = mpath.get(name, obj);\n        if (!this.$$populatedVirtuals) {\n          this.$$populatedVirtuals = {};\n        }\n\n        if (options.justOne || options.count) {\n          this.$$populatedVirtuals[name] = Array.isArray(_v) ?\n            _v[0] :\n            _v;\n        } else {\n          this.$$populatedVirtuals[name] = Array.isArray(_v) ?\n            _v :\n            _v == null ? [] : [_v];\n        }\n\n        if (opts?.hydratedPopulatedDocs && !options.count) {\n          const modelNames = virtual._getModelNamesForPopulate(this);\n          const populatedVal = this.$$populatedVirtuals[name];\n          if (!Array.isArray(populatedVal) && !populatedVal.$__ && modelNames?.length === 1) {\n            const PopulateModel = this.db.model(modelNames[0]);\n            this.$$populatedVirtuals[name] = PopulateModel.hydrate(populatedVal);\n          } else if (Array.isArray(populatedVal) && modelNames?.length === 1) {\n            const PopulateModel = this.db.model(modelNames[0]);\n            for (let i = 0; i < populatedVal.length; ++i) {\n              if (!populatedVal[i].$__) {\n                populatedVal[i] = PopulateModel.hydrate(populatedVal[i], null, { hydratedPopulatedDocs: true });\n              }\n            }\n            const foreignField = options.foreignField;\n            this.$populated(\n              name,\n              populatedVal.map(doc => doc == null ? doc : doc.get(typeof foreignField === 'function' ? foreignField.call(doc, doc) : foreignField)),\n              { populateModelSymbol: PopulateModel }\n            );\n          }\n        }\n\n        mpath.unset(name, obj);\n      }\n    });\n\n    virtual.\n      set(function(v) {\n        if (!this.$$populatedVirtuals) {\n          this.$$populatedVirtuals = {};\n        }\n\n        return setPopulatedVirtualValue(\n          this.$$populatedVirtuals,\n          name,\n          v,\n          options\n        );\n      });\n\n    if (typeof options.get === 'function') {\n      virtual.get(options.get);\n    }\n\n    // Workaround for gh-8198: if virtual is under document array, make a fake\n    // virtual. See gh-8210, gh-13189\n    const parts = name.split('.');\n    let cur = parts[0];\n    for (let i = 0; i < parts.length - 1; ++i) {\n      if (this.paths[cur] == null) {\n        continue;\n      }\n\n      if (this.paths[cur].$isMongooseDocumentArray || this.paths[cur].$isSingleNested) {\n        const remnant = parts.slice(i + 1).join('.');\n        this.paths[cur].schema.virtual(remnant, options);\n        break;\n      } else if (this.paths[cur].$isSchemaMap) {\n        const remnant = parts.slice(i + 2).join('.');\n        this.paths[cur].$__schemaType.schema.virtual(remnant, options);\n        break;\n      }\n\n      cur += '.' + parts[i + 1];\n    }\n\n    return virtual;\n  }\n\n  const virtuals = this.virtuals;\n  const parts = name.split('.');\n\n  if (this.pathType(name) === 'real') {\n    throw new Error('Virtual path \"' + name + '\"' +\n      ' conflicts with a real path in the schema');\n  }\n\n  virtuals[name] = parts.reduce(function(mem, part, i) {\n    mem[part] || (mem[part] = (i === parts.length - 1)\n      ? new VirtualType(options, name)\n      : {});\n    return mem[part];\n  }, this.tree);\n\n  if (options && options.applyToArray && parts.length > 1) {\n    const path = this.path(parts.slice(0, -1).join('.'));\n    if (path && path.$isMongooseArray) {\n      return path.virtual(parts[parts.length - 1], options);\n    } else {\n      throw new MongooseError(`Path \"${path}\" is not an array`);\n    }\n  }\n\n  return virtuals[name];\n};\n\n/**\n * Returns the virtual type with the given `name`.\n *\n * @param {String} name The name of the Virtual to get\n * @return {VirtualType|null}\n */\n\nSchema.prototype.virtualpath = function(name) {\n  return this.virtuals.hasOwnProperty(name) ? this.virtuals[name] : null;\n};\n\n/**\n * Removes the given `path` (or [`paths`]).\n *\n * #### Example:\n *\n *     const schema = new Schema({ name: String, age: Number });\n *     schema.remove('name');\n *     schema.path('name'); // Undefined\n *     schema.path('age'); // SchemaNumber { ... }\n *\n * Or as a Array:\n *\n *     schema.remove(['name', 'age']);\n *     schema.path('name'); // Undefined\n *     schema.path('age'); // Undefined\n *\n * @param {String|Array} path The Path(s) to remove\n * @return {Schema} the Schema instance\n * @api public\n */\nSchema.prototype.remove = function(path) {\n  if (typeof path === 'string') {\n    path = [path];\n  }\n  if (Array.isArray(path)) {\n    path.forEach(function(name) {\n      if (this.path(name) == null && !this.nested[name]) {\n        return;\n      }\n      if (this.nested[name]) {\n        const allKeys = Object.keys(this.paths).\n          concat(Object.keys(this.nested));\n        for (const path of allKeys) {\n          if (path.startsWith(name + '.')) {\n            delete this.paths[path];\n            delete this.nested[path];\n            _deletePath(this, path);\n          }\n        }\n\n        delete this.nested[name];\n        _deletePath(this, name);\n        return;\n      }\n\n      delete this.paths[name];\n      _deletePath(this, name);\n\n      this._removeEncryptedField(name);\n    }, this);\n  }\n  return this;\n};\n\n/*!\n * ignore\n */\n\nfunction _deletePath(schema, name) {\n  const pieces = name.split('.');\n  const last = pieces.pop();\n\n  let branch = schema.tree;\n\n  for (const piece of pieces) {\n    branch = branch[piece];\n  }\n\n  delete branch[last];\n}\n\n/**\n * Removes the given virtual or virtuals from the schema.\n *\n * @param {String|Array} path The virutal path(s) to remove.\n * @returns {Schema} the Schema instance, or a mongoose error if the virtual does not exist.\n * @api public\n */\n\nSchema.prototype.removeVirtual = function(path) {\n  if (typeof path === 'string') {\n    path = [path];\n  }\n  if (Array.isArray(path)) {\n    for (const virtual of path) {\n      if (this.virtuals[virtual] == null) {\n        throw new MongooseError(`Attempting to remove virtual \"${virtual}\" that does not exist.`);\n      }\n    }\n\n    for (const virtual of path) {\n      delete this.paths[virtual];\n      delete this.virtuals[virtual];\n      if (virtual.indexOf('.') !== -1) {\n        mpath.unset(virtual, this.tree);\n      } else {\n        delete this.tree[virtual];\n      }\n    }\n  }\n  return this;\n};\n\n/**\n * Loads an ES6 class into a schema. Maps [setters](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/set) + [getters](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/get), [static methods](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Classes/static),\n * and [instance methods](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Classes#Class_body_and_method_definitions)\n * to schema [virtuals](https://mongoosejs.com/docs/guide.html#virtuals),\n * [statics](https://mongoosejs.com/docs/guide.html#statics), and\n * [methods](https://mongoosejs.com/docs/guide.html#methods).\n *\n * #### Example:\n *\n * ```javascript\n * const md5 = require('md5');\n * const userSchema = new Schema({ email: String });\n * class UserClass {\n *   // `gravatarImage` becomes a virtual\n *   get gravatarImage() {\n *     const hash = md5(this.email.toLowerCase());\n *     return `https://www.gravatar.com/avatar/${hash}`;\n *   }\n *\n *   // `getProfileUrl()` becomes a document method\n *   getProfileUrl() {\n *     return `https://mysite.com/${this.email}`;\n *   }\n *\n *   // `findByEmail()` becomes a static\n *   static findByEmail(email) {\n *     return this.findOne({ email });\n *   }\n * }\n *\n * // `schema` will now have a `gravatarImage` virtual, a `getProfileUrl()` method,\n * // and a `findByEmail()` static\n * userSchema.loadClass(UserClass);\n * ```\n *\n * @param {Function} model The Class to load\n * @param {Boolean} [virtualsOnly] if truthy, only pulls virtuals from the class, not methods or statics\n */\nSchema.prototype.loadClass = function(model, virtualsOnly) {\n  // Stop copying when hit certain base classes\n  if (model === Object.prototype ||\n      model === Function.prototype ||\n      model.prototype.hasOwnProperty('$isMongooseModelPrototype') ||\n      model.prototype.hasOwnProperty('$isMongooseDocumentPrototype')) {\n    return this;\n  }\n\n  this.loadClass(Object.getPrototypeOf(model), virtualsOnly);\n\n  // Add static methods\n  if (!virtualsOnly) {\n    Object.getOwnPropertyNames(model).forEach(function(name) {\n      if (name.match(/^(length|name|prototype|constructor|__proto__)$/)) {\n        return;\n      }\n      const prop = Object.getOwnPropertyDescriptor(model, name);\n      if (prop.hasOwnProperty('value')) {\n        this.static(name, prop.value);\n      }\n    }, this);\n  }\n\n  // Add methods and virtuals\n  Object.getOwnPropertyNames(model.prototype).forEach(function(name) {\n    if (name.match(/^(constructor)$/)) {\n      return;\n    }\n    const method = Object.getOwnPropertyDescriptor(model.prototype, name);\n    if (!virtualsOnly) {\n      if (typeof method.value === 'function') {\n        this.method(name, method.value);\n      }\n    }\n    if (typeof method.get === 'function') {\n      if (this.virtuals[name]) {\n        this.virtuals[name].getters = [];\n      }\n      this.virtual(name).get(method.get);\n    }\n    if (typeof method.set === 'function') {\n      if (this.virtuals[name]) {\n        this.virtuals[name].setters = [];\n      }\n      this.virtual(name).set(method.set);\n    }\n  }, this);\n\n  return this;\n};\n\n/*!\n * ignore\n */\n\nSchema.prototype._getSchema = function(path) {\n  const _this = this;\n  const pathschema = _this.path(path);\n  const resultPath = [];\n\n  if (pathschema) {\n    pathschema.$fullPath = path;\n    return pathschema;\n  }\n\n  function search(parts, schema) {\n    let p = parts.length + 1;\n    let foundschema;\n    let trypath;\n\n    while (p--) {\n      trypath = parts.slice(0, p).join('.');\n      foundschema = schema.path(trypath);\n      if (foundschema) {\n        resultPath.push(trypath);\n\n        if (foundschema.caster) {\n          // array of Mixed?\n          if (foundschema.caster instanceof MongooseTypes.Mixed) {\n            foundschema.caster.$fullPath = resultPath.join('.');\n            return foundschema.caster;\n          }\n\n          // Now that we found the array, we need to check if there\n          // are remaining document paths to look up for casting.\n          // Also we need to handle array.$.path since schema.path\n          // doesn't work for that.\n          // If there is no foundschema.schema we are dealing with\n          // a path like array.$\n          if (p !== parts.length) {\n            if (p + 1 === parts.length && foundschema.$embeddedSchemaType && (parts[p] === '$' || isArrayFilter(parts[p]))) {\n              return foundschema.$embeddedSchemaType;\n            }\n\n            if (foundschema.schema) {\n              let ret;\n              if (parts[p] === '$' || isArrayFilter(parts[p])) {\n                if (p + 1 === parts.length) {\n                  // comments.$\n                  return foundschema.$embeddedSchemaType;\n                }\n                // comments.$.comments.$.title\n                ret = search(parts.slice(p + 1), foundschema.schema);\n                if (ret) {\n                  ret.$parentSchemaDocArray = ret.$parentSchemaDocArray ||\n                    (foundschema.schema.$isSingleNested ? null : foundschema);\n                }\n                return ret;\n              }\n              // this is the last path of the selector\n              ret = search(parts.slice(p), foundschema.schema);\n              if (ret) {\n                ret.$parentSchemaDocArray = ret.$parentSchemaDocArray ||\n                  (foundschema.schema.$isSingleNested ? null : foundschema);\n              }\n              return ret;\n            }\n          }\n        } else if (foundschema.$isSchemaMap) {\n          if (p >= parts.length) {\n            return foundschema;\n          }\n          // Any path in the map will be an instance of the map's embedded schematype\n          if (p + 1 >= parts.length) {\n            return foundschema.$__schemaType;\n          }\n\n          if (foundschema.$__schemaType instanceof MongooseTypes.Mixed) {\n            return foundschema.$__schemaType;\n          }\n          if (foundschema.$__schemaType.schema != null) {\n            // Map of docs\n            const ret = search(parts.slice(p + 1), foundschema.$__schemaType.schema);\n            return ret;\n          }\n        }\n\n        foundschema.$fullPath = resultPath.join('.');\n\n        return foundschema;\n      }\n    }\n  }\n\n  // look for arrays\n  const parts = path.split('.');\n  for (let i = 0; i < parts.length; ++i) {\n    if (parts[i] === '$' || isArrayFilter(parts[i])) {\n      // Re: gh-5628, because `schema.path()` doesn't take $ into account.\n      parts[i] = '0';\n    }\n    if (numberRE.test(parts[i])) {\n      parts[i] = '$';\n    }\n  }\n  return search(parts, _this);\n};\n\n/*!\n * ignore\n */\n\nSchema.prototype._getPathType = function(path) {\n  const _this = this;\n  const pathschema = _this.path(path);\n\n  if (pathschema) {\n    return 'real';\n  }\n\n  function search(parts, schema) {\n    let p = parts.length + 1,\n        foundschema,\n        trypath;\n\n    while (p--) {\n      trypath = parts.slice(0, p).join('.');\n      foundschema = schema.path(trypath);\n      if (foundschema) {\n        if (foundschema.caster) {\n          // array of Mixed?\n          if (foundschema.caster instanceof MongooseTypes.Mixed) {\n            return { schema: foundschema, pathType: 'mixed' };\n          }\n\n          // Now that we found the array, we need to check if there\n          // are remaining document paths to look up for casting.\n          // Also we need to handle array.$.path since schema.path\n          // doesn't work for that.\n          // If there is no foundschema.schema we are dealing with\n          // a path like array.$\n          if (p !== parts.length && foundschema.schema) {\n            if (parts[p] === '$' || isArrayFilter(parts[p])) {\n              if (p === parts.length - 1) {\n                return { schema: foundschema, pathType: 'nested' };\n              }\n              // comments.$.comments.$.title\n              return search(parts.slice(p + 1), foundschema.schema);\n            }\n            // this is the last path of the selector\n            return search(parts.slice(p), foundschema.schema);\n          }\n          return {\n            schema: foundschema,\n            pathType: foundschema.$isSingleNested ? 'nested' : 'array'\n          };\n        }\n        return { schema: foundschema, pathType: 'real' };\n      } else if (p === parts.length && schema.nested[trypath]) {\n        return { schema: schema, pathType: 'nested' };\n      }\n    }\n    return { schema: foundschema || schema, pathType: 'undefined' };\n  }\n\n  // look for arrays\n  return search(path.split('.'), _this);\n};\n\n/**\n * Transforms the duplicate key error by checking for duplicate key error messages by path.\n * If no duplicate key error messages are found, returns the original error.\n *\n * @param {Error} error The error to transform\n * @returns {Error} The transformed error\n * @api private\n */\n\nSchema.prototype._transformDuplicateKeyError = function _transformDuplicateKeyError(error) {\n  if (!this._duplicateKeyErrorMessagesByPath) {\n    return error;\n  }\n  if (error.code !== 11000 && error.code !== 11001) {\n    return error;\n  }\n\n  if (error.keyPattern != null) {\n    const keyPattern = error.keyPattern;\n    const keys = Object.keys(keyPattern);\n    if (keys.length !== 1) {\n      return error;\n    }\n    const firstKey = keys[0];\n    if (!this._duplicateKeyErrorMessagesByPath.hasOwnProperty(firstKey)) {\n      return error;\n    }\n    return new MongooseError(this._duplicateKeyErrorMessagesByPath[firstKey], { cause: error });\n  }\n\n  return error;\n};\n\n/*!\n * ignore\n */\n\nfunction isArrayFilter(piece) {\n  return piece.startsWith('$[') && piece.endsWith(']');\n}\n\n/**\n * Called by `compile()` _right before_ compiling. Good for making any changes to\n * the schema that should respect options set by plugins, like `id`\n * @method _preCompile\n * @memberOf Schema\n * @instance\n * @api private\n */\n\nSchema.prototype._preCompile = function _preCompile() {\n  this.plugin(idGetter, { deduplicate: true });\n};\n\n/**\n * Returns a JSON schema representation of this Schema.\n *\n * By default, returns normal [JSON schema representation](https://json-schema.org/learn/getting-started-step-by-step), which is not typically what you want to use with\n * [MongoDB's `$jsonSchema` collection option](https://www.mongodb.com/docs/manual/core/schema-validation/specify-json-schema/).\n * Use the `useBsonType: true` option to return MongoDB `$jsonSchema` syntax instead.\n *\n * In addition to types, `jsonSchema()` supports the following Mongoose validators:\n * - `enum` for strings and numbers\n *\n * #### Example:\n *    const schema = new Schema({ name: String });\n *    // { required: ['_id'], properties: { name: { type: ['string', 'null'] }, _id: { type: 'string' } } }\n *    schema.toJSONSchema();\n *\n *    // { required: ['_id'], properties: { name: { bsonType: ['string', 'null'] }, _id: { bsonType: 'objectId' } } }\n *    schema.toJSONSchema({ useBsonType: true });\n *\n * @param {Object} [options]\n * @param [Boolean] [options.useBsonType=false] if true, specify each path's type using `bsonType` rather than `type` for MongoDB $jsonSchema support\n */\n\nSchema.prototype.toJSONSchema = function toJSONSchema(options) {\n  const useBsonType = options?.useBsonType ?? false;\n  const result = useBsonType ? { required: [], properties: {} } : { type: 'object', required: [], properties: {} };\n  for (const path of Object.keys(this.paths)) {\n    const schemaType = this.paths[path];\n\n    // Skip Map embedded paths, maps will be handled seperately.\n    if (schemaType._presplitPath.indexOf('$*') !== -1) {\n      continue;\n    }\n\n    // Nested paths are stored as `nested.path` in the schema type, so create nested paths in the json schema\n    // when necessary.\n    const isNested = schemaType._presplitPath.length > 1;\n    let jsonSchemaForPath = result;\n    if (isNested) {\n      for (let i = 0; i < schemaType._presplitPath.length - 1; ++i) {\n        const subpath = schemaType._presplitPath[i];\n        if (jsonSchemaForPath.properties[subpath] == null) {\n          jsonSchemaForPath.properties[subpath] = useBsonType\n            ? {\n              bsonType: ['object', 'null'],\n              properties: {}\n            }\n            : {\n              type: ['object', 'null'],\n              properties: {}\n            };\n        }\n        jsonSchemaForPath = jsonSchemaForPath.properties[subpath];\n      }\n    }\n\n    const lastSubpath = schemaType._presplitPath[schemaType._presplitPath.length - 1];\n    let isRequired = false;\n    if (path === '_id') {\n      if (!jsonSchemaForPath.required) {\n        jsonSchemaForPath.required = [];\n      }\n      jsonSchemaForPath.required.push('_id');\n      isRequired = true;\n    } else if (schemaType.options.required && typeof schemaType.options.required !== 'function') {\n      if (!jsonSchemaForPath.required) {\n        jsonSchemaForPath.required = [];\n      }\n      // Only `required: true` paths are required, conditional required is not required\n      jsonSchemaForPath.required.push(lastSubpath);\n      isRequired = true;\n    }\n    jsonSchemaForPath.properties[lastSubpath] = schemaType.toJSONSchema(options);\n    if (schemaType.options.enum) {\n      jsonSchemaForPath.properties[lastSubpath].enum = isRequired\n        ? schemaType.options.enum\n        : [...schemaType.options.enum, null];\n    }\n  }\n\n  // Otherwise MongoDB errors with \"$jsonSchema keyword 'required' cannot be an empty array\"\n  if (result.required.length === 0) {\n    delete result.required;\n  }\n  return result;\n};\n\n/*!\n * Module exports.\n */\n\nmodule.exports = exports = Schema;\n\n// require down here because of reference issues\n\n/**\n * The various built-in Mongoose Schema Types.\n *\n * #### Example:\n *\n *     const mongoose = require('mongoose');\n *     const ObjectId = mongoose.Schema.Types.ObjectId;\n *\n * #### Types:\n *\n * - [String](https://mongoosejs.com/docs/schematypes.html#strings)\n * - [Number](https://mongoosejs.com/docs/schematypes.html#numbers)\n * - [Boolean](https://mongoosejs.com/docs/schematypes.html#booleans) | Bool\n * - [Array](https://mongoosejs.com/docs/schematypes.html#arrays)\n * - [Buffer](https://mongoosejs.com/docs/schematypes.html#buffers)\n * - [Date](https://mongoosejs.com/docs/schematypes.html#dates)\n * - [ObjectId](https://mongoosejs.com/docs/schematypes.html#objectids) | Oid\n * - [Mixed](https://mongoosejs.com/docs/schematypes.html#mixed)\n * - [UUID](https://mongoosejs.com/docs/schematypes.html#uuid)\n * - [BigInt](https://mongoosejs.com/docs/schematypes.html#bigint)\n * - [Double] (https://mongoosejs.com/docs/schematypes.html#double)\n * - [Int32](https://mongoosejs.com/docs/schematypes.html#int32)\n *\n * Using this exposed access to the `Mixed` SchemaType, we can use them in our schema.\n *\n *     const Mixed = mongoose.Schema.Types.Mixed;\n *     new mongoose.Schema({ _user: Mixed })\n *\n * @api public\n */\n\nSchema.Types = MongooseTypes = require('./schema/index');\n\n/*!\n * ignore\n */\n\nexports.ObjectId = MongooseTypes.ObjectId;\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 14166, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/backend/node_modules/mongoose/lib/driver.js"],"sourcesContent":["'use strict';\n\n/*!\n * ignore\n */\n\nlet driver = null;\n\nmodule.exports.get = function() {\n  return driver;\n};\n\nmodule.exports.set = function(v) {\n  driver = v;\n};\n"],"names":[],"mappings":"AAEA;;CAEC,GAED,IAAI,SAAS;AAEb,OAAO,OAAO,CAAC,GAAG,GAAG;IACnB,OAAO;AACT;AAEA,OAAO,OAAO,CAAC,GAAG,GAAG,SAAS,CAAC;IAC7B,SAAS;AACX","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 14179, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/backend/node_modules/mongoose/lib/connection.js"],"sourcesContent":["'use strict';\n\n/*!\n * Module dependencies.\n */\n\nconst ChangeStream = require('./cursor/changeStream');\nconst EventEmitter = require('events').EventEmitter;\nconst Schema = require('./schema');\nconst STATES = require('./connectionState');\nconst MongooseBulkWriteError = require('./error/bulkWriteError');\nconst MongooseError = require('./error/index');\nconst ServerSelectionError = require('./error/serverSelection');\nconst SyncIndexesError = require('./error/syncIndexes');\nconst applyPlugins = require('./helpers/schema/applyPlugins');\nconst clone = require('./helpers/clone');\nconst driver = require('./driver');\nconst get = require('./helpers/get');\nconst getDefaultBulkwriteResult = require('./helpers/getDefaultBulkwriteResult');\nconst immediate = require('./helpers/immediate');\nconst utils = require('./utils');\nconst CreateCollectionsError = require('./error/createCollectionsError');\nconst castBulkWrite = require('./helpers/model/castBulkWrite');\nconst { modelSymbol } = require('./helpers/symbols');\nconst isPromise = require('./helpers/isPromise');\nconst decorateBulkWriteResult = require('./helpers/model/decorateBulkWriteResult');\n\nconst arrayAtomicsSymbol = require('./helpers/symbols').arrayAtomicsSymbol;\nconst sessionNewDocuments = require('./helpers/symbols').sessionNewDocuments;\n\n// Snapshot the native Date constructor to ensure both Date.now() and new Date() (and other Date methods)\n// bypass timer mocks such as those set up by useFakeTimers().\nconst Date = globalThis.Date;\n\n/**\n * A list of authentication mechanisms that don't require a password for authentication.\n * This is used by the authMechanismDoesNotRequirePassword method.\n *\n * @api private\n */\nconst noPasswordAuthMechanisms = [\n  'MONGODB-X509'\n];\n\n/**\n * Connection constructor\n *\n * For practical reasons, a Connection equals a Db.\n *\n * @param {Mongoose} base a mongoose instance\n * @inherits NodeJS EventEmitter https://nodejs.org/api/events.html#class-eventemitter\n * @event `connecting`: Emitted when `connection.openUri()` is executed on this connection.\n * @event `connected`: Emitted when this connection successfully connects to the db. May be emitted _multiple_ times in `reconnected` scenarios.\n * @event `open`: Emitted after we `connected` and `onOpen` is executed on all of this connection's models.\n * @event `disconnecting`: Emitted when `connection.close()` was executed.\n * @event `disconnected`: Emitted after getting disconnected from the db.\n * @event `close`: Emitted after we `disconnected` and `onClose` executed on all of this connection's models.\n * @event `reconnected`: Emitted after we `connected` and subsequently `disconnected`, followed by successfully another successful connection.\n * @event `error`: Emitted when an error occurs on this connection.\n * @event `operation-start`: Emitted when a call to the MongoDB Node.js driver, like a `find()` or `insertOne()`, happens on any collection tied to this connection.\n * @event `operation-end`: Emitted when a call to the MongoDB Node.js driver, like a `find()` or `insertOne()`, either succeeds or errors.\n * @api public\n */\n\nfunction Connection(base) {\n  this.base = base;\n  this.collections = {};\n  this.models = {};\n  this.config = {};\n  this.replica = false;\n  this.options = null;\n  this.otherDbs = []; // FIXME: To be replaced with relatedDbs\n  this.relatedDbs = {}; // Hashmap of other dbs that share underlying connection\n  this.states = STATES;\n  this._readyState = STATES.disconnected;\n  this._closeCalled = false;\n  this._hasOpened = false;\n  this.plugins = [];\n  if (typeof base === 'undefined' || !base.connections.length) {\n    this.id = 0;\n  } else {\n    this.id = base.nextConnectionId;\n  }\n\n  // Internal queue of objects `{ fn, ctx, args }` that Mongoose calls when this connection is successfully\n  // opened. In `onOpen()`, Mongoose calls every entry in `_queue` and empties the queue.\n  this._queue = [];\n}\n\n/*!\n * Inherit from EventEmitter\n */\n\nObject.setPrototypeOf(Connection.prototype, EventEmitter.prototype);\n\n/**\n * Connection ready state\n *\n * - 0 = disconnected\n * - 1 = connected\n * - 2 = connecting\n * - 3 = disconnecting\n *\n * Each state change emits its associated event name.\n *\n * #### Example:\n *\n *     conn.on('connected', callback);\n *     conn.on('disconnected', callback);\n *\n * @property readyState\n * @memberOf Connection\n * @instance\n * @api public\n */\n\nObject.defineProperty(Connection.prototype, 'readyState', {\n  get: function() {\n    // If connection thinks it is connected, but we haven't received a heartbeat in 2 heartbeat intervals,\n    // that likely means the connection is stale (potentially due to frozen AWS Lambda container)\n    if (\n      this._readyState === STATES.connected &&\n      this._lastHeartbeatAt != null &&\n      // LoadBalanced topology (behind haproxy, including Atlas serverless instances) don't use heartbeats,\n      // so we can't use this check in that case.\n      this.client?.topology?.s?.description?.type !== 'LoadBalanced' &&\n      typeof this.client?.topology?.s?.description?.heartbeatFrequencyMS === 'number' &&\n      Date.now() - this._lastHeartbeatAt >= this.client.topology.s.description.heartbeatFrequencyMS * 2) {\n      return STATES.disconnected;\n    }\n    return this._readyState;\n  },\n  set: function(val) {\n    if (!(val in STATES)) {\n      throw new Error('Invalid connection state: ' + val);\n    }\n\n    if (this._readyState !== val) {\n      this._readyState = val;\n      // [legacy] loop over the otherDbs on this connection and change their state\n      for (const db of this.otherDbs) {\n        db.readyState = val;\n      }\n\n      if (STATES.connected === val) {\n        this._hasOpened = true;\n      }\n\n      this.emit(STATES[val]);\n    }\n  }\n});\n\n/**\n * Gets the value of the option `key`. Equivalent to `conn.options[key]`\n *\n * #### Example:\n *\n *     conn.get('test'); // returns the 'test' value\n *\n * @param {String} key\n * @method get\n * @api public\n */\n\nConnection.prototype.get = function getOption(key) {\n  if (this.config.hasOwnProperty(key)) {\n    return this.config[key];\n  }\n\n  return get(this.options, key);\n};\n\n/**\n * Sets the value of the option `key`. Equivalent to `conn.options[key] = val`\n *\n * Supported options include:\n *\n * - `maxTimeMS`: Set [`maxTimeMS`](https://mongoosejs.com/docs/api/query.html#Query.prototype.maxTimeMS()) for all queries on this connection.\n * - 'debug': If `true`, prints the operations mongoose sends to MongoDB to the console. If a writable stream is passed, it will log to that stream, without colorization. If a callback function is passed, it will receive the collection name, the method name, then all arugments passed to the method. For example, if you wanted to replicate the default logging, you could output from the callback `Mongoose: ${collectionName}.${methodName}(${methodArgs.join(', ')})`.\n *\n * #### Example:\n *\n *     conn.set('test', 'foo');\n *     conn.get('test'); // 'foo'\n *     conn.options.test; // 'foo'\n *\n * @param {String} key\n * @param {Any} val\n * @method set\n * @api public\n */\n\nConnection.prototype.set = function setOption(key, val) {\n  if (this.config.hasOwnProperty(key)) {\n    this.config[key] = val;\n    return val;\n  }\n\n  this.options = this.options || {};\n  this.options[key] = val;\n  return val;\n};\n\n/**\n * A hash of the collections associated with this connection\n *\n * @property collections\n * @memberOf Connection\n * @instance\n * @api public\n */\n\nConnection.prototype.collections;\n\n/**\n * The name of the database this connection points to.\n *\n * #### Example:\n *\n *     mongoose.createConnection('mongodb://127.0.0.1:27017/mydb').name; // \"mydb\"\n *\n * @property name\n * @memberOf Connection\n * @instance\n * @api public\n */\n\nConnection.prototype.name;\n\n/**\n * A [POJO](https://masteringjs.io/tutorials/fundamentals/pojo) containing\n * a map from model names to models. Contains all models that have been\n * added to this connection using [`Connection#model()`](https://mongoosejs.com/docs/api/connection.html#Connection.prototype.model()).\n *\n * #### Example:\n *\n *     const conn = mongoose.createConnection();\n *     const Test = conn.model('Test', mongoose.Schema({ name: String }));\n *\n *     Object.keys(conn.models).length; // 1\n *     conn.models.Test === Test; // true\n *\n * @property models\n * @memberOf Connection\n * @instance\n * @api public\n */\n\nConnection.prototype.models;\n\n/**\n * A number identifier for this connection. Used for debugging when\n * you have [multiple connections](https://mongoosejs.com/docs/connections.html#multiple_connections).\n *\n * #### Example:\n *\n *     // The default connection has `id = 0`\n *     mongoose.connection.id; // 0\n *\n *     // If you create a new connection, Mongoose increments id\n *     const conn = mongoose.createConnection();\n *     conn.id; // 1\n *\n * @property id\n * @memberOf Connection\n * @instance\n * @api public\n */\n\nConnection.prototype.id;\n\n/**\n * The plugins that will be applied to all models created on this connection.\n *\n * #### Example:\n *\n *     const db = mongoose.createConnection('mongodb://127.0.0.1:27017/mydb');\n *     db.plugin(() => console.log('Applied'));\n *     db.plugins.length; // 1\n *\n *     db.model('Test', new Schema({})); // Prints \"Applied\"\n *\n * @property plugins\n * @memberOf Connection\n * @instance\n * @api public\n */\n\nObject.defineProperty(Connection.prototype, 'plugins', {\n  configurable: false,\n  enumerable: true,\n  writable: true\n});\n\n/**\n * The host name portion of the URI. If multiple hosts, such as a replica set,\n * this will contain the first host name in the URI\n *\n * #### Example:\n *\n *     mongoose.createConnection('mongodb://127.0.0.1:27017/mydb').host; // \"127.0.0.1\"\n *\n * @property host\n * @memberOf Connection\n * @instance\n * @api public\n */\n\nObject.defineProperty(Connection.prototype, 'host', {\n  configurable: true,\n  enumerable: true,\n  writable: true\n});\n\n/**\n * The port portion of the URI. If multiple hosts, such as a replica set,\n * this will contain the port from the first host name in the URI.\n *\n * #### Example:\n *\n *     mongoose.createConnection('mongodb://127.0.0.1:27017/mydb').port; // 27017\n *\n * @property port\n * @memberOf Connection\n * @instance\n * @api public\n */\n\nObject.defineProperty(Connection.prototype, 'port', {\n  configurable: true,\n  enumerable: true,\n  writable: true\n});\n\n/**\n * The username specified in the URI\n *\n * #### Example:\n *\n *     mongoose.createConnection('mongodb://val:psw@127.0.0.1:27017/mydb').user; // \"val\"\n *\n * @property user\n * @memberOf Connection\n * @instance\n * @api public\n */\n\nObject.defineProperty(Connection.prototype, 'user', {\n  configurable: true,\n  enumerable: true,\n  writable: true\n});\n\n/**\n * The password specified in the URI\n *\n * #### Example:\n *\n *     mongoose.createConnection('mongodb://val:psw@127.0.0.1:27017/mydb').pass; // \"psw\"\n *\n * @property pass\n * @memberOf Connection\n * @instance\n * @api public\n */\n\nObject.defineProperty(Connection.prototype, 'pass', {\n  configurable: true,\n  enumerable: true,\n  writable: true\n});\n\n/**\n * The mongodb.Db instance, set when the connection is opened\n *\n * @property db\n * @memberOf Connection\n * @instance\n * @api public\n */\n\nConnection.prototype.db;\n\n/**\n * The MongoClient instance this connection uses to talk to MongoDB. Mongoose automatically sets this property\n * when the connection is opened.\n *\n * @property client\n * @memberOf Connection\n * @instance\n * @api public\n */\n\nConnection.prototype.client;\n\n/**\n * A hash of the global options that are associated with this connection\n *\n * @property config\n * @memberOf Connection\n * @instance\n * @api public\n */\n\nConnection.prototype.config;\n\n/**\n * Helper for `createCollection()`. Will explicitly create the given collection\n * with specified options. Used to create [capped collections](https://www.mongodb.com/docs/manual/core/capped-collections/)\n * and [views](https://www.mongodb.com/docs/manual/core/views/) from mongoose.\n *\n * Options are passed down without modification to the [MongoDB driver's `createCollection()` function](https://mongodb.github.io/node-mongodb-native/4.9/classes/Db.html#createCollection)\n *\n * @method createCollection\n * @param {string} collection The collection to create\n * @param {Object} [options] see [MongoDB driver docs](https://mongodb.github.io/node-mongodb-native/4.9/classes/Db.html#createCollection)\n * @return {Promise}\n * @api public\n */\n\nConnection.prototype.createCollection = async function createCollection(collection, options) {\n  if (typeof options === 'function' || (arguments.length >= 3 && typeof arguments[2] === 'function')) {\n    throw new MongooseError('Connection.prototype.createCollection() no longer accepts a callback');\n  }\n\n  await this._waitForConnect();\n\n  return this.db.createCollection(collection, options);\n};\n\n/**\n * _Requires MongoDB Server 8.0 or greater_. Executes bulk write operations across multiple models in a single operation.\n * You must specify the `model` for each operation: Mongoose will use `model` for casting and validation, as well as\n * determining which collection to apply the operation to.\n *\n * #### Example:\n *     const Test = mongoose.model('Test', new Schema({ name: String }));\n *\n *     await db.bulkWrite([\n *       { model: Test, name: 'insertOne', document: { name: 'test1' } }, // Can specify model as a Model class...\n *       { model: 'Test', name: 'insertOne', document: { name: 'test2' } } // or as a model name\n *     ], { ordered: false });\n *\n * @method bulkWrite\n * @param {Array} ops\n * @param {Object} [options]\n * @param {Boolean} [options.ordered] If false, perform unordered operations. If true, perform ordered operations.\n * @param {Session} [options.session] The session to use for the operation.\n * @return {Promise}\n * @see MongoDB https://www.mongodb.com/docs/manual/reference/command/bulkWrite/#mongodb-dbcommand-dbcmd.bulkWrite\n * @api public\n */\n\n\nConnection.prototype.bulkWrite = async function bulkWrite(ops, options) {\n  await this._waitForConnect();\n  options = options || {};\n\n  const ordered = options.ordered == null ? true : options.ordered;\n  const asyncLocalStorage = this.base.transactionAsyncLocalStorage?.getStore();\n  if ((!options || !options.hasOwnProperty('session')) && asyncLocalStorage?.session != null) {\n    options = { ...options, session: asyncLocalStorage.session };\n  }\n\n  const now = this.base.now();\n\n  let res = null;\n  if (ordered) {\n    const opsToSend = [];\n    for (const op of ops) {\n      if (typeof op.model !== 'string' && !op.model?.[modelSymbol]) {\n        throw new MongooseError('Must specify model in Connection.prototype.bulkWrite() operations');\n      }\n      const Model = op.model[modelSymbol] ? op.model : this.model(op.model);\n\n      if (op.name == null) {\n        throw new MongooseError('Must specify operation name in Connection.prototype.bulkWrite()');\n      }\n      if (!castBulkWrite.cast.hasOwnProperty(op.name)) {\n        throw new MongooseError(`Unrecognized bulkWrite() operation name ${op.name}`);\n      }\n\n      await castBulkWrite.cast[op.name](Model, op, options, now);\n      opsToSend.push({ ...op, namespace: Model.namespace() });\n    }\n\n    res = await this.client.bulkWrite(opsToSend, options);\n  } else {\n    const validOps = [];\n    const validOpIndexes = [];\n    let validationErrors = [];\n    const asyncValidations = [];\n    const results = [];\n    for (let i = 0; i < ops.length; ++i) {\n      const op = ops[i];\n      if (typeof op.model !== 'string' && !op.model?.[modelSymbol]) {\n        const error = new MongooseError('Must specify model in Connection.prototype.bulkWrite() operations');\n        validationErrors.push({ index: i, error: error });\n        results[i] = error;\n        continue;\n      }\n      let Model;\n      try {\n        Model = op.model[modelSymbol] ? op.model : this.model(op.model);\n      } catch (error) {\n        validationErrors.push({ index: i, error: error });\n        continue;\n      }\n      if (op.name == null) {\n        const error = new MongooseError('Must specify operation name in Connection.prototype.bulkWrite()');\n        validationErrors.push({ index: i, error: error });\n        results[i] = error;\n        continue;\n      }\n      if (!castBulkWrite.cast.hasOwnProperty(op.name)) {\n        const error = new MongooseError(`Unrecognized bulkWrite() operation name ${op.name}`);\n        validationErrors.push({ index: i, error: error });\n        results[i] = error;\n        continue;\n      }\n\n      let maybePromise = null;\n      try {\n        maybePromise = castBulkWrite.cast[op.name](Model, op, options, now);\n      } catch (error) {\n        validationErrors.push({ index: i, error: error });\n        results[i] = error;\n        continue;\n      }\n      if (isPromise(maybePromise)) {\n        asyncValidations.push(\n          maybePromise.then(\n            () => {\n              validOps.push({ ...op, namespace: Model.namespace() });\n              validOpIndexes.push(i);\n            },\n            error => {\n              validationErrors.push({ index: i, error: error });\n              results[i] = error;\n            }\n          )\n        );\n      } else {\n        validOps.push({ ...op, namespace: Model.namespace() });\n        validOpIndexes.push(i);\n      }\n    }\n\n    if (asyncValidations.length > 0) {\n      await Promise.all(asyncValidations);\n    }\n\n    validationErrors = validationErrors.\n      sort((v1, v2) => v1.index - v2.index).\n      map(v => v.error);\n\n    if (validOps.length === 0) {\n      if (options.throwOnValidationError && validationErrors.length) {\n        throw new MongooseBulkWriteError(\n          validationErrors,\n          results,\n          res,\n          'bulkWrite'\n        );\n      }\n      const BulkWriteResult = this.base.driver.get().BulkWriteResult;\n      const res = new BulkWriteResult(getDefaultBulkwriteResult(), false);\n      return decorateBulkWriteResult(res, validationErrors, results);\n    }\n\n    let error;\n    [res, error] = await this.client.bulkWrite(validOps, options).\n      then(res => ([res, null])).\n      catch(err => ([null, err]));\n\n    for (let i = 0; i < validOpIndexes.length; ++i) {\n      results[validOpIndexes[i]] = null;\n    }\n    if (error) {\n      if (validationErrors.length > 0) {\n        decorateBulkWriteResult(error, validationErrors, results);\n        error.mongoose = error.mongoose || {};\n        error.mongoose.validationErrors = validationErrors;\n      }\n    }\n\n    if (validationErrors.length > 0) {\n      if (options.throwOnValidationError) {\n        throw new MongooseBulkWriteError(\n          validationErrors,\n          results,\n          res,\n          'bulkWrite'\n        );\n      } else {\n        decorateBulkWriteResult(res, validationErrors, results);\n      }\n    }\n  }\n\n  return res;\n};\n\n/**\n * Calls `createCollection()` on a models in a series.\n *\n * @method createCollections\n * @param {Boolean} continueOnError When true, will continue to create collections and create a new error class for the collections that errored.\n * @returns {Promise}\n * @api public\n */\n\nConnection.prototype.createCollections = async function createCollections(options = {}) {\n  const result = {};\n  const errorsMap = { };\n\n  const { continueOnError } = options;\n  delete options.continueOnError;\n  for (const model of Object.values(this.models)) {\n    try {\n      result[model.modelName] = await model.createCollection({});\n    } catch (err) {\n      if (!continueOnError) {\n        errorsMap[model.modelName] = err;\n        break;\n      } else {\n        result[model.modelName] = err;\n      }\n    }\n  }\n\n  if (!continueOnError && Object.keys(errorsMap).length) {\n    const message = Object.entries(errorsMap).map(([modelName, err]) => `${modelName}: ${err.message}`).join(', ');\n    const createCollectionsError = new CreateCollectionsError(message, errorsMap);\n    throw createCollectionsError;\n  }\n  return result;\n};\n\n/**\n * A convenience wrapper for `connection.client.withSession()`.\n *\n * #### Example:\n *\n *     await conn.withSession(async session => {\n *       const doc = await TestModel.findOne().session(session);\n *     });\n *\n * @method withSession\n * @param {Function} executor called with 1 argument: a `ClientSession` instance\n * @return {Promise} resolves to the return value of the executor function\n * @api public\n */\n\nConnection.prototype.withSession = async function withSession(executor) {\n  if (arguments.length === 0) {\n    throw new Error('Please provide an executor function');\n  }\n  return await this.client.withSession(executor);\n};\n\n/**\n * _Requires MongoDB >= 3.6.0._ Starts a [MongoDB session](https://www.mongodb.com/docs/manual/release-notes/3.6/#client-sessions)\n * for benefits like causal consistency, [retryable writes](https://www.mongodb.com/docs/manual/core/retryable-writes/),\n * and [transactions](https://thecodebarbarian.com/a-node-js-perspective-on-mongodb-4-transactions.html).\n *\n * #### Example:\n *\n *     const session = await conn.startSession();\n *     let doc = await Person.findOne({ name: 'Ned Stark' }, null, { session });\n *     await doc.deleteOne();\n *     // `doc` will always be null, even if reading from a replica set\n *     // secondary. Without causal consistency, it is possible to\n *     // get a doc back from the below query if the query reads from a\n *     // secondary that is experiencing replication lag.\n *     doc = await Person.findOne({ name: 'Ned Stark' }, null, { session, readPreference: 'secondary' });\n *\n *\n * @method startSession\n * @param {Object} [options] see the [mongodb driver options](https://mongodb.github.io/node-mongodb-native/4.9/classes/MongoClient.html#startSession)\n * @param {Boolean} [options.causalConsistency=true] set to false to disable causal consistency\n * @return {Promise<ClientSession>} promise that resolves to a MongoDB driver `ClientSession`\n * @api public\n */\n\nConnection.prototype.startSession = async function startSession(options) {\n  if (arguments.length >= 2 && typeof arguments[1] === 'function') {\n    throw new MongooseError('Connection.prototype.startSession() no longer accepts a callback');\n  }\n\n  await this._waitForConnect();\n\n  const session = this.client.startSession(options);\n  return session;\n};\n\n/**\n * _Requires MongoDB >= 3.6.0._ Executes the wrapped async function\n * in a transaction. Mongoose will commit the transaction if the\n * async function executes successfully and attempt to retry if\n * there was a retriable error.\n *\n * Calls the MongoDB driver's [`session.withTransaction()`](https://mongodb.github.io/node-mongodb-native/4.9/classes/ClientSession.html#withTransaction),\n * but also handles resetting Mongoose document state as shown below.\n *\n * #### Example:\n *\n *     const doc = new Person({ name: 'Will Riker' });\n *     await db.transaction(async function setRank(session) {\n *       doc.rank = 'Captain';\n *       await doc.save({ session });\n *       doc.isNew; // false\n *\n *       // Throw an error to abort the transaction\n *       throw new Error('Oops!');\n *     },{ readPreference: 'primary' }).catch(() => {});\n *\n *     // true, `transaction()` reset the document's state because the\n *     // transaction was aborted.\n *     doc.isNew;\n *\n * @method transaction\n * @param {Function} fn Function to execute in a transaction\n * @param {mongodb.TransactionOptions} [options] Optional settings for the transaction\n * @return {Promise<Any>} promise that is fulfilled if Mongoose successfully committed the transaction, or rejects if the transaction was aborted or if Mongoose failed to commit the transaction. If fulfilled, the promise resolves to a MongoDB command result.\n * @api public\n */\n\nConnection.prototype.transaction = function transaction(fn, options) {\n  return this.startSession().then(session => {\n    session[sessionNewDocuments] = new Map();\n    return session.withTransaction(() => _wrapUserTransaction(fn, session, this.base), options).\n      then(res => {\n        delete session[sessionNewDocuments];\n        return res;\n      }).\n      catch(err => {\n        delete session[sessionNewDocuments];\n        throw err;\n      }).\n      finally(() => {\n        session.endSession().catch(() => {});\n      });\n  });\n};\n\n/*!\n * Reset document state in between transaction retries re: gh-13698\n */\n\nasync function _wrapUserTransaction(fn, session, mongoose) {\n  try {\n    const res = mongoose.transactionAsyncLocalStorage == null\n      ? await fn(session)\n      : await new Promise(resolve => {\n        mongoose.transactionAsyncLocalStorage.run(\n          { session },\n          () => resolve(fn(session))\n        );\n      });\n    return res;\n  } catch (err) {\n    _resetSessionDocuments(session);\n    throw err;\n  }\n}\n\n/*!\n * If transaction was aborted, we need to reset newly inserted documents' `isNew`.\n */\nfunction _resetSessionDocuments(session) {\n  for (const doc of session[sessionNewDocuments].keys()) {\n    const state = session[sessionNewDocuments].get(doc);\n    if (state.hasOwnProperty('isNew')) {\n      doc.$isNew = state.isNew;\n    }\n    if (state.hasOwnProperty('versionKey')) {\n      doc.set(doc.schema.options.versionKey, state.versionKey);\n    }\n\n    if (state.modifiedPaths.length > 0 && doc.$__.activePaths.states.modify == null) {\n      doc.$__.activePaths.states.modify = {};\n    }\n    for (const path of state.modifiedPaths) {\n      const currentState = doc.$__.activePaths.paths[path];\n      if (currentState != null) {\n        delete doc.$__.activePaths[currentState][path];\n      }\n      doc.$__.activePaths.paths[path] = 'modify';\n      doc.$__.activePaths.states.modify[path] = true;\n    }\n\n    for (const path of state.atomics.keys()) {\n      const val = doc.$__getValue(path);\n      if (val == null) {\n        continue;\n      }\n      val[arrayAtomicsSymbol] = state.atomics.get(path);\n    }\n  }\n}\n\n/**\n * Helper for `dropCollection()`. Will delete the given collection, including\n * all documents and indexes.\n *\n * @method dropCollection\n * @param {string} collection The collection to delete\n * @return {Promise}\n * @api public\n */\n\nConnection.prototype.dropCollection = async function dropCollection(collection) {\n  if (arguments.length >= 2 && typeof arguments[1] === 'function') {\n    throw new MongooseError('Connection.prototype.dropCollection() no longer accepts a callback');\n  }\n\n  await this._waitForConnect();\n\n  return this.db.dropCollection(collection);\n};\n\n/**\n * Waits for connection to be established, so the connection has a `client`\n *\n * @param {Boolean} [noTimeout=false] if set, don't put a timeout on the operation. Used internally so `mongoose.model()` doesn't leave open handles.\n * @return Promise\n * @api private\n */\n\nConnection.prototype._waitForConnect = async function _waitForConnect(noTimeout) {\n  if ((this.readyState === STATES.connecting || this.readyState === STATES.disconnected) && this._shouldBufferCommands()) {\n    const bufferTimeoutMS = this._getBufferTimeoutMS();\n    let timeout = null;\n    let timedOut = false;\n    // The element that this function pushes onto `_queue`, stored to make it easy to remove later\n    const queueElement = {};\n\n    // Mongoose executes all elements in `_queue` when initial connection succeeds in `onOpen()`.\n    const waitForConnectPromise = new Promise(resolve => {\n      queueElement.fn = resolve;\n      this._queue.push(queueElement);\n    });\n\n    if (noTimeout) {\n      await waitForConnectPromise;\n    } else {\n      await Promise.race([\n        waitForConnectPromise,\n        new Promise(resolve => {\n          timeout = setTimeout(\n            () => {\n              timedOut = true;\n              resolve();\n            },\n            bufferTimeoutMS\n          );\n        })\n      ]);\n    }\n\n    if (timedOut) {\n      const index = this._queue.indexOf(queueElement);\n      if (index !== -1) {\n        this._queue.splice(index, 1);\n      }\n      const message = 'Connection operation buffering timed out after ' + bufferTimeoutMS + 'ms';\n      throw new MongooseError(message);\n    } else if (timeout != null) {\n      // Not strictly necessary, but avoid the extra overhead of creating a new MongooseError\n      // in case of success\n      clearTimeout(timeout);\n    }\n  }\n};\n\n/*!\n * Get the default buffer timeout for this connection\n */\n\nConnection.prototype._getBufferTimeoutMS = function _getBufferTimeoutMS() {\n  if (this.config.bufferTimeoutMS != null) {\n    return this.config.bufferTimeoutMS;\n  }\n  if (this.base != null && this.base.get('bufferTimeoutMS') != null) {\n    return this.base.get('bufferTimeoutMS');\n  }\n  return 10000;\n};\n\n/**\n * Helper for MongoDB Node driver's `listCollections()`.\n * Returns an array of collection objects.\n *\n * @method listCollections\n * @return {Promise<Collection[]>}\n * @api public\n */\n\nConnection.prototype.listCollections = async function listCollections() {\n  await this._waitForConnect();\n\n  const cursor = this.db.listCollections();\n  return await cursor.toArray();\n};\n\n/**\n * Helper for MongoDB Node driver's `listDatabases()`.\n * Returns an object with a `databases` property that contains an\n * array of database objects.\n *\n * #### Example:\n *     const { databases } = await mongoose.connection.listDatabases();\n *     databases; // [{ name: 'mongoose_test', sizeOnDisk: 0, empty: false }]\n *\n * @method listCollections\n * @return {Promise<{ databases: Array<{ name: string }> }>}\n * @api public\n */\n\nConnection.prototype.listDatabases = async function listDatabases() {\n  // Implemented in `lib/drivers/node-mongodb-native/connection.js`\n  throw new MongooseError('listDatabases() not implemented by driver');\n};\n\n/**\n * Helper for `dropDatabase()`. Deletes the given database, including all\n * collections, documents, and indexes.\n *\n * #### Example:\n *\n *     const conn = mongoose.createConnection('mongodb://127.0.0.1:27017/mydb');\n *     // Deletes the entire 'mydb' database\n *     await conn.dropDatabase();\n *\n * @method dropDatabase\n * @return {Promise}\n * @api public\n */\n\nConnection.prototype.dropDatabase = async function dropDatabase() {\n  if (arguments.length >= 1 && typeof arguments[0] === 'function') {\n    throw new MongooseError('Connection.prototype.dropDatabase() no longer accepts a callback');\n  }\n\n  await this._waitForConnect();\n\n  // If `dropDatabase()` is called, this model's collection will not be\n  // init-ed. It is sufficiently common to call `dropDatabase()` after\n  // `mongoose.connect()` but before creating models that we want to\n  // support this. See gh-6796\n  for (const model of Object.values(this.models)) {\n    delete model.$init;\n  }\n\n  return this.db.dropDatabase();\n};\n\n/*!\n * ignore\n */\n\nConnection.prototype._shouldBufferCommands = function _shouldBufferCommands() {\n  if (this.config.bufferCommands != null) {\n    return this.config.bufferCommands;\n  }\n  if (this.base.get('bufferCommands') != null) {\n    return this.base.get('bufferCommands');\n  }\n  return true;\n};\n\n/**\n * error\n *\n * Graceful error handling, passes error to callback\n * if available, else emits error on the connection.\n *\n * @param {Error} err\n * @param {Function} callback optional\n * @emits \"error\" Emits the `error` event with the given `err`, unless a callback is specified\n * @returns {Promise|null} Returns a rejected Promise if no `callback` is given.\n * @api private\n */\n\nConnection.prototype.error = function error(err, callback) {\n  if (callback) {\n    callback(err);\n    return null;\n  }\n  if (this.listeners('error').length > 0) {\n    this.emit('error', err);\n  }\n  return Promise.reject(err);\n};\n\n/**\n * Called when the connection is opened\n *\n * @emits \"open\"\n * @api private\n */\n\nConnection.prototype.onOpen = function() {\n  this.readyState = STATES.connected;\n\n  for (const d of this._queue) {\n    d.fn.apply(d.ctx, d.args);\n  }\n  this._queue = [];\n\n  // avoid having the collection subscribe to our event emitter\n  // to prevent 0.3 warning\n  for (const i in this.collections) {\n    if (utils.object.hasOwnProperty(this.collections, i)) {\n      this.collections[i].onOpen();\n    }\n  }\n\n  this.emit('open');\n};\n\n/**\n * Opens the connection with a URI using `MongoClient.connect()`.\n *\n * @param {String} uri The URI to connect with.\n * @param {Object} [options] Passed on to [`MongoClient.connect`](https://mongodb.github.io/node-mongodb-native/4.9/classes/MongoClient.html#connect-1)\n * @param {Boolean} [options.bufferCommands=true] Mongoose specific option. Set to false to [disable buffering](https://mongoosejs.com/docs/faq.html#callback_never_executes) on all models associated with this connection.\n * @param {Number} [options.bufferTimeoutMS=10000] Mongoose specific option. If `bufferCommands` is true, Mongoose will throw an error after `bufferTimeoutMS` if the operation is still buffered.\n * @param {String} [options.dbName] The name of the database we want to use. If not provided, use database name from connection string.\n * @param {String} [options.user] username for authentication, equivalent to `options.auth.username`. Maintained for backwards compatibility.\n * @param {String} [options.pass] password for authentication, equivalent to `options.auth.password`. Maintained for backwards compatibility.\n * @param {Number} [options.maxPoolSize=100] The maximum number of sockets the MongoDB driver will keep open for this connection. Keep in mind that MongoDB only allows one operation per socket at a time, so you may want to increase this if you find you have a few slow queries that are blocking faster queries from proceeding. See [Slow Trains in MongoDB and Node.js](https://thecodebarbarian.com/slow-trains-in-mongodb-and-nodejs).\n * @param {Number} [options.minPoolSize=0] The minimum number of sockets the MongoDB driver will keep open for this connection. Keep in mind that MongoDB only allows one operation per socket at a time, so you may want to increase this if you find you have a few slow queries that are blocking faster queries from proceeding. See [Slow Trains in MongoDB and Node.js](https://thecodebarbarian.com/slow-trains-in-mongodb-and-nodejs).\n * @param {Number} [options.serverSelectionTimeoutMS] If `useUnifiedTopology = true`, the MongoDB driver will try to find a server to send any given operation to, and keep retrying for `serverSelectionTimeoutMS` milliseconds before erroring out. If not set, the MongoDB driver defaults to using `30000` (30 seconds).\n * @param {Number} [options.heartbeatFrequencyMS] If `useUnifiedTopology = true`, the MongoDB driver sends a heartbeat every `heartbeatFrequencyMS` to check on the status of the connection. A heartbeat is subject to `serverSelectionTimeoutMS`, so the MongoDB driver will retry failed heartbeats for up to 30 seconds by default. Mongoose only emits a `'disconnected'` event after a heartbeat has failed, so you may want to decrease this setting to reduce the time between when your server goes down and when Mongoose emits `'disconnected'`. We recommend you do **not** set this setting below 1000, too many heartbeats can lead to performance degradation.\n * @param {Boolean} [options.autoIndex=true] Mongoose-specific option. Set to false to disable automatic index creation for all models associated with this connection.\n * @param {Class} [options.promiseLibrary] Sets the [underlying driver's promise library](https://mongodb.github.io/node-mongodb-native/4.9/interfaces/MongoClientOptions.html#promiseLibrary).\n * @param {Number} [options.socketTimeoutMS=0] How long the MongoDB driver will wait before killing a socket due to inactivity _after initial connection_. A socket may be inactive because of either no activity or a long-running operation. `socketTimeoutMS` defaults to 0, which means Node.js will not time out the socket due to inactivity. This option is passed to [Node.js `socket#setTimeout()` function](https://nodejs.org/api/net.html#net_socket_settimeout_timeout_callback) after the MongoDB driver successfully completes.\n * @param {Number} [options.family=0] Passed transparently to [Node.js' `dns.lookup()`](https://nodejs.org/api/dns.html#dns_dns_lookup_hostname_options_callback) function. May be either `0, `4`, or `6`. `4` means use IPv4 only, `6` means use IPv6 only, `0` means try both.\n * @param {Boolean} [options.autoCreate=false] Set to `true` to make Mongoose automatically call `createCollection()` on every model created on this connection.\n * @returns {Promise<Connection>}\n * @api public\n */\n\nConnection.prototype.openUri = async function openUri(uri, options) {\n  if (this.readyState === STATES.connecting || this.readyState === STATES.connected) {\n    if (this._connectionString === uri) {\n      return this;\n    }\n  }\n\n  this._closeCalled = false;\n\n  // Internal option to skip `await this.$initialConnection` in\n  // this function for `createConnection()`. Because otherwise\n  // `createConnection()` would have an uncatchable error.\n  let _fireAndForget = false;\n  if (options && '_fireAndForget' in options) {\n    _fireAndForget = options._fireAndForget;\n    delete options._fireAndForget;\n  }\n\n  try {\n    _validateArgs.apply(arguments);\n  } catch (err) {\n    if (_fireAndForget) {\n      throw err;\n    }\n    this.$initialConnection = Promise.reject(err);\n    throw err;\n  }\n\n  this.$initialConnection = this.createClient(uri, options).\n    then(() => this).\n    catch(err => {\n      this.readyState = STATES.disconnected;\n      if (this.listeners('error').length > 0) {\n        immediate(() => this.emit('error', err));\n      }\n      throw err;\n    });\n\n  for (const model of Object.values(this.models)) {\n    // Errors handled internally, so safe to ignore error\n    model.init().catch(function $modelInitNoop() {});\n  }\n\n  // `createConnection()` calls this `openUri()` function without\n  // awaiting on the result, so we set this option to rely on\n  // `asPromise()` to handle any errors.\n  if (_fireAndForget) {\n    return this;\n  }\n\n  try {\n    await this.$initialConnection;\n  } catch (err) {\n    throw _handleConnectionErrors(err);\n  }\n\n  return this;\n};\n\n/**\n * Listen to events in the Connection\n *\n * @param {String} event The event to listen on\n * @param {Function} callback\n * @see Connection#readyState https://mongoosejs.com/docs/api/connection.html#Connection.prototype.readyState\n *\n * @method on\n * @instance\n * @memberOf Connection\n * @api public\n */\n\n// Treat `on('error')` handlers as handling the initialConnection promise\n// to avoid uncaught exceptions when using `on('error')`. See gh-14377.\nConnection.prototype.on = function on(event, callback) {\n  if (event === 'error' && this.$initialConnection) {\n    this.$initialConnection.catch(() => {});\n  }\n  return EventEmitter.prototype.on.call(this, event, callback);\n};\n\n/**\n * Listen to a event once in the Connection\n *\n * @param {String} event The event to listen on\n * @param {Function} callback\n * @see Connection#readyState https://mongoosejs.com/docs/api/connection.html#Connection.prototype.readyState\n *\n * @method once\n * @instance\n * @memberOf Connection\n * @api public\n */\n\n// Treat `on('error')` handlers as handling the initialConnection promise\n// to avoid uncaught exceptions when using `on('error')`. See gh-14377.\nConnection.prototype.once = function on(event, callback) {\n  if (event === 'error' && this.$initialConnection) {\n    this.$initialConnection.catch(() => {});\n  }\n  return EventEmitter.prototype.once.call(this, event, callback);\n};\n\n/*!\n * ignore\n */\n\nfunction _validateArgs(uri, options, callback) {\n  if (typeof options === 'function' && callback == null) {\n    throw new MongooseError('Connection.prototype.openUri() no longer accepts a callback');\n  } else if (typeof callback === 'function') {\n    throw new MongooseError('Connection.prototype.openUri() no longer accepts a callback');\n  }\n}\n\n/*!\n * ignore\n */\n\nfunction _handleConnectionErrors(err) {\n  if (err?.name === 'MongoServerSelectionError') {\n    const originalError = err;\n    err = new ServerSelectionError();\n    err.assimilateError(originalError);\n  }\n\n  return err;\n}\n\n/**\n * Destroy the connection. Similar to [`.close`](https://mongoosejs.com/docs/api/connection.html#Connection.prototype.close()),\n * but also removes the connection from Mongoose's `connections` list and prevents the\n * connection from ever being re-opened.\n *\n * @param {Boolean} [force]\n * @returns {Promise}\n */\n\nConnection.prototype.destroy = async function destroy(force) {\n  if (typeof force === 'function' || (arguments.length === 2 && typeof arguments[1] === 'function')) {\n    throw new MongooseError('Connection.prototype.destroy() no longer accepts a callback');\n  }\n\n  if (force != null && typeof force === 'object') {\n    this.$wasForceClosed = !!force.force;\n  } else {\n    this.$wasForceClosed = !!force;\n  }\n\n  return this._close(force, true);\n};\n\n/**\n * Closes the connection\n *\n * @param {Boolean} [force] optional\n * @return {Promise}\n * @api public\n */\n\nConnection.prototype.close = async function close(force) {\n  if (typeof force === 'function' || (arguments.length === 2 && typeof arguments[1] === 'function')) {\n    throw new MongooseError('Connection.prototype.close() no longer accepts a callback');\n  }\n\n  if (force != null && typeof force === 'object') {\n    this.$wasForceClosed = !!force.force;\n  } else {\n    this.$wasForceClosed = !!force;\n  }\n\n  if (this._lastHeartbeatAt != null) {\n    this._lastHeartbeatAt = null;\n  }\n\n  for (const model of Object.values(this.models)) {\n    // If manually disconnecting, make sure to clear each model's `$init`\n    // promise, so Mongoose knows to re-run `init()` in case the\n    // connection is re-opened. See gh-12047.\n    delete model.$init;\n  }\n\n  return this._close(force, false);\n};\n\n/**\n * Handles closing the connection\n *\n * @param {Boolean} force\n * @param {Boolean} destroy\n * @returns {Connection} this\n * @api private\n */\nConnection.prototype._close = async function _close(force, destroy) {\n  const _this = this;\n  const closeCalled = this._closeCalled;\n  this._closeCalled = true;\n  this._destroyCalled = destroy;\n  if (this.client != null) {\n    this.client._closeCalled = true;\n    this.client._destroyCalled = destroy;\n  }\n\n  const conn = this;\n  switch (this.readyState) {\n    case STATES.disconnected:\n      if (destroy && this.base.connections.indexOf(conn) !== -1) {\n        this.base.connections.splice(this.base.connections.indexOf(conn), 1);\n      }\n      if (!closeCalled) {\n        await this.doClose(force);\n        this.onClose(force);\n      }\n      break;\n\n    case STATES.connected:\n      this.readyState = STATES.disconnecting;\n      await this.doClose(force);\n      if (destroy && _this.base.connections.indexOf(conn) !== -1) {\n        this.base.connections.splice(this.base.connections.indexOf(conn), 1);\n      }\n      this.onClose(force);\n\n      break;\n    case STATES.connecting:\n      return new Promise((resolve, reject) => {\n        const _rerunClose = () => {\n          this.removeListener('open', _rerunClose);\n          this.removeListener('error', _rerunClose);\n          if (destroy) {\n            this.destroy(force).then(resolve, reject);\n          } else {\n            this.close(force).then(resolve, reject);\n          }\n        };\n\n        this.once('open', _rerunClose);\n        this.once('error', _rerunClose);\n      });\n\n    case STATES.disconnecting:\n      return new Promise(resolve => {\n        this.once('close', () => {\n          if (destroy && this.base.connections.indexOf(conn) !== -1) {\n            this.base.connections.splice(this.base.connections.indexOf(conn), 1);\n          }\n          resolve();\n        });\n      });\n  }\n\n  return this;\n};\n\n/**\n * Abstract method that drivers must implement.\n *\n * @api private\n */\n\nConnection.prototype.doClose = function doClose() {\n  throw new Error('Connection#doClose unimplemented by driver');\n};\n\n/**\n * Called when the connection closes\n *\n * @emits \"close\"\n * @api private\n */\n\nConnection.prototype.onClose = function onClose(force) {\n  this.readyState = STATES.disconnected;\n\n  // avoid having the collection subscribe to our event emitter\n  // to prevent 0.3 warning\n  for (const i in this.collections) {\n    if (utils.object.hasOwnProperty(this.collections, i)) {\n      this.collections[i].onClose(force);\n    }\n  }\n\n  this.emit('close', force);\n\n  const wasForceClosed = typeof force === 'object' && force !== null ? force.force : force;\n\n  for (const db of this.otherDbs) {\n    this._destroyCalled ? db.destroy({ force: wasForceClosed, skipCloseClient: true }) : db.close({ force: wasForceClosed, skipCloseClient: true });\n  }\n};\n\n/**\n * Retrieves a raw collection instance, creating it if not cached.\n * This method returns a thin wrapper around a [MongoDB Node.js driver collection]([MongoDB Node.js driver collection](https://mongodb.github.io/node-mongodb-native/Next/classes/Collection.html)).\n * Using a Collection bypasses Mongoose middleware, validation, and casting,\n * letting you use [MongoDB Node.js driver](https://mongodb.github.io/node-mongodb-native/) functionality directly.\n *\n * @param {String} name of the collection\n * @param {Object} [options] optional collection options\n * @return {Collection} collection instance\n * @api public\n */\n\nConnection.prototype.collection = function(name, options) {\n  const defaultOptions = {\n    autoIndex: this.config.autoIndex != null ? this.config.autoIndex : this.base.options.autoIndex,\n    autoCreate: this.config.autoCreate != null ? this.config.autoCreate : this.base.options.autoCreate,\n    autoSearchIndex: this.config.autoSearchIndex != null ? this.config.autoSearchIndex : this.base.options.autoSearchIndex\n  };\n  options = Object.assign({}, defaultOptions, options ? clone(options) : {});\n  options.$wasForceClosed = this.$wasForceClosed;\n  const Collection = this.base && this.base.__driver && this.base.__driver.Collection || driver.get().Collection;\n  if (!(name in this.collections)) {\n    this.collections[name] = new Collection(name, this, options);\n  }\n  return this.collections[name];\n};\n\n/**\n * Declares a plugin executed on all schemas you pass to `conn.model()`\n *\n * Equivalent to calling `.plugin(fn)` on each schema you create.\n *\n * #### Example:\n *\n *     const db = mongoose.createConnection('mongodb://127.0.0.1:27017/mydb');\n *     db.plugin(() => console.log('Applied'));\n *     db.plugins.length; // 1\n *\n *     db.model('Test', new Schema({})); // Prints \"Applied\"\n *\n * @param {Function} fn plugin callback\n * @param {Object} [opts] optional options\n * @return {Connection} this\n * @see plugins https://mongoosejs.com/docs/plugins.html\n * @api public\n */\n\nConnection.prototype.plugin = function(fn, opts) {\n  this.plugins.push([fn, opts]);\n  return this;\n};\n\n/**\n * Defines or retrieves a model.\n *\n *     const mongoose = require('mongoose');\n *     const db = mongoose.createConnection(..);\n *     db.model('Venue', new Schema(..));\n *     const Ticket = db.model('Ticket', new Schema(..));\n *     const Venue = db.model('Venue');\n *\n * _When no `collection` argument is passed, Mongoose produces a collection name by passing the model `name` to the `utils.toCollectionName` method. This method pluralizes the name. If you don't like this behavior, either pass a collection name or set your schemas collection name option._\n *\n * #### Example:\n *\n *     const schema = new Schema({ name: String }, { collection: 'actor' });\n *\n *     // or\n *\n *     schema.set('collection', 'actor');\n *\n *     // or\n *\n *     const collectionName = 'actor'\n *     const M = conn.model('Actor', schema, collectionName)\n *\n * @param {String|Function} name the model name or class extending Model\n * @param {Schema} [schema] a schema. necessary when defining a model\n * @param {String} [collection] name of mongodb collection (optional) if not given it will be induced from model name\n * @param {Object} [options]\n * @param {Boolean} [options.overwriteModels=false] If true, overwrite existing models with the same name to avoid `OverwriteModelError`\n * @see Mongoose#model https://mongoosejs.com/docs/api/mongoose.html#Mongoose.prototype.model()\n * @return {Model} The compiled model\n * @api public\n */\n\nConnection.prototype.model = function model(name, schema, collection, options) {\n  if (!(this instanceof Connection)) {\n    throw new MongooseError('`connection.model()` should not be run with ' +\n      '`new`. If you are doing `new db.model(foo)(bar)`, use ' +\n      '`db.model(foo)(bar)` instead');\n  }\n\n  let fn;\n  if (typeof name === 'function') {\n    fn = name;\n    name = fn.name;\n  }\n\n  // collection name discovery\n  if (typeof schema === 'string') {\n    collection = schema;\n    schema = false;\n  }\n\n  if (utils.isObject(schema)) {\n    if (!schema.instanceOfSchema) {\n      schema = new Schema(schema);\n    } else if (!(schema instanceof this.base.Schema)) {\n      schema = schema._clone(this.base.Schema);\n    }\n  }\n  if (schema && !schema.instanceOfSchema) {\n    throw new Error('The 2nd parameter to `mongoose.model()` should be a ' +\n      'schema or a POJO');\n  }\n\n  const defaultOptions = { cache: false, overwriteModels: this.base.options.overwriteModels };\n  const opts = Object.assign(defaultOptions, options, { connection: this });\n  if (this.models[name] && !collection && opts.overwriteModels !== true) {\n    // model exists but we are not subclassing with custom collection\n    if (schema && schema.instanceOfSchema && schema !== this.models[name].schema) {\n      throw new MongooseError.OverwriteModelError(name);\n    }\n    return this.models[name];\n  }\n\n  let model;\n\n  if (schema && schema.instanceOfSchema) {\n    applyPlugins(schema, this.plugins, null, '$connectionPluginsApplied');\n\n    // compile a model\n    model = this.base._model(fn || name, schema, collection, opts);\n\n    // only the first model with this name is cached to allow\n    // for one-offs with custom collection names etc.\n    if (!this.models[name]) {\n      this.models[name] = model;\n    }\n\n    // Errors handled internally, so safe to ignore error\n    model.init().catch(function $modelInitNoop() {});\n\n    return model;\n  }\n\n  if (this.models[name] && collection) {\n    // subclassing current model with alternate collection\n    model = this.models[name];\n    schema = model.prototype.schema;\n    const sub = model.__subclass(this, schema, collection);\n    // do not cache the sub model\n    return sub;\n  }\n\n  if (arguments.length === 1) {\n    model = this.models[name];\n    if (!model) {\n      throw new MongooseError.MissingSchemaError(name);\n    }\n    return model;\n  }\n\n  if (!model) {\n    throw new MongooseError.MissingSchemaError(name);\n  }\n\n  if (this === model.prototype.db\n      && (!collection || collection === model.collection.name)) {\n    // model already uses this connection.\n\n    // only the first model with this name is cached to allow\n    // for one-offs with custom collection names etc.\n    if (!this.models[name]) {\n      this.models[name] = model;\n    }\n\n    return model;\n  }\n  this.models[name] = model.__subclass(this, schema, collection);\n  return this.models[name];\n};\n\n/**\n * Removes the model named `name` from this connection, if it exists. You can\n * use this function to clean up any models you created in your tests to\n * prevent OverwriteModelErrors.\n *\n * #### Example:\n *\n *     conn.model('User', new Schema({ name: String }));\n *     console.log(conn.model('User')); // Model object\n *     conn.deleteModel('User');\n *     console.log(conn.model('User')); // undefined\n *\n *     // Usually useful in a Mocha `afterEach()` hook\n *     afterEach(function() {\n *       conn.deleteModel(/.+/); // Delete every model\n *     });\n *\n * @api public\n * @param {String|RegExp} name if string, the name of the model to remove. If regexp, removes all models whose name matches the regexp.\n * @return {Connection} this\n */\n\nConnection.prototype.deleteModel = function deleteModel(name) {\n  if (typeof name === 'string') {\n    const model = this.model(name);\n    if (model == null) {\n      return this;\n    }\n    const collectionName = model.collection.name;\n    delete this.models[name];\n    delete this.collections[collectionName];\n\n    this.emit('deleteModel', model);\n  } else if (name instanceof RegExp) {\n    const pattern = name;\n    const names = this.modelNames();\n    for (const name of names) {\n      if (pattern.test(name)) {\n        this.deleteModel(name);\n      }\n    }\n  } else {\n    throw new Error('First parameter to `deleteModel()` must be a string ' +\n      'or regexp, got \"' + name + '\"');\n  }\n\n  return this;\n};\n\n/**\n * Watches the entire underlying database for changes. Similar to\n * [`Model.watch()`](https://mongoosejs.com/docs/api/model.html#Model.watch()).\n *\n * This function does **not** trigger any middleware. In particular, it\n * does **not** trigger aggregate middleware.\n *\n * The ChangeStream object is an event emitter that emits the following events:\n *\n * - 'change': A change occurred, see below example\n * - 'error': An unrecoverable error occurred. In particular, change streams currently error out if they lose connection to the replica set primary. Follow [this GitHub issue](https://github.com/Automattic/mongoose/issues/6799) for updates.\n * - 'end': Emitted if the underlying stream is closed\n * - 'close': Emitted if the underlying stream is closed\n *\n * #### Example:\n *\n *     const User = conn.model('User', new Schema({ name: String }));\n *\n *     const changeStream = conn.watch().on('change', data => console.log(data));\n *\n *     // Triggers a 'change' event on the change stream.\n *     await User.create({ name: 'test' });\n *\n * @api public\n * @param {Array} [pipeline]\n * @param {Object} [options] passed without changes to [the MongoDB driver's `Db#watch()` function](https://mongodb.github.io/node-mongodb-native/4.9/classes/Db.html#watch)\n * @return {ChangeStream} mongoose-specific change stream wrapper, inherits from EventEmitter\n */\n\nConnection.prototype.watch = function watch(pipeline, options) {\n  const changeStreamThunk = cb => {\n    immediate(() => {\n      if (this.readyState === STATES.connecting) {\n        this.once('open', function() {\n          const driverChangeStream = this.db.watch(pipeline, options);\n          cb(null, driverChangeStream);\n        });\n      } else {\n        const driverChangeStream = this.db.watch(pipeline, options);\n        cb(null, driverChangeStream);\n      }\n    });\n  };\n\n  const changeStream = new ChangeStream(changeStreamThunk, pipeline, options);\n  return changeStream;\n};\n\n/**\n * Returns a promise that resolves when this connection\n * successfully connects to MongoDB, or rejects if this connection failed\n * to connect.\n *\n * #### Example:\n *\n *     const conn = await mongoose.createConnection('mongodb://127.0.0.1:27017/test').\n *       asPromise();\n *     conn.readyState; // 1, means Mongoose is connected\n *\n * @api public\n * @return {Promise}\n */\n\nConnection.prototype.asPromise = async function asPromise() {\n  try {\n    await this.$initialConnection;\n    return this;\n  } catch (err) {\n    throw _handleConnectionErrors(err);\n  }\n};\n\n/**\n * Returns an array of model names created on this connection.\n * @api public\n * @return {String[]}\n */\n\nConnection.prototype.modelNames = function modelNames() {\n  return Object.keys(this.models);\n};\n\n/**\n * Returns if the connection requires authentication after it is opened. Generally if a\n * username and password are both provided than authentication is needed, but in some cases a\n * password is not required.\n *\n * @api private\n * @return {Boolean} true if the connection should be authenticated after it is opened, otherwise false.\n */\nConnection.prototype.shouldAuthenticate = function shouldAuthenticate() {\n  return this.user != null &&\n    (this.pass != null || this.authMechanismDoesNotRequirePassword());\n};\n\n/**\n * Returns a boolean value that specifies if the current authentication mechanism needs a\n * password to authenticate according to the auth objects passed into the openUri methods.\n *\n * @api private\n * @return {Boolean} true if the authentication mechanism specified in the options object requires\n *  a password, otherwise false.\n */\nConnection.prototype.authMechanismDoesNotRequirePassword = function authMechanismDoesNotRequirePassword() {\n  if (this.options && this.options.auth) {\n    return noPasswordAuthMechanisms.indexOf(this.options.auth.authMechanism) >= 0;\n  }\n  return true;\n};\n\n/**\n * Returns a boolean value that specifies if the provided objects object provides enough\n * data to authenticate with. Generally this is true if the username and password are both specified\n * but in some authentication methods, a password is not required for authentication so only a username\n * is required.\n *\n * @param {Object} [options] the options object passed into the openUri methods.\n * @api private\n * @return {Boolean} true if the provided options object provides enough data to authenticate with,\n *   otherwise false.\n */\nConnection.prototype.optionsProvideAuthenticationData = function optionsProvideAuthenticationData(options) {\n  return (options) &&\n      (options.user) &&\n      ((options.pass) || this.authMechanismDoesNotRequirePassword());\n};\n\n/**\n * Returns the [MongoDB driver `MongoClient`](https://mongodb.github.io/node-mongodb-native/4.9/classes/MongoClient.html) instance\n * that this connection uses to talk to MongoDB.\n *\n * #### Example:\n *\n *     const conn = await mongoose.createConnection('mongodb://127.0.0.1:27017/test').\n *       asPromise();\n *\n *     conn.getClient(); // MongoClient { ... }\n *\n * @api public\n * @return {MongoClient}\n */\n\nConnection.prototype.getClient = function getClient() {\n  return this.client;\n};\n\n/**\n * Set the [MongoDB driver `MongoClient`](https://mongodb.github.io/node-mongodb-native/4.9/classes/MongoClient.html) instance\n * that this connection uses to talk to MongoDB. This is useful if you already have a MongoClient instance, and want to\n * reuse it.\n *\n * #### Example:\n *\n *     const client = await mongodb.MongoClient.connect('mongodb://127.0.0.1:27017/test');\n *\n *     const conn = mongoose.createConnection().setClient(client);\n *\n *     conn.getClient(); // MongoClient { ... }\n *     conn.readyState; // 1, means 'CONNECTED'\n *\n * @api public\n * @param {MongClient} client The Client to set to be used.\n * @return {Connection} this\n */\n\nConnection.prototype.setClient = function setClient() {\n  throw new MongooseError('Connection#setClient not implemented by driver');\n};\n\n/*!\n * Called internally by `openUri()` to create a MongoClient instance.\n */\n\nConnection.prototype.createClient = function createClient() {\n  throw new MongooseError('Connection#createClient not implemented by driver');\n};\n\n/**\n * Syncs all the indexes for the models registered with this connection.\n *\n * @param {Object} [options]\n * @param {Boolean} [options.continueOnError] `false` by default. If set to `true`, mongoose will not throw an error if one model syncing failed, and will return an object where the keys are the names of the models, and the values are the results/errors for each model.\n * @return {Promise<Object>} Returns a Promise, when the Promise resolves the value is a list of the dropped indexes.\n */\nConnection.prototype.syncIndexes = async function syncIndexes(options = {}) {\n  const result = {};\n  const errorsMap = { };\n\n  const { continueOnError } = options;\n  delete options.continueOnError;\n\n  for (const model of Object.values(this.models)) {\n    try {\n      result[model.modelName] = await model.syncIndexes(options);\n    } catch (err) {\n      if (!continueOnError) {\n        errorsMap[model.modelName] = err;\n        break;\n      } else {\n        result[model.modelName] = err;\n      }\n    }\n  }\n\n  if (!continueOnError && Object.keys(errorsMap).length) {\n    const message = Object.entries(errorsMap).map(([modelName, err]) => `${modelName}: ${err.message}`).join(', ');\n    const syncIndexesError = new SyncIndexesError(message, errorsMap);\n    throw syncIndexesError;\n  }\n\n  return result;\n};\n\n/**\n * Switches to a different database using the same [connection pool](https://mongoosejs.com/docs/api/connectionshtml#connection_pools).\n *\n * Returns a new connection object, with the new db.\n *\n * #### Example:\n *\n *     // Connect to `initialdb` first\n *     const conn = await mongoose.createConnection('mongodb://127.0.0.1:27017/initialdb').asPromise();\n *\n *     // Creates an un-cached connection to `mydb`\n *     const db = conn.useDb('mydb');\n *     // Creates a cached connection to `mydb2`. All calls to `conn.useDb('mydb2', { useCache: true })` will return the same\n *     // connection instance as opposed to creating a new connection instance\n *     const db2 = conn.useDb('mydb2', { useCache: true });\n *\n * @method useDb\n * @memberOf Connection\n * @param {String} name The database name\n * @param {Object} [options]\n * @param {Boolean} [options.useCache=false] If true, cache results so calling `useDb()` multiple times with the same name only creates 1 connection object.\n * @param {Boolean} [options.noListener=false] If true, the connection object will not make the db listen to events on the original connection. See [issue #9961](https://github.com/Automattic/mongoose/issues/9961).\n * @return {Connection} New Connection Object\n * @api public\n */\n\n/**\n * Runs a [db-level aggregate()](https://www.mongodb.com/docs/manual/reference/method/db.aggregate/) on this connection's underlying `db`\n *\n * @method aggregate\n * @memberOf Connection\n * @param {Array} pipeline\n * @param {Object} [options]\n * @param {Boolean} [options.cursor=false] If true, make the Aggregate resolve to a Mongoose AggregationCursor rather than an array\n * @return {Aggregate} Aggregation wrapper\n * @api public\n */\n\n/**\n * Removes the database connection with the given name created with with `useDb()`.\n *\n * Throws an error if the database connection was not found.\n *\n * #### Example:\n *\n *     // Connect to `initialdb` first\n *     const conn = await mongoose.createConnection('mongodb://127.0.0.1:27017/initialdb').asPromise();\n *\n *     // Creates an un-cached connection to `mydb`\n *     const db = conn.useDb('mydb');\n *\n *     // Closes `db`, and removes `db` from `conn.relatedDbs` and `conn.otherDbs`\n *     await conn.removeDb('mydb');\n *\n * @method removeDb\n * @memberOf Connection\n * @param {String} name The database name\n * @return {Connection} this\n * @api public\n */\n\n/*!\n * Module exports.\n */\n\nConnection.STATES = STATES;\nmodule.exports = Connection;\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 15766, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/backend/node_modules/mongoose/lib/validOptions.js"],"sourcesContent":["\n/*!\n * Valid mongoose options\n */\n\n'use strict';\n\nconst VALID_OPTIONS = Object.freeze([\n  'allowDiskUse',\n  'applyPluginsToChildSchemas',\n  'applyPluginsToDiscriminators',\n  'autoCreate',\n  'autoIndex',\n  'autoSearchIndex',\n  'bufferCommands',\n  'bufferTimeoutMS',\n  'cloneSchemas',\n  'createInitialConnection',\n  'debug',\n  'forceRepopulate',\n  'id',\n  'timestamps.createdAt.immutable',\n  'maxTimeMS',\n  'objectIdGetter',\n  'overwriteModels',\n  'returnOriginal',\n  'runValidators',\n  'sanitizeFilter',\n  'sanitizeProjection',\n  'selectPopulatedPaths',\n  'setDefaultsOnInsert',\n  'skipOriginalStackTraces',\n  'strict',\n  'strictPopulate',\n  'strictQuery',\n  'toJSON',\n  'toObject',\n  'transactionAsyncLocalStorage',\n  'translateAliases'\n]);\n\nmodule.exports = VALID_OPTIONS;\n"],"names":[],"mappings":"AACA;;CAEC,GAID,MAAM,gBAAgB,OAAO,MAAM,CAAC;IAClC;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CACD;AAED,OAAO,OAAO,GAAG","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 15806, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/backend/node_modules/mongoose/lib/aggregate.js"],"sourcesContent":["'use strict';\n\n/*!\n * Module dependencies\n */\n\nconst AggregationCursor = require('./cursor/aggregationCursor');\nconst MongooseError = require('./error/mongooseError');\nconst Query = require('./query');\nconst { applyGlobalMaxTimeMS, applyGlobalDiskUse } = require('./helpers/query/applyGlobalOption');\nconst clone = require('./helpers/clone');\nconst getConstructorName = require('./helpers/getConstructorName');\nconst prepareDiscriminatorPipeline = require('./helpers/aggregate/prepareDiscriminatorPipeline');\nconst stringifyFunctionOperators = require('./helpers/aggregate/stringifyFunctionOperators');\nconst utils = require('./utils');\nconst { modelSymbol } = require('./helpers/symbols');\nconst read = Query.prototype.read;\nconst readConcern = Query.prototype.readConcern;\n\nconst validRedactStringValues = new Set(['$$DESCEND', '$$PRUNE', '$$KEEP']);\n\n/**\n * Aggregate constructor used for building aggregation pipelines. Do not\n * instantiate this class directly, use [Model.aggregate()](https://mongoosejs.com/docs/api/model.html#Model.aggregate()) instead.\n *\n * #### Example:\n *\n *     const aggregate = Model.aggregate([\n *       { $project: { a: 1, b: 1 } },\n *       { $skip: 5 }\n *     ]);\n *\n *     Model.\n *       aggregate([{ $match: { age: { $gte: 21 }}}]).\n *       unwind('tags').\n *       exec();\n *\n * #### Note:\n *\n * - The documents returned are plain javascript objects, not mongoose documents (since any shape of document can be returned).\n * - Mongoose does **not** cast pipeline stages. The below will **not** work unless `_id` is a string in the database\n *\n *     new Aggregate([{ $match: { _id: '00000000000000000000000a' } }]);\n *     // Do this instead to cast to an ObjectId\n *     new Aggregate([{ $match: { _id: new mongoose.Types.ObjectId('00000000000000000000000a') } }]);\n *\n * @see MongoDB https://www.mongodb.com/docs/manual/applications/aggregation/\n * @see driver https://mongodb.github.io/node-mongodb-native/4.9/classes/Collection.html#aggregate\n * @param {Array} [pipeline] aggregation pipeline as an array of objects\n * @param {Model|Connection} [modelOrConn] the model or connection to use with this aggregate.\n * @api public\n */\n\nfunction Aggregate(pipeline, modelOrConn) {\n  this._pipeline = [];\n  if (modelOrConn == null || modelOrConn[modelSymbol]) {\n    this._model = modelOrConn;\n  } else {\n    this._connection = modelOrConn;\n  }\n  this.options = {};\n\n  if (arguments.length === 1 && Array.isArray(pipeline)) {\n    this.append.apply(this, pipeline);\n  }\n}\n\n/**\n * Contains options passed down to the [aggregate command](https://www.mongodb.com/docs/manual/reference/command/aggregate/).\n * Supported options are:\n *\n * - [`allowDiskUse`](https://mongoosejs.com/docs/api/aggregate.html#Aggregate.prototype.allowDiskUse())\n * - `bypassDocumentValidation`\n * - [`collation`](https://mongoosejs.com/docs/api/aggregate.html#Aggregate.prototype.collation())\n * - `comment`\n * - [`cursor`](https://mongoosejs.com/docs/api/aggregate.html#Aggregate.prototype.cursor())\n * - [`explain`](https://mongoosejs.com/docs/api/aggregate.html#Aggregate.prototype.explain())\n * - `fieldsAsRaw`\n * - [`hint`](https://mongoosejs.com/docs/api/aggregate.html#Aggregate.prototype.hint())\n * - `let`\n * - `maxTimeMS`\n * - `raw`\n * - [`readConcern`](https://mongoosejs.com/docs/api/aggregate.html#Aggregate.prototype.readConcern())\n * - `readPreference`\n * - [`session`](https://mongoosejs.com/docs/api/aggregate.html#Aggregate.prototype.session())\n * - `writeConcern`\n *\n * @property options\n * @memberOf Aggregate\n * @api public\n */\n\nAggregate.prototype.options;\n\n/**\n * Returns default options for this aggregate.\n *\n * @param {Model} model\n * @api private\n */\n\nAggregate.prototype._optionsForExec = function() {\n  const options = this.options || {};\n\n  const asyncLocalStorage = this.model()?.db?.base.transactionAsyncLocalStorage?.getStore();\n  if (!options.hasOwnProperty('session') && asyncLocalStorage?.session != null) {\n    options.session = asyncLocalStorage.session;\n  }\n\n  return options;\n};\n\n/**\n * Get/set the model that this aggregation will execute on.\n *\n * #### Example:\n *\n *     const aggregate = MyModel.aggregate([{ $match: { answer: 42 } }]);\n *     aggregate.model() === MyModel; // true\n *\n *     // Change the model. There's rarely any reason to do this.\n *     aggregate.model(SomeOtherModel);\n *     aggregate.model() === SomeOtherModel; // true\n *\n * @param {Model} [model] Set the model associated with this aggregate. If not provided, returns the already stored model.\n * @return {Model}\n * @api public\n */\n\nAggregate.prototype.model = function(model) {\n  if (arguments.length === 0) {\n    return this._model;\n  }\n\n  this._model = model;\n  if (model.schema != null) {\n    if (this.options.readPreference == null &&\n      model.schema.options.read != null) {\n      this.options.readPreference = model.schema.options.read;\n    }\n    if (this.options.collation == null &&\n      model.schema.options.collation != null) {\n      this.options.collation = model.schema.options.collation;\n    }\n  }\n\n  return model;\n};\n\n/**\n * Appends new operators to this aggregate pipeline\n *\n * #### Example:\n *\n *     aggregate.append({ $project: { field: 1 }}, { $limit: 2 });\n *\n *     // or pass an array\n *     const pipeline = [{ $match: { daw: 'Logic Audio X' }} ];\n *     aggregate.append(pipeline);\n *\n * @param {...Object|Object[]} ops operator(s) to append. Can either be a spread of objects or a single parameter of a object array.\n * @return {Aggregate}\n * @api public\n */\n\nAggregate.prototype.append = function() {\n  const args = (arguments.length === 1 && Array.isArray(arguments[0]))\n    ? arguments[0]\n    : [...arguments];\n\n  if (!args.every(isOperator)) {\n    throw new Error('Arguments must be aggregate pipeline operators');\n  }\n\n  this._pipeline = this._pipeline.concat(args);\n\n  return this;\n};\n\n/**\n * Appends a new $addFields operator to this aggregate pipeline.\n * Requires MongoDB v3.4+ to work\n *\n * #### Example:\n *\n *     // adding new fields based on existing fields\n *     aggregate.addFields({\n *         newField: '$b.nested'\n *       , plusTen: { $add: ['$val', 10]}\n *       , sub: {\n *            name: '$a'\n *         }\n *     })\n *\n *     // etc\n *     aggregate.addFields({ salary_k: { $divide: [ \"$salary\", 1000 ] } });\n *\n * @param {Object} arg field specification\n * @see $addFields https://www.mongodb.com/docs/manual/reference/operator/aggregation/addFields/\n * @return {Aggregate}\n * @api public\n */\nAggregate.prototype.addFields = function(arg) {\n  if (typeof arg !== 'object' || arg === null || Array.isArray(arg)) {\n    throw new Error('Invalid addFields() argument. Must be an object');\n  }\n  return this.append({ $addFields: Object.assign({}, arg) });\n};\n\n/**\n * Appends a new $project operator to this aggregate pipeline.\n *\n * Mongoose query [selection syntax](https://mongoosejs.com/docs/api/query.html#Query.prototype.select()) is also supported.\n *\n * #### Example:\n *\n *     // include a, include b, exclude _id\n *     aggregate.project(\"a b -_id\");\n *\n *     // or you may use object notation, useful when\n *     // you have keys already prefixed with a \"-\"\n *     aggregate.project({a: 1, b: 1, _id: 0});\n *\n *     // reshaping documents\n *     aggregate.project({\n *         newField: '$b.nested'\n *       , plusTen: { $add: ['$val', 10]}\n *       , sub: {\n *            name: '$a'\n *         }\n *     })\n *\n *     // etc\n *     aggregate.project({ salary_k: { $divide: [ \"$salary\", 1000 ] } });\n *\n * @param {Object|String} arg field specification\n * @see projection https://www.mongodb.com/docs/manual/reference/aggregation/project/\n * @return {Aggregate}\n * @api public\n */\n\nAggregate.prototype.project = function(arg) {\n  const fields = {};\n\n  if (typeof arg === 'object' && !Array.isArray(arg)) {\n    Object.keys(arg).forEach(function(field) {\n      fields[field] = arg[field];\n    });\n  } else if (arguments.length === 1 && typeof arg === 'string') {\n    arg.split(/\\s+/).forEach(function(field) {\n      if (!field) {\n        return;\n      }\n      const include = field[0] === '-' ? 0 : 1;\n      if (include === 0) {\n        field = field.substring(1);\n      }\n      fields[field] = include;\n    });\n  } else {\n    throw new Error('Invalid project() argument. Must be string or object');\n  }\n\n  return this.append({ $project: fields });\n};\n\n/**\n * Appends a new custom $group operator to this aggregate pipeline.\n *\n * #### Example:\n *\n *     aggregate.group({ _id: \"$department\" });\n *\n * @see $group https://www.mongodb.com/docs/manual/reference/aggregation/group/\n * @method group\n * @memberOf Aggregate\n * @instance\n * @param {Object} arg $group operator contents\n * @return {Aggregate}\n * @api public\n */\n\n/**\n * Appends a new custom $match operator to this aggregate pipeline.\n *\n * #### Example:\n *\n *     aggregate.match({ department: { $in: [ \"sales\", \"engineering\" ] } });\n *\n * @see $match https://www.mongodb.com/docs/manual/reference/aggregation/match/\n * @method match\n * @memberOf Aggregate\n * @instance\n * @param {Object} arg $match operator contents\n * @return {Aggregate}\n * @api public\n */\n\n/**\n * Appends a new $skip operator to this aggregate pipeline.\n *\n * #### Example:\n *\n *     aggregate.skip(10);\n *\n * @see $skip https://www.mongodb.com/docs/manual/reference/aggregation/skip/\n * @method skip\n * @memberOf Aggregate\n * @instance\n * @param {Number} num number of records to skip before next stage\n * @return {Aggregate}\n * @api public\n */\n\n/**\n * Appends a new $limit operator to this aggregate pipeline.\n *\n * #### Example:\n *\n *     aggregate.limit(10);\n *\n * @see $limit https://www.mongodb.com/docs/manual/reference/aggregation/limit/\n * @method limit\n * @memberOf Aggregate\n * @instance\n * @param {Number} num maximum number of records to pass to the next stage\n * @return {Aggregate}\n * @api public\n */\n\n\n/**\n * Appends a new $densify operator to this aggregate pipeline.\n *\n * #### Example:\n *\n *      aggregate.densify({\n *        field: 'timestamp',\n *        range: {\n *          step: 1,\n *          unit: 'hour',\n *          bounds: [new Date('2021-05-18T00:00:00.000Z'), new Date('2021-05-18T08:00:00.000Z')]\n *        }\n *      });\n *\n * @see $densify https://www.mongodb.com/docs/manual/reference/operator/aggregation/densify/\n * @method densify\n * @memberOf Aggregate\n * @instance\n * @param {Object} arg $densify operator contents\n * @return {Aggregate}\n * @api public\n */\n\n/**\n * Appends a new $fill operator to this aggregate pipeline.\n *\n * #### Example:\n *\n *      aggregate.fill({\n *        output: {\n *          bootsSold: { value: 0 },\n *          sandalsSold: { value: 0 },\n *          sneakersSold: { value: 0 }\n *        }\n *      });\n *\n * @see $fill https://www.mongodb.com/docs/manual/reference/operator/aggregation/fill/\n * @method fill\n * @memberOf Aggregate\n * @instance\n * @param {Object} arg $fill operator contents\n * @return {Aggregate}\n * @api public\n */\n\n/**\n * Appends a new $geoNear operator to this aggregate pipeline.\n *\n * #### Note:\n *\n * **MUST** be used as the first operator in the pipeline.\n *\n * #### Example:\n *\n *     aggregate.near({\n *       near: { type: 'Point', coordinates: [40.724, -73.997] },\n *       distanceField: \"dist.calculated\", // required\n *       maxDistance: 0.008,\n *       query: { type: \"public\" },\n *       includeLocs: \"dist.location\",\n *       spherical: true,\n *     });\n *\n * @see $geoNear https://www.mongodb.com/docs/manual/reference/aggregation/geoNear/\n * @method near\n * @memberOf Aggregate\n * @instance\n * @param {Object} arg\n * @param {Object|Array<Number>} arg.near GeoJSON point or coordinates array\n * @return {Aggregate}\n * @api public\n */\n\nAggregate.prototype.near = function(arg) {\n  if (arg == null) {\n    throw new MongooseError('Aggregate `near()` must be called with non-nullish argument');\n  }\n  if (arg.near == null) {\n    throw new MongooseError('Aggregate `near()` argument must have a `near` property');\n  }\n  const coordinates = Array.isArray(arg.near) ? arg.near : arg.near.coordinates;\n  if (typeof arg.near === 'object' && (!Array.isArray(coordinates) || coordinates.length < 2 || coordinates.find(c => typeof c !== 'number'))) {\n    throw new MongooseError(`Aggregate \\`near()\\` argument has invalid coordinates, got \"${coordinates}\"`);\n  }\n\n  const op = {};\n  op.$geoNear = arg;\n  return this.append(op);\n};\n\n/*!\n * define methods\n */\n\n'group match skip limit out densify fill'.split(' ').forEach(function($operator) {\n  Aggregate.prototype[$operator] = function(arg) {\n    const op = {};\n    op['$' + $operator] = arg;\n    return this.append(op);\n  };\n});\n\n/**\n * Appends new custom $unwind operator(s) to this aggregate pipeline.\n *\n * Note that the `$unwind` operator requires the path name to start with '$'.\n * Mongoose will prepend '$' if the specified field doesn't start '$'.\n *\n * #### Example:\n *\n *     aggregate.unwind(\"tags\");\n *     aggregate.unwind(\"a\", \"b\", \"c\");\n *     aggregate.unwind({ path: '$tags', preserveNullAndEmptyArrays: true });\n *\n * @see $unwind https://www.mongodb.com/docs/manual/reference/aggregation/unwind/\n * @param {String|Object|String[]|Object[]} fields the field(s) to unwind, either as field names or as [objects with options](https://www.mongodb.com/docs/manual/reference/operator/aggregation/unwind/#document-operand-with-options). If passing a string, prefixing the field name with '$' is optional. If passing an object, `path` must start with '$'.\n * @return {Aggregate}\n * @api public\n */\n\nAggregate.prototype.unwind = function() {\n  const args = [...arguments];\n\n  const res = [];\n  for (const arg of args) {\n    if (arg && typeof arg === 'object') {\n      res.push({ $unwind: arg });\n    } else if (typeof arg === 'string') {\n      res.push({\n        $unwind: (arg[0] === '$') ? arg : '$' + arg\n      });\n    } else {\n      throw new Error('Invalid arg \"' + arg + '\" to unwind(), ' +\n        'must be string or object');\n    }\n  }\n\n  return this.append.apply(this, res);\n};\n\n/**\n * Appends a new $replaceRoot operator to this aggregate pipeline.\n *\n * Note that the `$replaceRoot` operator requires field strings to start with '$'.\n * If you are passing in a string Mongoose will prepend '$' if the specified field doesn't start '$'.\n * If you are passing in an object the strings in your expression will not be altered.\n *\n * #### Example:\n *\n *     aggregate.replaceRoot(\"user\");\n *\n *     aggregate.replaceRoot({ x: { $concat: ['$this', '$that'] } });\n *\n * @see $replaceRoot https://www.mongodb.com/docs/manual/reference/operator/aggregation/replaceRoot\n * @param {String|Object} newRoot the field or document which will become the new root document\n * @return {Aggregate}\n * @api public\n */\n\nAggregate.prototype.replaceRoot = function(newRoot) {\n  let ret;\n\n  if (typeof newRoot === 'string') {\n    ret = newRoot.startsWith('$') ? newRoot : '$' + newRoot;\n  } else {\n    ret = newRoot;\n  }\n\n  return this.append({\n    $replaceRoot: {\n      newRoot: ret\n    }\n  });\n};\n\n/**\n * Appends a new $count operator to this aggregate pipeline.\n *\n * #### Example:\n *\n *     aggregate.count(\"userCount\");\n *\n * @see $count https://www.mongodb.com/docs/manual/reference/operator/aggregation/count\n * @param {String} fieldName The name of the output field which has the count as its value. It must be a non-empty string, must not start with $ and must not contain the . character.\n * @return {Aggregate}\n * @api public\n */\n\nAggregate.prototype.count = function(fieldName) {\n  return this.append({ $count: fieldName });\n};\n\n/**\n * Appends a new $sortByCount operator to this aggregate pipeline. Accepts either a string field name\n * or a pipeline object.\n *\n * Note that the `$sortByCount` operator requires the new root to start with '$'.\n * Mongoose will prepend '$' if the specified field name doesn't start with '$'.\n *\n * #### Example:\n *\n *     aggregate.sortByCount('users');\n *     aggregate.sortByCount({ $mergeObjects: [ \"$employee\", \"$business\" ] })\n *\n * @see $sortByCount https://www.mongodb.com/docs/manual/reference/operator/aggregation/sortByCount/\n * @param {Object|String} arg\n * @return {Aggregate} this\n * @api public\n */\n\nAggregate.prototype.sortByCount = function(arg) {\n  if (arg && typeof arg === 'object') {\n    return this.append({ $sortByCount: arg });\n  } else if (typeof arg === 'string') {\n    return this.append({\n      $sortByCount: (arg[0] === '$') ? arg : '$' + arg\n    });\n  } else {\n    throw new TypeError('Invalid arg \"' + arg + '\" to sortByCount(), ' +\n      'must be string or object');\n  }\n};\n\n/**\n * Appends new custom $lookup operator to this aggregate pipeline.\n *\n * #### Example:\n *\n *     aggregate.lookup({ from: 'users', localField: 'userId', foreignField: '_id', as: 'users' });\n *\n * @see $lookup https://www.mongodb.com/docs/manual/reference/operator/aggregation/lookup/#pipe._S_lookup\n * @param {Object} options to $lookup as described in the above link\n * @return {Aggregate}\n * @api public\n */\n\nAggregate.prototype.lookup = function(options) {\n  return this.append({ $lookup: options });\n};\n\n/**\n * Appends new custom $graphLookup operator(s) to this aggregate pipeline, performing a recursive search on a collection.\n *\n * Note that graphLookup can only consume at most 100MB of memory, and does not allow disk use even if `{ allowDiskUse: true }` is specified.\n *\n * #### Example:\n *\n *      // Suppose we have a collection of courses, where a document might look like `{ _id: 0, name: 'Calculus', prerequisite: 'Trigonometry'}` and `{ _id: 0, name: 'Trigonometry', prerequisite: 'Algebra' }`\n *      aggregate.graphLookup({ from: 'courses', startWith: '$prerequisite', connectFromField: 'prerequisite', connectToField: 'name', as: 'prerequisites', maxDepth: 3 }) // this will recursively search the 'courses' collection up to 3 prerequisites\n *\n * @see $graphLookup https://www.mongodb.com/docs/manual/reference/operator/aggregation/graphLookup/#pipe._S_graphLookup\n * @param {Object} options to $graphLookup as described in the above link\n * @return {Aggregate}\n * @api public\n */\n\nAggregate.prototype.graphLookup = function(options) {\n  const cloneOptions = {};\n  if (options) {\n    if (!utils.isObject(options)) {\n      throw new TypeError('Invalid graphLookup() argument. Must be an object.');\n    }\n\n    utils.mergeClone(cloneOptions, options);\n    const startWith = cloneOptions.startWith;\n\n    if (startWith && typeof startWith === 'string') {\n      cloneOptions.startWith = cloneOptions.startWith.startsWith('$') ?\n        cloneOptions.startWith :\n        '$' + cloneOptions.startWith;\n    }\n\n  }\n  return this.append({ $graphLookup: cloneOptions });\n};\n\n/**\n * Appends new custom $sample operator to this aggregate pipeline.\n *\n * #### Example:\n *\n *     aggregate.sample(3); // Add a pipeline that picks 3 random documents\n *\n * @see $sample https://www.mongodb.com/docs/manual/reference/operator/aggregation/sample/#pipe._S_sample\n * @param {Number} size number of random documents to pick\n * @return {Aggregate}\n * @api public\n */\n\nAggregate.prototype.sample = function(size) {\n  return this.append({ $sample: { size: size } });\n};\n\n/**\n * Appends a new $sort operator to this aggregate pipeline.\n *\n * If an object is passed, values allowed are `asc`, `desc`, `ascending`, `descending`, `1`, and `-1`.\n *\n * If a string is passed, it must be a space delimited list of path names. The sort order of each path is ascending unless the path name is prefixed with `-` which will be treated as descending.\n *\n * #### Example:\n *\n *     // these are equivalent\n *     aggregate.sort({ field: 'asc', test: -1 });\n *     aggregate.sort('field -test');\n *\n * @see $sort https://www.mongodb.com/docs/manual/reference/aggregation/sort/\n * @param {Object|String} arg\n * @return {Aggregate} this\n * @api public\n */\n\nAggregate.prototype.sort = function(arg) {\n  // TODO refactor to reuse the query builder logic\n\n  const sort = {};\n\n  if (getConstructorName(arg) === 'Object') {\n    const desc = ['desc', 'descending', -1];\n    Object.keys(arg).forEach(function(field) {\n      // If sorting by text score, skip coercing into 1/-1\n      if (arg[field] instanceof Object && arg[field].$meta) {\n        sort[field] = arg[field];\n        return;\n      }\n      sort[field] = desc.indexOf(arg[field]) === -1 ? 1 : -1;\n    });\n  } else if (arguments.length === 1 && typeof arg === 'string') {\n    arg.split(/\\s+/).forEach(function(field) {\n      if (!field) {\n        return;\n      }\n      const ascend = field[0] === '-' ? -1 : 1;\n      if (ascend === -1) {\n        field = field.substring(1);\n      }\n      sort[field] = ascend;\n    });\n  } else {\n    throw new TypeError('Invalid sort() argument. Must be a string or object.');\n  }\n\n  return this.append({ $sort: sort });\n};\n\n/**\n * Appends new $unionWith operator to this aggregate pipeline.\n *\n * #### Example:\n *\n *     aggregate.unionWith({ coll: 'users', pipeline: [ { $match: { _id: 1 } } ] });\n *\n * @see $unionWith https://www.mongodb.com/docs/manual/reference/operator/aggregation/unionWith\n * @param {Object} options to $unionWith query as described in the above link\n * @return {Aggregate}\n * @api public\n */\n\nAggregate.prototype.unionWith = function(options) {\n  return this.append({ $unionWith: options });\n};\n\n\n/**\n * Sets the readPreference option for the aggregation query.\n *\n * #### Example:\n *\n *     await Model.aggregate(pipeline).read('primaryPreferred');\n *\n * @param {String|ReadPreference} pref one of the listed preference options or their aliases\n * @param {Array} [tags] optional tags for this query.\n * @return {Aggregate} this\n * @api public\n * @see mongodb https://www.mongodb.com/docs/manual/applications/replication/#read-preference\n */\n\nAggregate.prototype.read = function(pref, tags) {\n  read.call(this, pref, tags);\n  return this;\n};\n\n/**\n * Sets the readConcern level for the aggregation query.\n *\n * #### Example:\n *\n *     await Model.aggregate(pipeline).readConcern('majority');\n *\n * @param {String} level one of the listed read concern level or their aliases\n * @see mongodb https://www.mongodb.com/docs/manual/reference/read-concern/\n * @return {Aggregate} this\n * @api public\n */\n\nAggregate.prototype.readConcern = function(level) {\n  readConcern.call(this, level);\n  return this;\n};\n\n/**\n * Appends a new $redact operator to this aggregate pipeline.\n *\n * If 3 arguments are supplied, Mongoose will wrap them with if-then-else of $cond operator respectively\n * If `thenExpr` or `elseExpr` is string, make sure it starts with $$, like `$$DESCEND`, `$$PRUNE` or `$$KEEP`.\n *\n * #### Example:\n *\n *     await Model.aggregate(pipeline).redact({\n *       $cond: {\n *         if: { $eq: [ '$level', 5 ] },\n *         then: '$$PRUNE',\n *         else: '$$DESCEND'\n *       }\n *     });\n *\n *     // $redact often comes with $cond operator, you can also use the following syntax provided by mongoose\n *     await Model.aggregate(pipeline).redact({ $eq: [ '$level', 5 ] }, '$$PRUNE', '$$DESCEND');\n *\n * @param {Object} expression redact options or conditional expression\n * @param {String|Object} [thenExpr] true case for the condition\n * @param {String|Object} [elseExpr] false case for the condition\n * @return {Aggregate} this\n * @see $redact https://www.mongodb.com/docs/manual/reference/operator/aggregation/redact/\n * @api public\n */\n\nAggregate.prototype.redact = function(expression, thenExpr, elseExpr) {\n  if (arguments.length === 3) {\n    if ((typeof thenExpr === 'string' && !validRedactStringValues.has(thenExpr)) ||\n      (typeof elseExpr === 'string' && !validRedactStringValues.has(elseExpr))) {\n      throw new Error('If thenExpr or elseExpr is string, it must be either $$DESCEND, $$PRUNE or $$KEEP');\n    }\n\n    expression = {\n      $cond: {\n        if: expression,\n        then: thenExpr,\n        else: elseExpr\n      }\n    };\n  } else if (arguments.length !== 1) {\n    throw new TypeError('Invalid arguments');\n  }\n\n  return this.append({ $redact: expression });\n};\n\n/**\n * Execute the aggregation with explain\n *\n * #### Example:\n *\n *     Model.aggregate(..).explain()\n *\n * @param {String} [verbosity]\n * @return {Promise}\n */\n\nAggregate.prototype.explain = async function explain(verbosity) {\n  if (typeof verbosity === 'function' || typeof arguments[1] === 'function') {\n    throw new MongooseError('Aggregate.prototype.explain() no longer accepts a callback');\n  }\n  const model = this._model;\n\n  if (!this._pipeline.length) {\n    throw new Error('Aggregate has empty pipeline');\n  }\n\n  prepareDiscriminatorPipeline(this._pipeline, this._model.schema);\n\n  await new Promise((resolve, reject) => {\n    model.hooks.execPre('aggregate', this, error => {\n      if (error) {\n        const _opts = { error: error };\n        return model.hooks.execPost('aggregate', this, [null], _opts, error => {\n          reject(error);\n        });\n      } else {\n        resolve();\n      }\n    });\n  });\n\n  const cursor = model.collection.aggregate(this._pipeline, this.options);\n\n  if (verbosity == null) {\n    verbosity = true;\n  }\n\n  let result = null;\n  try {\n    result = await cursor.explain(verbosity);\n  } catch (error) {\n    await new Promise((resolve, reject) => {\n      const _opts = { error: error };\n      model.hooks.execPost('aggregate', this, [null], _opts, error => {\n        if (error) {\n          return reject(error);\n        }\n        return resolve();\n      });\n    });\n  }\n\n  const _opts = { error: null };\n  await new Promise((resolve, reject) => {\n    model.hooks.execPost('aggregate', this, [result], _opts, error => {\n      if (error) {\n        return reject(error);\n      }\n      return resolve();\n    });\n  });\n\n  return result;\n};\n\n/**\n * Sets the allowDiskUse option for the aggregation query\n *\n * #### Example:\n *\n *     await Model.aggregate([{ $match: { foo: 'bar' } }]).allowDiskUse(true);\n *\n * @param {Boolean} value Should tell server it can use hard drive to store data during aggregation.\n * @return {Aggregate} this\n * @see mongodb https://www.mongodb.com/docs/manual/reference/command/aggregate/\n */\n\nAggregate.prototype.allowDiskUse = function(value) {\n  this.options.allowDiskUse = value;\n  return this;\n};\n\n/**\n * Sets the hint option for the aggregation query\n *\n * #### Example:\n *\n *     Model.aggregate(..).hint({ qty: 1, category: 1 }).exec();\n *\n * @param {Object|String} value a hint object or the index name\n * @return {Aggregate} this\n * @see mongodb https://www.mongodb.com/docs/manual/reference/command/aggregate/\n */\n\nAggregate.prototype.hint = function(value) {\n  this.options.hint = value;\n  return this;\n};\n\n/**\n * Sets the session for this aggregation. Useful for [transactions](https://mongoosejs.com/docs/transactions.html).\n *\n * #### Example:\n *\n *     const session = await Model.startSession();\n *     await Model.aggregate(..).session(session);\n *\n * @param {ClientSession} session\n * @return {Aggregate} this\n * @see mongodb https://www.mongodb.com/docs/manual/reference/command/aggregate/\n */\n\nAggregate.prototype.session = function(session) {\n  if (session == null) {\n    delete this.options.session;\n  } else {\n    this.options.session = session;\n  }\n  return this;\n};\n\n/**\n * Lets you set arbitrary options, for middleware or plugins.\n *\n * #### Example:\n *\n *     const agg = Model.aggregate(..).option({ allowDiskUse: true }); // Set the `allowDiskUse` option\n *     agg.options; // `{ allowDiskUse: true }`\n *\n * @param {Object} options keys to merge into current options\n * @param {Number} [options.maxTimeMS] number limits the time this aggregation will run, see [MongoDB docs on `maxTimeMS`](https://www.mongodb.com/docs/manual/reference/operator/meta/maxTimeMS/)\n * @param {Boolean} [options.allowDiskUse] boolean if true, the MongoDB server will use the hard drive to store data during this aggregation\n * @param {Object} [options.collation] object see [`Aggregate.prototype.collation()`](https://mongoosejs.com/docs/api/aggregate.html#Aggregate.prototype.collation())\n * @param {ClientSession} [options.session] ClientSession see [`Aggregate.prototype.session()`](https://mongoosejs.com/docs/api/aggregate.html#Aggregate.prototype.session())\n * @see mongodb https://www.mongodb.com/docs/manual/reference/command/aggregate/\n * @return {Aggregate} this\n * @api public\n */\n\nAggregate.prototype.option = function(value) {\n  for (const key in value) {\n    this.options[key] = value[key];\n  }\n  return this;\n};\n\n/**\n * Sets the `cursor` option and executes this aggregation, returning an aggregation cursor.\n * Cursors are useful if you want to process the results of the aggregation one-at-a-time\n * because the aggregation result is too big to fit into memory.\n *\n * #### Example:\n *\n *     const cursor = Model.aggregate(..).cursor({ batchSize: 1000 });\n *     cursor.eachAsync(function(doc, i) {\n *       // use doc\n *     });\n *\n * @param {Object} options\n * @param {Number} [options.batchSize] set the cursor batch size\n * @param {Boolean} [options.useMongooseAggCursor] use experimental mongoose-specific aggregation cursor (for `eachAsync()` and other query cursor semantics)\n * @return {AggregationCursor} cursor representing this aggregation\n * @api public\n * @see mongodb https://mongodb.github.io/node-mongodb-native/4.9/classes/AggregationCursor.html\n */\n\nAggregate.prototype.cursor = function(options) {\n  this._optionsForExec();\n  this.options.cursor = options || {};\n  return new AggregationCursor(this); // return this;\n};\n\n/**\n * Adds a collation\n *\n * #### Example:\n *\n *     const res = await Model.aggregate(pipeline).collation({ locale: 'en_US', strength: 1 });\n *\n * @param {Object} collation options\n * @return {Aggregate} this\n * @api public\n * @see mongodb https://mongodb.github.io/node-mongodb-native/4.9/interfaces/CollationOptions.html\n */\n\nAggregate.prototype.collation = function(collation) {\n  this.options.collation = collation;\n  return this;\n};\n\n/**\n * Combines multiple aggregation pipelines.\n *\n * #### Example:\n *\n *     const res = await Model.aggregate().facet({\n *       books: [{ groupBy: '$author' }],\n *       price: [{ $bucketAuto: { groupBy: '$price', buckets: 2 } }]\n *     });\n *\n *     // Output: { books: [...], price: [{...}, {...}] }\n *\n * @param {Object} facet options\n * @return {Aggregate} this\n * @see $facet https://www.mongodb.com/docs/manual/reference/operator/aggregation/facet/\n * @api public\n */\n\nAggregate.prototype.facet = function(options) {\n  return this.append({ $facet: options });\n};\n\n/**\n * Helper for [Atlas Text Search](https://www.mongodb.com/docs/atlas/atlas-search/tutorial/)'s\n * `$search` stage.\n *\n * #### Example:\n *\n *     const res = await Model.aggregate().\n *      search({\n *        text: {\n *          query: 'baseball',\n *          path: 'plot'\n *        }\n *      });\n *\n *     // Output: [{ plot: '...', title: '...' }]\n *\n * @param {Object} $search options\n * @return {Aggregate} this\n * @see $search https://www.mongodb.com/docs/atlas/atlas-search/tutorial/\n * @api public\n */\n\nAggregate.prototype.search = function(options) {\n  return this.append({ $search: options });\n};\n\n/**\n * Returns the current pipeline\n *\n * #### Example:\n *\n *     MyModel.aggregate().match({ test: 1 }).pipeline(); // [{ $match: { test: 1 } }]\n *\n * @return {Array} The current pipeline similar to the operation that will be executed\n * @api public\n */\n\nAggregate.prototype.pipeline = function() {\n  return this._pipeline;\n};\n\n/**\n * Executes the aggregate pipeline on the currently bound Model.\n *\n * #### Example:\n *     const result = await aggregate.exec();\n *\n * @return {Promise}\n * @api public\n */\n\nAggregate.prototype.exec = async function exec() {\n  if (!this._model && !this._connection) {\n    throw new Error('Aggregate not bound to any Model');\n  }\n  if (typeof arguments[0] === 'function') {\n    throw new MongooseError('Aggregate.prototype.exec() no longer accepts a callback');\n  }\n\n  if (this._connection) {\n    if (!this._pipeline.length) {\n      throw new MongooseError('Aggregate has empty pipeline');\n    }\n\n    this._optionsForExec();\n\n    const cursor = await this._connection.client.db().aggregate(this._pipeline, this.options);\n    return await cursor.toArray();\n  }\n\n  const model = this._model;\n  const collection = this._model.collection;\n\n  applyGlobalMaxTimeMS(this.options, model.db.options, model.base.options);\n  applyGlobalDiskUse(this.options, model.db.options, model.base.options);\n\n  this._optionsForExec();\n\n  if (this.options && this.options.cursor) {\n    return new AggregationCursor(this);\n  }\n\n  prepareDiscriminatorPipeline(this._pipeline, this._model.schema);\n  stringifyFunctionOperators(this._pipeline);\n\n  await new Promise((resolve, reject) => {\n    model.hooks.execPre('aggregate', this, error => {\n      if (error) {\n        const _opts = { error: error };\n        return model.hooks.execPost('aggregate', this, [null], _opts, error => {\n          reject(error);\n        });\n      } else {\n        resolve();\n      }\n    });\n  });\n\n  if (!this._pipeline.length) {\n    throw new MongooseError('Aggregate has empty pipeline');\n  }\n\n  const options = clone(this.options || {});\n\n  let result;\n  try {\n    const cursor = await collection.aggregate(this._pipeline, options);\n    result = await cursor.toArray();\n  } catch (error) {\n    await new Promise((resolve, reject) => {\n      const _opts = { error: error };\n      model.hooks.execPost('aggregate', this, [null], _opts, (error) => {\n        if (error) {\n          return reject(error);\n        }\n\n        resolve();\n      });\n    });\n  }\n\n  const _opts = { error: null };\n  await new Promise((resolve, reject) => {\n    model.hooks.execPost('aggregate', this, [result], _opts, error => {\n      if (error) {\n        return reject(error);\n      }\n      return resolve();\n    });\n  });\n\n  return result;\n};\n\n/**\n * Provides a Promise-like `then` function, which will call `.exec` without a callback\n * Compatible with `await`.\n *\n * #### Example:\n *\n *     Model.aggregate(..).then(successCallback, errorCallback);\n *\n * @param {Function} [resolve] successCallback\n * @param {Function} [reject]  errorCallback\n * @return {Promise}\n */\nAggregate.prototype.then = function(resolve, reject) {\n  return this.exec().then(resolve, reject);\n};\n\n/**\n * Executes the aggregation returning a `Promise` which will be\n * resolved with either the doc(s) or rejected with the error.\n * Like [`.then()`](https://mongoosejs.com/docs/api/query.html#Query.prototype.then), but only takes a rejection handler.\n * Compatible with `await`.\n *\n * @param {Function} [reject]\n * @return {Promise}\n * @api public\n */\n\nAggregate.prototype.catch = function(reject) {\n  return this.exec().then(null, reject);\n};\n\n/**\n * Executes the aggregate returning a `Promise` which will be\n * resolved with `.finally()` chained.\n *\n * More about [Promise `finally()` in JavaScript](https://thecodebarbarian.com/using-promise-finally-in-node-js.html).\n *\n * @param {Function} [onFinally]\n * @return {Promise}\n * @api public\n */\n\nAggregate.prototype.finally = function(onFinally) {\n  return this.exec().finally(onFinally);\n};\n\n/**\n * Returns an asyncIterator for use with [`for/await/of` loops](https://thecodebarbarian.com/getting-started-with-async-iterators-in-node-js)\n * You do not need to call this function explicitly, the JavaScript runtime\n * will call it for you.\n *\n * #### Example:\n *\n *     const agg = Model.aggregate([{ $match: { age: { $gte: 25 } } }]);\n *     for await (const doc of agg) {\n *       console.log(doc.name);\n *     }\n *\n * Node.js 10.x supports async iterators natively without any flags. You can\n * enable async iterators in Node.js 8.x using the [`--harmony_async_iteration` flag](https://github.com/tc39/proposal-async-iteration/issues/117#issuecomment-346695187).\n *\n * **Note:** This function is not set if `Symbol.asyncIterator` is undefined. If\n * `Symbol.asyncIterator` is undefined, that means your Node.js version does not\n * support async iterators.\n *\n * @method [Symbol.asyncIterator]\n * @memberOf Aggregate\n * @instance\n * @api public\n */\n\nif (Symbol.asyncIterator != null) {\n  Aggregate.prototype[Symbol.asyncIterator] = function() {\n    return this.cursor({ useMongooseAggCursor: true }).transformNull()._transformForAsyncIterator();\n  };\n}\n\n/*!\n * Helpers\n */\n\n/**\n * Checks whether an object is likely a pipeline operator\n *\n * @param {Object} obj object to check\n * @return {Boolean}\n * @api private\n */\n\nfunction isOperator(obj) {\n  if (typeof obj !== 'object' || obj === null) {\n    return false;\n  }\n\n  const k = Object.keys(obj);\n\n  return k.length === 1 && k[0][0] === '$';\n}\n\n/**\n * Adds the appropriate `$match` pipeline step to the top of an aggregate's\n * pipeline, should it's model is a non-root discriminator type. This is\n * analogous to the `prepareDiscriminatorCriteria` function in `lib/query.js`.\n *\n * @param {Aggregate} aggregate Aggregate to prepare\n * @api private\n */\n\nAggregate._prepareDiscriminatorPipeline = prepareDiscriminatorPipeline;\n\n/*!\n * Exports\n */\n\nmodule.exports = Aggregate;\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 16928, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/backend/node_modules/mongoose/lib/browserDocument.js"],"sourcesContent":["/*!\n * Module dependencies.\n */\n\n'use strict';\n\nconst NodeJSDocument = require('./document');\nconst EventEmitter = require('events').EventEmitter;\nconst MongooseError = require('./error/index');\nconst Schema = require('./schema');\nconst ObjectId = require('./types/objectid');\nconst ValidationError = MongooseError.ValidationError;\nconst applyHooks = require('./helpers/model/applyHooks');\nconst isObject = require('./helpers/isObject');\n\n/**\n * Document constructor.\n *\n * @param {Object} obj the values to set\n * @param {Object} schema\n * @param {Object} [fields] optional object containing the fields which were selected in the query returning this document and any populated paths data\n * @param {Boolean} [skipId] bool, should we auto create an ObjectId _id\n * @inherits NodeJS EventEmitter https://nodejs.org/api/events.html#class-eventemitter\n * @event `init`: Emitted on a document after it has was retrieved from the db and fully hydrated by Mongoose.\n * @event `save`: Emitted when the document is successfully saved\n * @api private\n */\n\nfunction Document(obj, schema, fields, skipId, skipInit) {\n  if (!(this instanceof Document)) {\n    return new Document(obj, schema, fields, skipId, skipInit);\n  }\n\n  if (isObject(schema) && !schema.instanceOfSchema) {\n    schema = new Schema(schema);\n  }\n\n  // When creating EmbeddedDocument, it already has the schema and he doesn't need the _id\n  schema = this.schema || schema;\n\n  // Generate ObjectId if it is missing, but it requires a scheme\n  if (!this.schema && schema.options._id) {\n    obj = obj || {};\n\n    if (obj._id === undefined) {\n      obj._id = new ObjectId();\n    }\n  }\n\n  if (!schema) {\n    throw new MongooseError.MissingSchemaError();\n  }\n\n  this.$__setSchema(schema);\n\n  NodeJSDocument.call(this, obj, fields, skipId, skipInit);\n\n  applyHooks(this, schema, { decorateDoc: true });\n\n  // apply methods\n  for (const m in schema.methods) {\n    this[m] = schema.methods[m];\n  }\n  // apply statics\n  for (const s in schema.statics) {\n    this[s] = schema.statics[s];\n  }\n}\n\n/*!\n * Inherit from the NodeJS document\n */\n\nDocument.prototype = Object.create(NodeJSDocument.prototype);\nDocument.prototype.constructor = Document;\n\n/*!\n * ignore\n */\n\nDocument.events = new EventEmitter();\n\n/*!\n * Browser doc exposes the event emitter API\n */\n\nDocument.$emitter = new EventEmitter();\n\n['on', 'once', 'emit', 'listeners', 'removeListener', 'setMaxListeners',\n  'removeAllListeners', 'addListener'].forEach(function(emitterFn) {\n  Document[emitterFn] = function() {\n    return Document.$emitter[emitterFn].apply(Document.$emitter, arguments);\n  };\n});\n\n/*!\n * Module exports.\n */\n\nDocument.ValidationError = ValidationError;\nmodule.exports = exports = Document;\n"],"names":[],"mappings":"AAAA;;CAEC,GAID,MAAM;AACN,MAAM,eAAe,uEAAkB,YAAY;AACnD,MAAM;AACN,MAAM;AACN,MAAM;AACN,MAAM,kBAAkB,cAAc,eAAe;AACrD,MAAM;AACN,MAAM;AAEN;;;;;;;;;;;CAWC,GAED,SAAS,SAAS,GAAG,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,QAAQ;IACrD,IAAI,CAAC,CAAC,IAAI,YAAY,QAAQ,GAAG;QAC/B,OAAO,IAAI,SAAS,KAAK,QAAQ,QAAQ,QAAQ;IACnD;IAEA,IAAI,SAAS,WAAW,CAAC,OAAO,gBAAgB,EAAE;QAChD,SAAS,IAAI,OAAO;IACtB;IAEA,wFAAwF;IACxF,SAAS,IAAI,CAAC,MAAM,IAAI;IAExB,+DAA+D;IAC/D,IAAI,CAAC,IAAI,CAAC,MAAM,IAAI,OAAO,OAAO,CAAC,GAAG,EAAE;QACtC,MAAM,OAAO,CAAC;QAEd,IAAI,IAAI,GAAG,KAAK,WAAW;YACzB,IAAI,GAAG,GAAG,IAAI;QAChB;IACF;IAEA,IAAI,CAAC,QAAQ;QACX,MAAM,IAAI,cAAc,kBAAkB;IAC5C;IAEA,IAAI,CAAC,YAAY,CAAC;IAElB,eAAe,IAAI,CAAC,IAAI,EAAE,KAAK,QAAQ,QAAQ;IAE/C,WAAW,IAAI,EAAE,QAAQ;QAAE,aAAa;IAAK;IAE7C,gBAAgB;IAChB,IAAK,MAAM,KAAK,OAAO,OAAO,CAAE;QAC9B,IAAI,CAAC,EAAE,GAAG,OAAO,OAAO,CAAC,EAAE;IAC7B;IACA,gBAAgB;IAChB,IAAK,MAAM,KAAK,OAAO,OAAO,CAAE;QAC9B,IAAI,CAAC,EAAE,GAAG,OAAO,OAAO,CAAC,EAAE;IAC7B;AACF;AAEA;;CAEC,GAED,SAAS,SAAS,GAAG,OAAO,MAAM,CAAC,eAAe,SAAS;AAC3D,SAAS,SAAS,CAAC,WAAW,GAAG;AAEjC;;CAEC,GAED,SAAS,MAAM,GAAG,IAAI;AAEtB;;CAEC,GAED,SAAS,QAAQ,GAAG,IAAI;AAExB;IAAC;IAAM;IAAQ;IAAQ;IAAa;IAAkB;IACpD;IAAsB;CAAc,CAAC,OAAO,CAAC,SAAS,SAAS;IAC/D,QAAQ,CAAC,UAAU,GAAG;QACpB,OAAO,SAAS,QAAQ,CAAC,UAAU,CAAC,KAAK,CAAC,SAAS,QAAQ,EAAE;IAC/D;AACF;AAEA;;CAEC,GAED,SAAS,eAAe,GAAG;AAC3B,OAAO,OAAO,GAAG,UAAU","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 17014, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/backend/node_modules/mongoose/lib/documentProvider.js"],"sourcesContent":["'use strict';\n\n/* eslint-env browser */\n\n/*!\n * Module dependencies.\n */\nconst Document = require('./document.js');\nconst BrowserDocument = require('./browserDocument.js');\n\nlet isBrowser = false;\n\n/**\n * Returns the Document constructor for the current context\n *\n * @api private\n */\nmodule.exports = function documentProvider() {\n  if (isBrowser) {\n    return BrowserDocument;\n  }\n  return Document;\n};\n\n/*!\n * ignore\n */\nmodule.exports.setBrowser = function(flag) {\n  isBrowser = flag;\n};\n"],"names":[],"mappings":"AAEA,sBAAsB,GAEtB;;CAEC,GACD,MAAM;AACN,MAAM;AAEN,IAAI,YAAY;AAEhB;;;;CAIC,GACD,OAAO,OAAO,GAAG,SAAS;IACxB,IAAI,WAAW;QACb,OAAO;IACT;IACA,OAAO;AACT;AAEA;;CAEC,GACD,OAAO,OAAO,CAAC,UAAU,GAAG,SAAS,IAAI;IACvC,YAAY;AACd","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 17038, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/backend/node_modules/mongoose/lib/mongoose.js"],"sourcesContent":["'use strict';\n\n/*!\n * Module dependencies.\n */\n\nconst Document = require('./document');\nconst EventEmitter = require('events').EventEmitter;\nconst Kareem = require('kareem');\nconst Schema = require('./schema');\nconst SchemaType = require('./schemaType');\nconst SchemaTypes = require('./schema/index');\nconst VirtualType = require('./virtualType');\nconst STATES = require('./connectionState');\nconst VALID_OPTIONS = require('./validOptions');\nconst Types = require('./types');\nconst Query = require('./query');\nconst Model = require('./model');\nconst applyPlugins = require('./helpers/schema/applyPlugins');\nconst builtinPlugins = require('./plugins');\nconst driver = require('./driver');\nconst legacyPluralize = require('./helpers/pluralize');\nconst utils = require('./utils');\nconst pkg = require('../package.json');\nconst cast = require('./cast');\n\nconst Aggregate = require('./aggregate');\nconst trusted = require('./helpers/query/trusted').trusted;\nconst sanitizeFilter = require('./helpers/query/sanitizeFilter');\nconst isBsonType = require('./helpers/isBsonType');\nconst MongooseError = require('./error/mongooseError');\nconst SetOptionError = require('./error/setOptionError');\nconst applyEmbeddedDiscriminators = require('./helpers/discriminator/applyEmbeddedDiscriminators');\n\nconst defaultMongooseSymbol = Symbol.for('mongoose:default');\nconst defaultConnectionSymbol = Symbol('mongoose:defaultConnection');\n\nrequire('./helpers/printJestWarning');\n\nconst objectIdHexRegexp = /^[0-9A-Fa-f]{24}$/;\n\nconst { AsyncLocalStorage } = require('node:async_hooks');\n\n/**\n * Mongoose constructor.\n *\n * The exports object of the `mongoose` module is an instance of this class.\n * Most apps will only use this one instance.\n *\n * #### Example:\n *\n *     const mongoose = require('mongoose');\n *     mongoose instanceof mongoose.Mongoose; // true\n *\n *     // Create a new Mongoose instance with its own `connect()`, `set()`, `model()`, etc.\n *     const m = new mongoose.Mongoose();\n *\n * @api public\n * @param {Object} options see [`Mongoose#set()` docs](https://mongoosejs.com/docs/api/mongoose.html#Mongoose.prototype.set())\n */\nfunction Mongoose(options) {\n  this.connections = [];\n  this.nextConnectionId = 0;\n  this.models = {};\n  this.events = new EventEmitter();\n  this.__driver = driver.get();\n  // default global options\n  this.options = Object.assign({\n    pluralization: true,\n    autoIndex: true,\n    autoCreate: true,\n    autoSearchIndex: false\n  }, options);\n  const createInitialConnection = utils.getOption('createInitialConnection', this.options) ?? true;\n  if (createInitialConnection && this.__driver != null) {\n    _createDefaultConnection(this);\n  }\n\n  if (this.options.pluralization) {\n    this._pluralize = legacyPluralize;\n  }\n\n  // If a user creates their own Mongoose instance, give them a separate copy\n  // of the `Schema` constructor so they get separate custom types. (gh-6933)\n  if (!options || !options[defaultMongooseSymbol]) {\n    const _this = this;\n    this.Schema = function() {\n      this.base = _this;\n      return Schema.apply(this, arguments);\n    };\n    this.Schema.prototype = Object.create(Schema.prototype);\n\n    Object.assign(this.Schema, Schema);\n    this.Schema.base = this;\n    this.Schema.Types = Object.assign({}, Schema.Types);\n  } else {\n    // Hack to work around babel's strange behavior with\n    // `import mongoose, { Schema } from 'mongoose'`. Because `Schema` is not\n    // an own property of a Mongoose global, Schema will be undefined. See gh-5648\n    for (const key of ['Schema', 'model']) {\n      this[key] = Mongoose.prototype[key];\n    }\n  }\n  this.Schema.prototype.base = this;\n\n  if (options?.transactionAsyncLocalStorage) {\n    this.transactionAsyncLocalStorage = new AsyncLocalStorage();\n  }\n\n  Object.defineProperty(this, 'plugins', {\n    configurable: false,\n    enumerable: true,\n    writable: false,\n    value: Object.values(builtinPlugins).map(plugin => ([plugin, { deduplicate: true }]))\n  });\n}\n\nMongoose.prototype.cast = cast;\n/**\n * Expose connection states for user-land\n *\n * @memberOf Mongoose\n * @property STATES\n * @api public\n */\nMongoose.prototype.STATES = STATES;\n\n/**\n * Expose connection states for user-land\n *\n * @memberOf Mongoose\n * @property ConnectionStates\n * @api public\n */\nMongoose.prototype.ConnectionStates = STATES;\n\n/**\n * Object with `get()` and `set()` containing the underlying driver this Mongoose instance\n * uses to communicate with the database. A driver is a Mongoose-specific interface that defines functions\n * like `find()`.\n *\n * @deprecated\n * @memberOf Mongoose\n * @property driver\n * @api public\n */\n\nMongoose.prototype.driver = driver;\n\n/**\n * Overwrites the current driver used by this Mongoose instance. A driver is a\n * Mongoose-specific interface that defines functions like `find()`.\n *\n * @memberOf Mongoose\n * @method setDriver\n * @api public\n */\n\nMongoose.prototype.setDriver = function setDriver(driver) {\n  const _mongoose = this instanceof Mongoose ? this : mongoose;\n\n  if (_mongoose.__driver === driver) {\n    return _mongoose;\n  }\n\n  const openConnection = _mongoose.connections && _mongoose.connections.find(conn => conn.readyState !== STATES.disconnected);\n  if (openConnection) {\n    const msg = 'Cannot modify Mongoose driver if a connection is already open. ' +\n      'Call `mongoose.disconnect()` before modifying the driver';\n    throw new MongooseError(msg);\n  }\n  _mongoose.__driver = driver;\n\n  if (Array.isArray(driver.plugins)) {\n    for (const plugin of driver.plugins) {\n      if (typeof plugin === 'function') {\n        _mongoose.plugin(plugin);\n      }\n    }\n  }\n\n  if (driver.SchemaTypes != null) {\n    Object.assign(mongoose.Schema.Types, driver.SchemaTypes);\n  }\n\n  const Connection = driver.Connection;\n  const oldDefaultConnection = _mongoose.connections[0];\n  _mongoose.connections = [new Connection(_mongoose)];\n  _mongoose.connections[0].models = _mongoose.models;\n  if (oldDefaultConnection == null) {\n    return _mongoose;\n  }\n\n  // Update all models that pointed to the old default connection to\n  // the new default connection, including collections\n  for (const model of Object.values(_mongoose.models)) {\n    if (model.db !== oldDefaultConnection) {\n      continue;\n    }\n    model.$__updateConnection(_mongoose.connections[0]);\n  }\n\n  return _mongoose;\n};\n\n/**\n * Sets mongoose options\n *\n * `key` can be used a object to set multiple options at once.\n * If a error gets thrown for one option, other options will still be evaluated.\n *\n * #### Example:\n *\n *     mongoose.set('test', value) // sets the 'test' option to `value`\n *\n *     mongoose.set('debug', true) // enable logging collection methods + arguments to the console/file\n *\n *     mongoose.set('debug', function(collectionName, methodName, ...methodArgs) {}); // use custom function to log collection methods + arguments\n *\n *     mongoose.set({ debug: true, autoIndex: false }); // set multiple options at once\n *\n * Currently supported options are:\n * - `allowDiskUse`: Set to `true` to set `allowDiskUse` to true to all aggregation operations by default.\n * - `applyPluginsToChildSchemas`: `true` by default. Set to false to skip applying global plugins to child schemas\n * - `applyPluginsToDiscriminators`: `false` by default. Set to true to apply global plugins to discriminator schemas. This typically isn't necessary because plugins are applied to the base schema and discriminators copy all middleware, methods, statics, and properties from the base schema.\n * - `autoCreate`: Set to `true` to make Mongoose call [`Model.createCollection()`](https://mongoosejs.com/docs/api/model.html#Model.createCollection()) automatically when you create a model with `mongoose.model()` or `conn.model()`. This is useful for testing transactions, change streams, and other features that require the collection to exist.\n * - `autoIndex`: `true` by default. Set to false to disable automatic index creation for all models associated with this Mongoose instance.\n * - `bufferCommands`: enable/disable mongoose's buffering mechanism for all connections and models\n * - `bufferTimeoutMS`: If bufferCommands is on, this option sets the maximum amount of time Mongoose buffering will wait before throwing an error. If not specified, Mongoose will use 10000 (10 seconds).\n * - `cloneSchemas`: `false` by default. Set to `true` to `clone()` all schemas before compiling into a model.\n * - `debug`: If `true`, prints the operations mongoose sends to MongoDB to the console. If a writable stream is passed, it will log to that stream, without colorization. If a callback function is passed, it will receive the collection name, the method name, then all arguments passed to the method. For example, if you wanted to replicate the default logging, you could output from the callback `Mongoose: ${collectionName}.${methodName}(${methodArgs.join(', ')})`.\n * - `id`: If `true`, adds a `id` virtual to all schemas unless overwritten on a per-schema basis.\n * - `timestamps.createdAt.immutable`: `true` by default. If `false`, it will change the `createdAt` field to be [`immutable: false`](https://mongoosejs.com/docs/api/schematype.html#SchemaType.prototype.immutable) which means you can update the `createdAt`\n * - `maxTimeMS`: If set, attaches [maxTimeMS](https://www.mongodb.com/docs/manual/reference/operator/meta/maxTimeMS/) to every query\n * - `objectIdGetter`: `true` by default. Mongoose adds a getter to MongoDB ObjectId's called `_id` that returns `this` for convenience with populate. Set this to false to remove the getter.\n * - `overwriteModels`: Set to `true` to default to overwriting models with the same name when calling `mongoose.model()`, as opposed to throwing an `OverwriteModelError`.\n * - `returnOriginal`: If `false`, changes the default `returnOriginal` option to `findOneAndUpdate()`, `findByIdAndUpdate`, and `findOneAndReplace()` to false. This is equivalent to setting the `new` option to `true` for `findOneAndX()` calls by default. Read our [`findOneAndUpdate()` tutorial](https://mongoosejs.com/docs/tutorials/findoneandupdate.html) for more information.\n * - `runValidators`: `false` by default. Set to true to enable [update validators](https://mongoosejs.com/docs/validation.html#update-validators) for all validators by default.\n * - `sanitizeFilter`: `false` by default. Set to true to enable the [sanitization of the query filters](https://mongoosejs.com/docs/api/mongoose.html#Mongoose.prototype.sanitizeFilter()) against query selector injection attacks by wrapping any nested objects that have a property whose name starts with `$` in a `$eq`.\n * - `selectPopulatedPaths`: `true` by default. Set to false to opt out of Mongoose adding all fields that you `populate()` to your `select()`. The schema-level option `selectPopulatedPaths` overwrites this one.\n * - `strict`: `true` by default, may be `false`, `true`, or `'throw'`. Sets the default strict mode for schemas.\n * - `strictQuery`: `false` by default. May be `false`, `true`, or `'throw'`. Sets the default [strictQuery](https://mongoosejs.com/docs/guide.html#strictQuery) mode for schemas.\n * - `toJSON`: `{ transform: true, flattenDecimals: true }` by default. Overwrites default objects to [`toJSON()`](https://mongoosejs.com/docs/api/document.html#Document.prototype.toJSON()), for determining how Mongoose documents get serialized by `JSON.stringify()`\n * - `toObject`: `{ transform: true, flattenDecimals: true }` by default. Overwrites default objects to [`toObject()`](https://mongoosejs.com/docs/api/document.html#Document.prototype.toObject())\n *\n * @param {String|Object} key The name of the option or a object of multiple key-value pairs\n * @param {String|Function|Boolean} value The value of the option, unused if \"key\" is a object\n * @returns {Mongoose} The used Mongoose instnace\n * @api public\n */\n\nMongoose.prototype.set = function getsetOptions(key, value) {\n  const _mongoose = this instanceof Mongoose ? this : mongoose;\n\n  if (arguments.length === 1 && typeof key !== 'object') {\n    if (VALID_OPTIONS.indexOf(key) === -1) {\n      const error = new SetOptionError();\n      error.addError(key, new SetOptionError.SetOptionInnerError(key));\n      throw error;\n    }\n\n    return _mongoose.options[key];\n  }\n\n  let options = {};\n\n  if (arguments.length === 2) {\n    options = { [key]: value };\n  }\n\n  if (arguments.length === 1 && typeof key === 'object') {\n    options = key;\n  }\n\n  // array for errors to collect all errors for all key-value pairs, like \".validate\"\n  let error = undefined;\n\n  for (const [optionKey, optionValue] of Object.entries(options)) {\n    if (VALID_OPTIONS.indexOf(optionKey) === -1) {\n      if (!error) {\n        error = new SetOptionError();\n      }\n      error.addError(optionKey, new SetOptionError.SetOptionInnerError(optionKey));\n      continue;\n    }\n\n    _mongoose.options[optionKey] = optionValue;\n\n    if (optionKey === 'objectIdGetter') {\n      if (optionValue) {\n        Object.defineProperty(_mongoose.Types.ObjectId.prototype, '_id', {\n          enumerable: false,\n          configurable: true,\n          get: function() {\n            return this;\n          }\n        });\n      } else {\n        delete _mongoose.Types.ObjectId.prototype._id;\n      }\n    } else if (optionKey === 'transactionAsyncLocalStorage') {\n      if (optionValue && !_mongoose.transactionAsyncLocalStorage) {\n        _mongoose.transactionAsyncLocalStorage = new AsyncLocalStorage();\n      } else if (!optionValue && _mongoose.transactionAsyncLocalStorage) {\n        delete _mongoose.transactionAsyncLocalStorage;\n      }\n    } else if (optionKey === 'createInitialConnection') {\n      if (optionValue && !_mongoose.connection) {\n        _createDefaultConnection(_mongoose);\n      } else if (optionValue === false && _mongoose.connection && _mongoose.connection[defaultConnectionSymbol]) {\n        if (_mongoose.connection.readyState === STATES.disconnected && Object.keys(_mongoose.connection.models).length === 0) {\n          _mongoose.connections.shift();\n        }\n      }\n    }\n  }\n\n  if (error) {\n    throw error;\n  }\n\n  return _mongoose;\n};\n\n/**\n * Gets mongoose options\n *\n * #### Example:\n *\n *     mongoose.get('test') // returns the 'test' value\n *\n * @param {String} key\n * @method get\n * @api public\n */\n\nMongoose.prototype.get = Mongoose.prototype.set;\n\n/**\n * Creates a Connection instance.\n *\n * Each `connection` instance maps to a single database. This method is helpful when managing multiple db connections.\n *\n *\n * _Options passed take precedence over options included in connection strings._\n *\n * #### Example:\n *\n *     // with mongodb:// URI\n *     db = mongoose.createConnection('mongodb://user:pass@127.0.0.1:port/database');\n *\n *     // and options\n *     const opts = { db: { native_parser: true }}\n *     db = mongoose.createConnection('mongodb://user:pass@127.0.0.1:port/database', opts);\n *\n *     // replica sets\n *     db = mongoose.createConnection('mongodb://user:pass@127.0.0.1:port,anotherhost:port,yetanother:port/database');\n *\n *     // and options\n *     const opts = { replset: { strategy: 'ping', rs_name: 'testSet' }}\n *     db = mongoose.createConnection('mongodb://user:pass@127.0.0.1:port,anotherhost:port,yetanother:port/database', opts);\n *\n *     // initialize now, connect later\n *     db = mongoose.createConnection();\n *     await db.openUri('mongodb://127.0.0.1:27017/database');\n *\n * @param {String} uri mongodb URI to connect to\n * @param {Object} [options] passed down to the [MongoDB driver's `connect()` function](https://mongodb.github.io/node-mongodb-native/4.9/interfaces/MongoClientOptions.html), except for 4 mongoose-specific options explained below.\n * @param {Boolean} [options.bufferCommands=true] Mongoose specific option. Set to false to [disable buffering](https://mongoosejs.com/docs/faq.html#callback_never_executes) on all models associated with this connection.\n * @param {String} [options.dbName] The name of the database you want to use. If not provided, Mongoose uses the database name from connection string.\n * @param {String} [options.user] username for authentication, equivalent to `options.auth.username`. Maintained for backwards compatibility.\n * @param {String} [options.pass] password for authentication, equivalent to `options.auth.password`. Maintained for backwards compatibility.\n * @param {Boolean} [options.autoIndex=true] Mongoose-specific option. Set to false to disable automatic index creation for all models associated with this connection.\n * @param {Class} [options.promiseLibrary] Sets the [underlying driver's promise library](https://mongodb.github.io/node-mongodb-native/4.9/interfaces/MongoClientOptions.html#promiseLibrary).\n * @param {Number} [options.maxPoolSize=5] The maximum number of sockets the MongoDB driver will keep open for this connection. Keep in mind that MongoDB only allows one operation per socket at a time, so you may want to increase this if you find you have a few slow queries that are blocking faster queries from proceeding. See [Slow Trains in MongoDB and Node.js](https://thecodebarbarian.com/slow-trains-in-mongodb-and-nodejs).\n * @param {Number} [options.minPoolSize=1] The minimum number of sockets the MongoDB driver will keep open for this connection. Keep in mind that MongoDB only allows one operation per socket at a time, so you may want to increase this if you find you have a few slow queries that are blocking faster queries from proceeding. See [Slow Trains in MongoDB and Node.js](https://thecodebarbarian.com/slow-trains-in-mongodb-and-nodejs).\n * @param {Number} [options.socketTimeoutMS=0] How long the MongoDB driver will wait before killing a socket due to inactivity _after initial connection_. Defaults to 0, which means Node.js will not time out the socket due to inactivity. A socket may be inactive because of either no activity or a long-running operation. This option is passed to [Node.js `socket#setTimeout()` function](https://nodejs.org/api/net.html#net_socket_settimeout_timeout_callback) after the MongoDB driver successfully completes.\n * @param {Number} [options.family=0] Passed transparently to [Node.js' `dns.lookup()`](https://nodejs.org/api/dns.html#dns_dns_lookup_hostname_options_callback) function. May be either `0`, `4`, or `6`. `4` means use IPv4 only, `6` means use IPv6 only, `0` means try both.\n * @return {Connection} the created Connection object. Connections are not thenable, so you can't do `await mongoose.createConnection()`. To await use `mongoose.createConnection(uri).asPromise()` instead.\n * @api public\n */\n\nMongoose.prototype.createConnection = function createConnection(uri, options) {\n  const _mongoose = this instanceof Mongoose ? this : mongoose;\n\n  const Connection = _mongoose.__driver.Connection;\n  const conn = new Connection(_mongoose);\n  _mongoose.connections.push(conn);\n  _mongoose.nextConnectionId++;\n  _mongoose.events.emit('createConnection', conn);\n\n  if (arguments.length > 0) {\n    conn.openUri(uri, { ...options, _fireAndForget: true });\n  }\n\n  return conn;\n};\n\n/**\n * Opens the default mongoose connection.\n *\n * #### Example:\n *\n *     mongoose.connect('mongodb://user:pass@127.0.0.1:port/database');\n *\n *     // replica sets\n *     const uri = 'mongodb://user:pass@127.0.0.1:port,anotherhost:port,yetanother:port/mydatabase';\n *     mongoose.connect(uri);\n *\n *     // with options\n *     mongoose.connect(uri, options);\n *\n *     // Using `await` throws \"MongooseServerSelectionError: Server selection timed out after 30000 ms\"\n *     // if Mongoose can't connect.\n *     const uri = 'mongodb://nonexistent.domain:27000';\n *     await mongoose.connect(uri);\n *\n * @param {String} uri mongodb URI to connect to\n * @param {Object} [options] passed down to the [MongoDB driver's `connect()` function](https://mongodb.github.io/node-mongodb-native/4.9/interfaces/MongoClientOptions.html), except for 4 mongoose-specific options explained below.\n * @param {Boolean} [options.bufferCommands=true] Mongoose specific option. Set to false to [disable buffering](https://mongoosejs.com/docs/faq.html#callback_never_executes) on all models associated with this connection.\n * @param {Number} [options.bufferTimeoutMS=10000] Mongoose specific option. If `bufferCommands` is true, Mongoose will throw an error after `bufferTimeoutMS` if the operation is still buffered.\n * @param {String} [options.dbName] The name of the database we want to use. If not provided, use database name from connection string.\n * @param {String} [options.user] username for authentication, equivalent to `options.auth.username`. Maintained for backwards compatibility.\n * @param {String} [options.pass] password for authentication, equivalent to `options.auth.password`. Maintained for backwards compatibility.\n * @param {Number} [options.maxPoolSize=100] The maximum number of sockets the MongoDB driver will keep open for this connection. Keep in mind that MongoDB only allows one operation per socket at a time, so you may want to increase this if you find you have a few slow queries that are blocking faster queries from proceeding. See [Slow Trains in MongoDB and Node.js](https://thecodebarbarian.com/slow-trains-in-mongodb-and-nodejs).\n * @param {Number} [options.minPoolSize=0] The minimum number of sockets the MongoDB driver will keep open for this connection.\n * @param {Number} [options.serverSelectionTimeoutMS] If `useUnifiedTopology = true`, the MongoDB driver will try to find a server to send any given operation to, and keep retrying for `serverSelectionTimeoutMS` milliseconds before erroring out. If not set, the MongoDB driver defaults to using `30000` (30 seconds).\n * @param {Number} [options.heartbeatFrequencyMS] If `useUnifiedTopology = true`, the MongoDB driver sends a heartbeat every `heartbeatFrequencyMS` to check on the status of the connection. A heartbeat is subject to `serverSelectionTimeoutMS`, so the MongoDB driver will retry failed heartbeats for up to 30 seconds by default. Mongoose only emits a `'disconnected'` event after a heartbeat has failed, so you may want to decrease this setting to reduce the time between when your server goes down and when Mongoose emits `'disconnected'`. We recommend you do **not** set this setting below 1000, too many heartbeats can lead to performance degradation.\n * @param {Boolean} [options.autoIndex=true] Mongoose-specific option. Set to false to disable automatic index creation for all models associated with this connection.\n * @param {Class} [options.promiseLibrary] Sets the [underlying driver's promise library](https://mongodb.github.io/node-mongodb-native/4.9/interfaces/MongoClientOptions.html#promiseLibrary).\n * @param {Number} [options.socketTimeoutMS=0] How long the MongoDB driver will wait before killing a socket due to inactivity _after initial connection_. A socket may be inactive because of either no activity or a long-running operation. `socketTimeoutMS` defaults to 0, which means Node.js will not time out the socket due to inactivity. This option is passed to [Node.js `socket#setTimeout()` function](https://nodejs.org/api/net.html#net_socket_settimeout_timeout_callback) after the MongoDB driver successfully completes.\n * @param {Number} [options.family=0] Passed transparently to [Node.js' `dns.lookup()`](https://nodejs.org/api/dns.html#dns_dns_lookup_hostname_options_callback) function. May be either `0`, `4`, or `6`. `4` means use IPv4 only, `6` means use IPv6 only, `0` means try both.\n * @param {Boolean} [options.autoCreate=false] Set to `true` to make Mongoose automatically call `createCollection()` on every model created on this connection.\n * @see Mongoose#createConnection https://mongoosejs.com/docs/api/mongoose.html#Mongoose.prototype.createConnection()\n * @api public\n * @return {Promise} resolves to `this` if connection succeeded\n */\n\nMongoose.prototype.connect = async function connect(uri, options) {\n  if (typeof options === 'function' || (arguments.length >= 3 && typeof arguments[2] === 'function')) {\n    throw new MongooseError('Mongoose.prototype.connect() no longer accepts a callback');\n  }\n\n  const _mongoose = this instanceof Mongoose ? this : mongoose;\n  if (_mongoose.connection == null) {\n    _createDefaultConnection(_mongoose);\n  }\n  const conn = _mongoose.connection;\n\n  return conn.openUri(uri, options).then(() => _mongoose);\n};\n\n/**\n * Runs `.close()` on all connections in parallel.\n *\n * @return {Promise} resolves when all connections are closed, or rejects with the first error that occurred.\n * @api public\n */\n\nMongoose.prototype.disconnect = async function disconnect() {\n  if (arguments.length >= 1 && typeof arguments[0] === 'function') {\n    throw new MongooseError('Mongoose.prototype.disconnect() no longer accepts a callback');\n  }\n\n  const _mongoose = this instanceof Mongoose ? this : mongoose;\n\n  const remaining = _mongoose.connections.length;\n  if (remaining <= 0) {\n    return;\n  }\n  await Promise.all(_mongoose.connections.map(conn => conn.close()));\n};\n\n/**\n * _Requires MongoDB >= 3.6.0._ Starts a [MongoDB session](https://www.mongodb.com/docs/manual/release-notes/3.6/#client-sessions)\n * for benefits like causal consistency, [retryable writes](https://www.mongodb.com/docs/manual/core/retryable-writes/),\n * and [transactions](https://thecodebarbarian.com/a-node-js-perspective-on-mongodb-4-transactions.html).\n *\n * Calling `mongoose.startSession()` is equivalent to calling `mongoose.connection.startSession()`.\n * Sessions are scoped to a connection, so calling `mongoose.startSession()`\n * starts a session on the [default mongoose connection](https://mongoosejs.com/docs/api/mongoose.html#Mongoose.prototype.connection).\n *\n * @param {Object} [options] see the [mongodb driver options](https://mongodb.github.io/node-mongodb-native/4.9/classes/MongoClient.html#startSession)\n * @param {Boolean} [options.causalConsistency=true] set to false to disable causal consistency\n * @return {Promise<ClientSession>} promise that resolves to a MongoDB driver `ClientSession`\n * @api public\n */\n\nMongoose.prototype.startSession = function startSession() {\n  const _mongoose = this instanceof Mongoose ? this : mongoose;\n\n  return _mongoose.connection.startSession.apply(_mongoose.connection, arguments);\n};\n\n/**\n * Getter/setter around function for pluralizing collection names.\n *\n * @param {Function|null} [fn] overwrites the function used to pluralize collection names\n * @return {Function|null} the current function used to pluralize collection names, defaults to the legacy function from `mongoose-legacy-pluralize`.\n * @api public\n */\n\nMongoose.prototype.pluralize = function pluralize(fn) {\n  const _mongoose = this instanceof Mongoose ? this : mongoose;\n\n  if (arguments.length > 0) {\n    _mongoose._pluralize = fn;\n  }\n  return _mongoose._pluralize;\n};\n\n/**\n * Defines a model or retrieves it.\n *\n * Models defined on the `mongoose` instance are available to all connection\n * created by the same `mongoose` instance.\n *\n * If you call `mongoose.model()` with twice the same name but a different schema,\n * you will get an `OverwriteModelError`. If you call `mongoose.model()` with\n * the same name and same schema, you'll get the same schema back.\n *\n * #### Example:\n *\n *     const mongoose = require('mongoose');\n *\n *     // define an Actor model with this mongoose instance\n *     const schema = new Schema({ name: String });\n *     mongoose.model('Actor', schema);\n *\n *     // create a new connection\n *     const conn = mongoose.createConnection(..);\n *\n *     // create Actor model\n *     const Actor = conn.model('Actor', schema);\n *     conn.model('Actor') === Actor; // true\n *     conn.model('Actor', schema) === Actor; // true, same schema\n *     conn.model('Actor', schema, 'actors') === Actor; // true, same schema and collection name\n *\n *     // This throws an `OverwriteModelError` because the schema is different.\n *     conn.model('Actor', new Schema({ name: String }));\n *\n * _When no `collection` argument is passed, Mongoose uses the model name. If you don't like this behavior, either pass a collection name, use `mongoose.pluralize()`, or set your schemas collection name option._\n *\n * #### Example:\n *\n *     const schema = new Schema({ name: String }, { collection: 'actor' });\n *\n *     // or\n *\n *     schema.set('collection', 'actor');\n *\n *     // or\n *\n *     const collectionName = 'actor';\n *     const M = mongoose.model('Actor', schema, collectionName);\n *\n * @param {String|Function} name model name or class extending Model\n * @param {Schema} [schema] the schema to use.\n * @param {String} [collection] name (optional, inferred from model name)\n * @param {Object} [options]\n * @param {Boolean} [options.overwriteModels=false] If true, overwrite existing models with the same name to avoid `OverwriteModelError`\n * @return {Model} The model associated with `name`. Mongoose will create the model if it doesn't already exist.\n * @api public\n */\n\nMongoose.prototype.model = function model(name, schema, collection, options) {\n  const _mongoose = this instanceof Mongoose ? this : mongoose;\n\n  if (typeof schema === 'string') {\n    collection = schema;\n    schema = false;\n  }\n\n  if (arguments.length === 1) {\n    const model = _mongoose.models[name];\n    if (!model) {\n      throw new _mongoose.Error.MissingSchemaError(name);\n    }\n    return model;\n  }\n\n  if (utils.isObject(schema) && !(schema instanceof Schema)) {\n    schema = new Schema(schema);\n  }\n  if (schema && !(schema instanceof Schema)) {\n    throw new _mongoose.Error('The 2nd parameter to `mongoose.model()` should be a ' +\n      'schema or a POJO');\n  }\n\n  // handle internal options from connection.model()\n  options = options || {};\n\n  const originalSchema = schema;\n  if (schema) {\n    if (_mongoose.get('cloneSchemas')) {\n      schema = schema.clone();\n    }\n    _mongoose._applyPlugins(schema);\n  }\n\n  // connection.model() may be passing a different schema for\n  // an existing model name. in this case don't read from cache.\n  const overwriteModels = _mongoose.options.hasOwnProperty('overwriteModels') ?\n    _mongoose.options.overwriteModels :\n    options.overwriteModels;\n  if (_mongoose.models.hasOwnProperty(name) && options.cache !== false && overwriteModels !== true) {\n    if (originalSchema &&\n        originalSchema.instanceOfSchema &&\n        originalSchema !== _mongoose.models[name].schema) {\n      throw new _mongoose.Error.OverwriteModelError(name);\n    }\n    if (collection && collection !== _mongoose.models[name].collection.name) {\n      // subclass current model with alternate collection\n      const model = _mongoose.models[name];\n      schema = model.prototype.schema;\n      const sub = model.__subclass(_mongoose.connection, schema, collection);\n      // do not cache the sub model\n      return sub;\n    }\n    return _mongoose.models[name];\n  }\n  if (schema == null) {\n    throw new _mongoose.Error.MissingSchemaError(name);\n  }\n\n  const model = _mongoose._model(name, schema, collection, options);\n  _mongoose.connection.models[name] = model;\n  _mongoose.models[name] = model;\n\n  return model;\n};\n\n/*!\n * ignore\n */\n\nMongoose.prototype._model = function _model(name, schema, collection, options) {\n  const _mongoose = this instanceof Mongoose ? this : mongoose;\n\n  let model;\n  if (typeof name === 'function') {\n    model = name;\n    name = model.name;\n    if (!(model.prototype instanceof Model)) {\n      throw new _mongoose.Error('The provided class ' + name + ' must extend Model');\n    }\n  }\n\n  if (schema) {\n    if (_mongoose.get('cloneSchemas')) {\n      schema = schema.clone();\n    }\n    _mongoose._applyPlugins(schema);\n  }\n\n  // Apply relevant \"global\" options to the schema\n  if (schema == null || !('pluralization' in schema.options)) {\n    schema.options.pluralization = _mongoose.options.pluralization;\n  }\n\n  if (!collection) {\n    collection = schema.get('collection') ||\n      utils.toCollectionName(name, _mongoose.pluralize());\n  }\n\n  applyEmbeddedDiscriminators(schema);\n\n  const connection = options.connection || _mongoose.connection;\n  model = _mongoose.Model.compile(model || name, schema, collection, connection, _mongoose);\n  // Errors handled internally, so safe to ignore error\n  model.init().catch(function $modelInitNoop() {});\n\n  connection.emit('model', model);\n\n  if (schema._applyDiscriminators != null) {\n    for (const disc of schema._applyDiscriminators.keys()) {\n      const {\n        schema: discriminatorSchema,\n        options\n      } = schema._applyDiscriminators.get(disc);\n      model.discriminator(disc, discriminatorSchema, options);\n    }\n  }\n\n  return model;\n};\n\n/**\n * Removes the model named `name` from the default connection, if it exists.\n * You can use this function to clean up any models you created in your tests to\n * prevent OverwriteModelErrors.\n *\n * Equivalent to `mongoose.connection.deleteModel(name)`.\n *\n * #### Example:\n *\n *     mongoose.model('User', new Schema({ name: String }));\n *     console.log(mongoose.model('User')); // Model object\n *     mongoose.deleteModel('User');\n *     console.log(mongoose.model('User')); // undefined\n *\n *     // Usually useful in a Mocha `afterEach()` hook\n *     afterEach(function() {\n *       mongoose.deleteModel(/.+/); // Delete every model\n *     });\n *\n * @api public\n * @param {String|RegExp} name if string, the name of the model to remove. If regexp, removes all models whose name matches the regexp.\n * @return {Mongoose} this\n */\n\nMongoose.prototype.deleteModel = function deleteModel(name) {\n  const _mongoose = this instanceof Mongoose ? this : mongoose;\n\n  _mongoose.connection.deleteModel(name);\n  delete _mongoose.models[name];\n  return _mongoose;\n};\n\n/**\n * Returns an array of model names created on this instance of Mongoose.\n *\n * #### Note:\n *\n * _Does not include names of models created using `connection.model()`._\n *\n * @api public\n * @return {Array}\n */\n\nMongoose.prototype.modelNames = function modelNames() {\n  const _mongoose = this instanceof Mongoose ? this : mongoose;\n\n  const names = Object.keys(_mongoose.models);\n  return names;\n};\n\n/**\n * Applies global plugins to `schema`.\n *\n * @param {Schema} schema\n * @api private\n */\n\nMongoose.prototype._applyPlugins = function _applyPlugins(schema, options) {\n  const _mongoose = this instanceof Mongoose ? this : mongoose;\n\n  options = options || {};\n  options.applyPluginsToDiscriminators = _mongoose.options && _mongoose.options.applyPluginsToDiscriminators || false;\n  options.applyPluginsToChildSchemas = typeof (_mongoose.options && _mongoose.options.applyPluginsToChildSchemas) === 'boolean' ?\n    _mongoose.options.applyPluginsToChildSchemas :\n    true;\n  applyPlugins(schema, _mongoose.plugins, options, '$globalPluginsApplied');\n};\n\n/**\n * Declares a global plugin executed on all Schemas.\n *\n * Equivalent to calling `.plugin(fn)` on each Schema you create.\n *\n * @param {Function} fn plugin callback\n * @param {Object} [opts] optional options\n * @return {Mongoose} this\n * @see plugins https://mongoosejs.com/docs/plugins.html\n * @api public\n */\n\nMongoose.prototype.plugin = function plugin(fn, opts) {\n  const _mongoose = this instanceof Mongoose ? this : mongoose;\n\n  _mongoose.plugins.push([fn, opts]);\n  return _mongoose;\n};\n\n/**\n * The Mongoose module's default connection. Equivalent to `mongoose.connections[0]`, see [`connections`](https://mongoosejs.com/docs/api/mongoose.html#Mongoose.prototype.connections).\n *\n * #### Example:\n *\n *     const mongoose = require('mongoose');\n *     mongoose.connect(...);\n *     mongoose.connection.on('error', cb);\n *\n * This is the connection used by default for every model created using [mongoose.model](https://mongoosejs.com/docs/api/mongoose.html#Mongoose.prototype.model()).\n *\n * To create a new connection, use [`createConnection()`](https://mongoosejs.com/docs/api/mongoose.html#Mongoose.prototype.createConnection()).\n *\n * @memberOf Mongoose\n * @instance\n * @property {Connection} connection\n * @api public\n */\n\nMongoose.prototype.__defineGetter__('connection', function() {\n  return this.connections[0];\n});\n\nMongoose.prototype.__defineSetter__('connection', function(v) {\n  if (v instanceof this.__driver.Connection) {\n    this.connections[0] = v;\n    this.models = v.models;\n  }\n});\n\n/**\n * An array containing all [connections](connection.html) associated with this\n * Mongoose instance. By default, there is 1 connection. Calling\n * [`createConnection()`](https://mongoosejs.com/docs/api/mongoose.html#Mongoose.prototype.createConnection()) adds a connection\n * to this array.\n *\n * #### Example:\n *\n *     const mongoose = require('mongoose');\n *     mongoose.connections.length; // 1, just the default connection\n *     mongoose.connections[0] === mongoose.connection; // true\n *\n *     mongoose.createConnection('mongodb://127.0.0.1:27017/test');\n *     mongoose.connections.length; // 2\n *\n * @memberOf Mongoose\n * @instance\n * @property {Array} connections\n * @api public\n */\n\nMongoose.prototype.connections;\n\n/**\n * An integer containing the value of the next connection id. Calling\n * [`createConnection()`](https://mongoosejs.com/docs/api/mongoose.html#Mongoose.prototype.createConnection()) increments\n * this value.\n *\n * #### Example:\n *\n *     const mongoose = require('mongoose');\n *     mongoose.createConnection(); // id `0`, `nextConnectionId` becomes `1`\n *     mongoose.createConnection(); // id `1`, `nextConnectionId` becomes `2`\n *     mongoose.connections[0].destroy() // Removes connection with id `0`\n *     mongoose.createConnection(); // id `2`, `nextConnectionId` becomes `3`\n *\n * @memberOf Mongoose\n * @instance\n * @property {Number} nextConnectionId\n * @api private\n */\n\nMongoose.prototype.nextConnectionId;\n\n/**\n * The Mongoose Aggregate constructor\n *\n * @method Aggregate\n * @api public\n */\n\nMongoose.prototype.Aggregate = Aggregate;\n\n/**\n * The Base Mongoose Collection class. `mongoose.Collection` extends from this class.\n *\n * @memberOf Mongoose\n * @instance\n * @method Collection\n * @api public\n */\n\nMongoose.prototype.BaseCollection = require('./collection');\n\n/**\n * The Mongoose Collection constructor\n *\n * @memberOf Mongoose\n * @instance\n * @method Collection\n * @api public\n */\n\nObject.defineProperty(Mongoose.prototype, 'Collection', {\n  get: function() {\n    return this.__driver.Collection;\n  },\n  set: function(Collection) {\n    this.__driver.Collection = Collection;\n  }\n});\n\n/**\n * The Mongoose [Connection](https://mongoosejs.com/docs/api/connection.html#Connection()) constructor\n *\n * @memberOf Mongoose\n * @instance\n * @method Connection\n * @api public\n */\n\nObject.defineProperty(Mongoose.prototype, 'Connection', {\n  get: function() {\n    return this.__driver.Connection;\n  },\n  set: function(Connection) {\n    if (Connection === this.__driver.Connection) {\n      return;\n    }\n\n    this.__driver.Connection = Connection;\n  }\n});\n\n/**\n * The Base Mongoose Connection class. `mongoose.Connection` extends from this class.\n *\n * @memberOf Mongoose\n * @instance\n * @method Connection\n * @api public\n */\n\nMongoose.prototype.BaseConnection = require('./connection');\n\n/**\n * The Mongoose version\n *\n * #### Example:\n *\n *     console.log(mongoose.version); // '5.x.x'\n *\n * @property version\n * @api public\n */\n\nMongoose.prototype.version = pkg.version;\n\n/**\n * The Mongoose constructor\n *\n * The exports of the mongoose module is an instance of this class.\n *\n * #### Example:\n *\n *     const mongoose = require('mongoose');\n *     const mongoose2 = new mongoose.Mongoose();\n *\n * @method Mongoose\n * @api public\n */\n\nMongoose.prototype.Mongoose = Mongoose;\n\n/**\n * The Mongoose [Schema](https://mongoosejs.com/docs/api/schema.html#Schema()) constructor\n *\n * #### Example:\n *\n *     const mongoose = require('mongoose');\n *     const Schema = mongoose.Schema;\n *     const CatSchema = new Schema(..);\n *\n * @method Schema\n * @api public\n */\n\nMongoose.prototype.Schema = Schema;\n\n/**\n * The Mongoose [SchemaType](https://mongoosejs.com/docs/api/schematype.html#SchemaType()) constructor\n *\n * @method SchemaType\n * @api public\n */\n\nMongoose.prototype.SchemaType = SchemaType;\n\n/**\n * The various Mongoose SchemaTypes.\n *\n * #### Note:\n *\n * _Alias of mongoose.Schema.Types for backwards compatibility._\n *\n * @property SchemaTypes\n * @see Schema.SchemaTypes https://mongoosejs.com/docs/schematypes.html\n * @api public\n */\n\nMongoose.prototype.SchemaTypes = Schema.Types;\n\n/**\n * The Mongoose [VirtualType](https://mongoosejs.com/docs/api/virtualtype.html#VirtualType()) constructor\n *\n * @method VirtualType\n * @api public\n */\n\nMongoose.prototype.VirtualType = VirtualType;\n\n/**\n * The various Mongoose Types.\n *\n * #### Example:\n *\n *     const mongoose = require('mongoose');\n *     const array = mongoose.Types.Array;\n *\n * #### Types:\n *\n * - [Array](https://mongoosejs.com/docs/schematypes.html#arrays)\n * - [Buffer](https://mongoosejs.com/docs/schematypes.html#buffers)\n * - [Embedded](https://mongoosejs.com/docs/schematypes.html#schemas)\n * - [DocumentArray](https://mongoosejs.com/docs/api/documentarraypath.html)\n * - [Decimal128](https://mongoosejs.com/docs/api/mongoose.html#Mongoose.prototype.Decimal128)\n * - [ObjectId](https://mongoosejs.com/docs/schematypes.html#objectids)\n * - [Map](https://mongoosejs.com/docs/schematypes.html#maps)\n * - [Subdocument](https://mongoosejs.com/docs/schematypes.html#schemas)\n * - [Int32](https://mongoosejs.com/docs/schematypes.html#int32)\n *\n * Using this exposed access to the `ObjectId` type, we can construct ids on demand.\n *\n *     const ObjectId = mongoose.Types.ObjectId;\n *     const id1 = new ObjectId;\n *\n * @property Types\n * @api public\n */\n\nMongoose.prototype.Types = Types;\n\n/**\n * The Mongoose [Query](https://mongoosejs.com/docs/api/query.html#Query()) constructor.\n *\n * @method Query\n * @api public\n */\n\nMongoose.prototype.Query = Query;\n\n/**\n * The Mongoose [Model](https://mongoosejs.com/docs/api/model.html#Model()) constructor.\n *\n * @method Model\n * @api public\n */\n\nMongoose.prototype.Model = Model;\n\n/**\n * The Mongoose [Document](https://mongoosejs.com/docs/api/document.html#Document()) constructor.\n *\n * @method Document\n * @api public\n */\n\nMongoose.prototype.Document = Document;\n\n/**\n * The Mongoose DocumentProvider constructor. Mongoose users should not have to\n * use this directly\n *\n * @method DocumentProvider\n * @api public\n */\n\nMongoose.prototype.DocumentProvider = require('./documentProvider');\n\n/**\n * The Mongoose ObjectId [SchemaType](https://mongoosejs.com/docs/schematypes.html). Used for\n * declaring paths in your schema that should be\n * [MongoDB ObjectIds](https://www.mongodb.com/docs/manual/reference/method/ObjectId/).\n * Do not use this to create a new ObjectId instance, use `mongoose.Types.ObjectId`\n * instead.\n *\n * #### Example:\n *\n *     const childSchema = new Schema({ parentId: mongoose.ObjectId });\n *\n * @property ObjectId\n * @api public\n */\n\nMongoose.prototype.ObjectId = SchemaTypes.ObjectId;\n\n/**\n * Returns true if Mongoose can cast the given value to an ObjectId, or\n * false otherwise.\n *\n * #### Example:\n *\n *     mongoose.isValidObjectId(new mongoose.Types.ObjectId()); // true\n *     mongoose.isValidObjectId('0123456789ab'); // true\n *     mongoose.isValidObjectId(6); // true\n *     mongoose.isValidObjectId(new User({ name: 'test' })); // true\n *\n *     mongoose.isValidObjectId({ test: 42 }); // false\n *\n * @method isValidObjectId\n * @param {Any} v\n * @returns {boolean} true if `v` is something Mongoose can coerce to an ObjectId\n * @api public\n */\n\nMongoose.prototype.isValidObjectId = function isValidObjectId(v) {\n  const _mongoose = this instanceof Mongoose ? this : mongoose;\n  return _mongoose.Types.ObjectId.isValid(v);\n};\n\n/**\n * Returns true if the given value is a Mongoose ObjectId (using `instanceof`) or if the\n * given value is a 24 character hex string, which is the most commonly used string representation\n * of an ObjectId.\n *\n * This function is similar to `isValidObjectId()`, but considerably more strict, because\n * `isValidObjectId()` will return `true` for _any_ value that Mongoose can convert to an\n * ObjectId. That includes Mongoose documents, any string of length 12, and any number.\n * `isObjectIdOrHexString()` returns true only for `ObjectId` instances or 24 character hex\n * strings, and will return false for numbers, documents, and strings of length 12.\n *\n * #### Example:\n *\n *     mongoose.isObjectIdOrHexString(new mongoose.Types.ObjectId()); // true\n *     mongoose.isObjectIdOrHexString('62261a65d66c6be0a63c051f'); // true\n *\n *     mongoose.isObjectIdOrHexString('0123456789ab'); // false\n *     mongoose.isObjectIdOrHexString(6); // false\n *     mongoose.isObjectIdOrHexString(new User({ name: 'test' })); // false\n *     mongoose.isObjectIdOrHexString({ test: 42 }); // false\n *\n * @method isObjectIdOrHexString\n * @param {Any} v\n * @returns {boolean} true if `v` is an ObjectId instance _or_ a 24 char hex string\n * @api public\n */\n\nMongoose.prototype.isObjectIdOrHexString = function isObjectIdOrHexString(v) {\n  return isBsonType(v, 'ObjectId') || (typeof v === 'string' && objectIdHexRegexp.test(v));\n};\n\n/**\n *\n * Syncs all the indexes for the models registered with this connection.\n *\n * @param {Object} options\n * @param {Boolean} options.continueOnError `false` by default. If set to `true`, mongoose will not throw an error if one model syncing failed, and will return an object where the keys are the names of the models, and the values are the results/errors for each model.\n * @return {Promise} Returns a Promise, when the Promise resolves the value is a list of the dropped indexes.\n */\nMongoose.prototype.syncIndexes = function syncIndexes(options) {\n  const _mongoose = this instanceof Mongoose ? this : mongoose;\n  return _mongoose.connection.syncIndexes(options);\n};\n\n/**\n * The Mongoose Decimal128 [SchemaType](https://mongoosejs.com/docs/schematypes.html). Used for\n * declaring paths in your schema that should be\n * [128-bit decimal floating points](https://thecodebarbarian.com/a-nodejs-perspective-on-mongodb-34-decimal.html).\n * Do not use this to create a new Decimal128 instance, use `mongoose.Types.Decimal128`\n * instead.\n *\n * #### Example:\n *\n *     const vehicleSchema = new Schema({ fuelLevel: mongoose.Decimal128 });\n *\n * @property Decimal128\n * @api public\n */\n\nMongoose.prototype.Decimal128 = SchemaTypes.Decimal128;\n\n\n/**\n * The Mongoose Mixed [SchemaType](https://mongoosejs.com/docs/schematypes.html). Used for\n * declaring paths in your schema that Mongoose's change tracking, casting,\n * and validation should ignore.\n *\n * #### Example:\n *\n *     const schema = new Schema({ arbitrary: mongoose.Mixed });\n *\n * @property Mixed\n * @api public\n */\n\nMongoose.prototype.Mixed = SchemaTypes.Mixed;\n\n/**\n * The Mongoose Date [SchemaType](https://mongoosejs.com/docs/schematypes.html).\n *\n * #### Example:\n *\n *     const schema = new Schema({ test: Date });\n *     schema.path('test') instanceof mongoose.Date; // true\n *\n * @property Date\n * @api public\n */\n\nMongoose.prototype.Date = SchemaTypes.Date;\n\n/**\n * The Mongoose Number [SchemaType](https://mongoosejs.com/docs/schematypes.html). Used for\n * declaring paths in your schema that Mongoose should cast to numbers.\n *\n * #### Example:\n *\n *     const schema = new Schema({ num: mongoose.Number });\n *     // Equivalent to:\n *     const schema = new Schema({ num: 'number' });\n *\n * @property Number\n * @api public\n */\n\nMongoose.prototype.Number = SchemaTypes.Number;\n\n/**\n * The [MongooseError](https://mongoosejs.com/docs/api/error.html#Error()) constructor.\n *\n * @method Error\n * @api public\n */\n\nMongoose.prototype.Error = MongooseError;\nMongoose.prototype.MongooseError = MongooseError;\n\n/**\n * Mongoose uses this function to get the current time when setting\n * [timestamps](https://mongoosejs.com/docs/guide.html#timestamps). You may stub out this function\n * using a tool like [Sinon](https://www.npmjs.com/package/sinon) for testing.\n *\n * @method now\n * @returns Date the current time\n * @api public\n */\n\nMongoose.prototype.now = function now() { return new Date(); };\n\n/**\n * The Mongoose CastError constructor\n *\n * @method CastError\n * @param {String} type The name of the type\n * @param {Any} value The value that failed to cast\n * @param {String} path The path `a.b.c` in the doc where this cast error occurred\n * @param {Error} [reason] The original error that was thrown\n * @api public\n */\n\nMongoose.prototype.CastError = MongooseError.CastError;\n\n/**\n * The constructor used for schematype options\n *\n * @method SchemaTypeOptions\n * @api public\n */\n\nMongoose.prototype.SchemaTypeOptions = require('./options/schemaTypeOptions');\n\n/**\n * The [mquery](https://github.com/aheckmann/mquery) query builder Mongoose uses.\n *\n * @property mquery\n * @api public\n */\n\nMongoose.prototype.mquery = require('mquery');\n\n/**\n * Sanitizes query filters against [query selector injection attacks](https://thecodebarbarian.com/2014/09/04/defending-against-query-selector-injection-attacks.html)\n * by wrapping any nested objects that have a property whose name starts with `$` in a `$eq`.\n *\n * ```javascript\n * const obj = { username: 'val', pwd: { $ne: null } };\n * sanitizeFilter(obj);\n * obj; // { username: 'val', pwd: { $eq: { $ne: null } } });\n * ```\n *\n * @method sanitizeFilter\n * @param {Object} filter\n * @returns Object the sanitized object\n * @api public\n */\n\nMongoose.prototype.sanitizeFilter = sanitizeFilter;\n\n/**\n * Tells `sanitizeFilter()` to skip the given object when filtering out potential [query selector injection attacks](https://thecodebarbarian.com/2014/09/04/defending-against-query-selector-injection-attacks.html).\n * Use this method when you have a known query selector that you want to use.\n *\n * ```javascript\n * const obj = { username: 'val', pwd: trusted({ $type: 'string', $eq: 'my secret' }) };\n * sanitizeFilter(obj);\n *\n * // Note that `sanitizeFilter()` did not add `$eq` around `$type`.\n * obj; // { username: 'val', pwd: { $type: 'string', $eq: 'my secret' } });\n * ```\n *\n * @method trusted\n * @param {Object} obj\n * @returns Object the passed in object\n * @api public\n */\n\nMongoose.prototype.trusted = trusted;\n\n/**\n * Use this function in `pre()` middleware to skip calling the wrapped function.\n *\n * #### Example:\n *\n *     schema.pre('save', function() {\n *       // Will skip executing `save()`, but will execute post hooks as if\n *       // `save()` had executed with the result `{ matchedCount: 0 }`\n *       return mongoose.skipMiddlewareFunction({ matchedCount: 0 });\n *     });\n *\n * @method skipMiddlewareFunction\n * @param {any} result\n * @api public\n */\n\nMongoose.prototype.skipMiddlewareFunction = Kareem.skipWrappedFunction;\n\n/**\n * Use this function in `post()` middleware to replace the result\n *\n * #### Example:\n *\n *     schema.post('find', function(res) {\n *       // Normally you have to modify `res` in place. But with\n *       // `overwriteMiddlewarResult()`, you can make `find()` return a\n *       // completely different value.\n *       return mongoose.overwriteMiddlewareResult(res.filter(doc => !doc.isDeleted));\n *     });\n *\n * @method overwriteMiddlewareResult\n * @param {any} result\n * @api public\n */\n\nMongoose.prototype.overwriteMiddlewareResult = Kareem.overwriteResult;\n\n/**\n * Takes in an object and deletes any keys from the object whose values\n * are strictly equal to `undefined`.\n * This function is useful for query filters because Mongoose treats\n * `TestModel.find({ name: undefined })` as `TestModel.find({ name: null })`.\n *\n * #### Example:\n *\n *     const filter = { name: 'John', age: undefined, status: 'active' };\n *     mongoose.omitUndefined(filter); // { name: 'John', status: 'active' }\n *     filter; // { name: 'John', status: 'active' }\n *\n *     await UserModel.findOne(mongoose.omitUndefined(filter));\n *\n * @method omitUndefined\n * @param {Object} [val] the object to remove undefined keys from\n * @returns {Object} the object passed in\n * @api public\n */\n\nMongoose.prototype.omitUndefined = require('./helpers/omitUndefined');\n\n/*!\n * Create a new default connection (`mongoose.connection`) for a Mongoose instance.\n * No-op if there is already a default connection.\n */\n\nfunction _createDefaultConnection(mongoose) {\n  if (mongoose.connection) {\n    return;\n  }\n  const conn = mongoose.createConnection(); // default connection\n  conn[defaultConnectionSymbol] = true;\n  conn.models = mongoose.models;\n}\n\n/**\n * The exports object is an instance of Mongoose.\n *\n * @api private\n */\n\nconst mongoose = module.exports = exports = new Mongoose({\n  [defaultMongooseSymbol]: true\n});\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 18202, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/backend/node_modules/mongoose/lib/index.js"],"sourcesContent":["'use strict';\n\n/*!\n * Module dependencies.\n */\n\nconst mongodbDriver = require('./drivers/node-mongodb-native');\n\nrequire('./driver').set(mongodbDriver);\n\nconst mongoose = require('./mongoose');\n\nmongoose.setDriver(mongodbDriver);\n\nmongoose.Mongoose.prototype.mongo = require('mongodb');\n\nmodule.exports = mongoose;\n"],"names":[],"mappings":"AAEA;;CAEC,GAED,MAAM;AAEN,oGAAoB,GAAG,CAAC;AAExB,MAAM;AAEN,SAAS,SAAS,CAAC;AAEnB,SAAS,QAAQ,CAAC,SAAS,CAAC,KAAK;AAEjC,OAAO,OAAO,GAAG","ignoreList":[0],"debugId":null}}]
}