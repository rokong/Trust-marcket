{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["file:///D:/trust-market/frontend/utils/api.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\nconst api = axios.create({\r\n  baseURL: \"http://localhost:5000/api\",\r\n});\r\n\r\n// Automatically send token in every request\r\napi.interceptors.request.use((config) => {\r\n  const token = localStorage.getItem(\"token\");\r\n  if (token) {\r\n    config.headers.Authorization = `Bearer ${token}`;\r\n  }\r\n  return config;\r\n});\r\n\r\nexport default api;\r\n"],"names":[],"mappings":";;;;AAAA;;;;;;AAEA,MAAM,MAAM,qHAAK,CAAC,MAAM,CAAC;IACvB,SAAS;AACX;AAEA,4CAA4C;AAC5C,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;IAC5B,MAAM,QAAQ,aAAa,OAAO,CAAC;IACnC,IAAI,OAAO;QACT,OAAO,OAAO,CAAC,aAAa,GAAG,CAAC,OAAO,EAAE,OAAO;IAClD;IACA,OAAO;AACT;uCAEe","debugId":null}},
    {"offset": {"line": 69, "column": 0}, "map": {"version":3,"sources":["file:///D:/trust-market/frontend/pages/index.js"],"sourcesContent":["// frontend/pages/index.js\r\nimport { useEffect, useState } from \"react\";\r\nimport api from \"../utils/api\";\r\nimport Link from \"next/link\";\r\nimport { useRouter } from \"next/router\";\r\nimport { \r\n  Menu, \r\n  MessageCircle, \r\n  User, \r\n  Home, \r\n  PlusCircle, \r\n  ShoppingCart, \r\n  Heart \r\n} from \"lucide-react\";\r\n\r\nexport default function HomePage() {\r\n  const [posts, setPosts] = useState([]);\r\n  const [category, setCategory] = useState(\"all\");\r\n  const [showCategory, setShowCategory] = useState(false);\r\n  const [showMobileMenu, setShowMobileMenu] = useState(false);\r\n  const router = useRouter();\r\n  const [search, setSearch] = useState(\"\");\r\n\r\n\r\n  useEffect(() => {\r\n    const loadPosts = async () => {\r\n      try {\r\n        const res = await api.get(\"/posts\");\r\n        setPosts(res.data);\r\n      } catch (err) {\r\n        console.error(\"Failed to load posts\", err);\r\n      }\r\n    };\r\n    loadPosts();\r\n  }, []);\r\n\r\n  const handleBuy = (post) => {\r\n    const token = localStorage.getItem(\"token\");\r\n    if (!token) {\r\n      alert(\"Please login to buy!\");\r\n      router.push(\"/login\");\r\n      return;\r\n    }\r\n    router.push(`/buy?post=${post._id}`);\r\n  };\r\n\r\n  const handleMessage = (post) => {\r\n    const userId = localStorage.getItem(\"userId\");\r\n    if (!userId) {\r\n      alert(\"Please login!\");\r\n      router.push(\"/login\");\r\n      return;\r\n    }\r\n    router.push(`/messages?post=${post._id}`);\r\n  };\r\n\r\n  const handleCreatePost = () => {\r\n    const token = localStorage.getItem(\"token\");\r\n    if (!token) {\r\n      alert(\"Please login to create a post!\");\r\n      router.push(\"/login\");\r\n      return;\r\n    }\r\n    router.push(\"/create-post\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-100\">\r\n      \r\n      {/* Navbar */}\r\n      <header className=\"bg-white shadow-md p-4 flex justify-between items-center relative\">\r\n        <div className=\"flex items-center gap-2\">\r\n          <Home className=\"text-blue-600 w-6 h-6\" />\r\n          <h1 className=\"text-2xl font-extrabold text-blue-600 tracking-wide\">\r\n            Trust Market\r\n          </h1>\r\n        </div>\r\n\r\n        {/* Desktop Menu */}\r\n        <nav className=\"hidden md:flex space-x-8 text-gray-700 font-medium items-center\">\r\n          <Link href=\"/\" className=\"hover:text-blue-600 transition flex items-center gap-1\">\r\n            Home\r\n          </Link>\r\n\r\n          <button \r\n            onClick={() => setShowCategory(!showCategory)} \r\n            className=\"hover:text-blue-600 transition flex items-center gap-1\"\r\n          >\r\n            <Menu className=\"w-4 h-4\" /> Categories\r\n          </button>\r\n\r\n          <Link href=\"/messages\" className=\"hover:text-blue-600 transition flex items-center gap-1\">\r\n            <MessageCircle className=\"w-4 h-4\" /> Messages\r\n          </Link>\r\n\r\n          <Link href=\"/dashboard\" className=\"hover:text-blue-600 transition flex items-center gap-1\">\r\n            <User className=\"w-4 h-4\" /> Account\r\n          </Link>\r\n\r\n          <button \r\n            onClick={handleCreatePost} \r\n            className=\"bg-blue-600 text-white px-4 py-2 rounded-lg flex items-center gap-2 hover:bg-blue-700 transition ml-4\"\r\n          >\r\n            <PlusCircle className=\"w-5 h-5\" /> Create Post\r\n          </button>\r\n        </nav>\r\n\r\n        {/* Mobile Menu */}\r\n        <div className=\"md:hidden flex items-center gap-2\">\r\n          <button onClick={() => setShowMobileMenu(!showMobileMenu)}>\r\n            <Menu className=\"w-6 h-6 text-blue-600\" />\r\n          </button>\r\n          <button \r\n            onClick={handleCreatePost} \r\n            className=\"bg-blue-600 text-white px-3 py-1 rounded-lg flex items-center gap-1\"\r\n          >\r\n            <PlusCircle className=\"w-5 h-5\" /> Post\r\n          </button>\r\n        </div>\r\n\r\n        {/* Category Dropdown */}\r\n        {showCategory && (\r\n          <div className=\"absolute right-4 top-16 bg-white border rounded-lg shadow-lg w-56 z-10\">\r\n            {[\"All\", \"Gaming\", \"Facebook Page\", \"Website\", \"YouTube Channel\"].map(cat => (\r\n              <button \r\n                key={cat} \r\n                onClick={() => {\r\n                  setCategory(cat.toLowerCase());\r\n                  setShowCategory(false);\r\n                }} \r\n                className=\"block w-full text-left px-4 py-2 hover:bg-gray-100 capitalize\"\r\n              >\r\n                {cat}\r\n              </button>\r\n            ))}\r\n          </div>\r\n        )}\r\n\r\n        {/* Mobile Menu Dropdown */}\r\n        {showMobileMenu && (\r\n          <div className=\"absolute top-16 right-4 bg-white border rounded-lg shadow-lg w-52 z-20 flex flex-col\">\r\n            <Link href=\"/\" className=\"px-4 py-2 hover:bg-gray-100\">Home</Link>\r\n            <Link \r\n              href=\"/messages\" \r\n              className=\"px-4 py-2 hover:bg-gray-100 flex items-center gap-1\"\r\n            >\r\n              <MessageCircle className=\"w-4 h-4\" /> Messages\r\n            </Link>\r\n            <Link \r\n              href=\"/dashboard\" \r\n              className=\"px-4 py-2 hover:bg-gray-100 flex items-center gap-1\"\r\n            >\r\n              <User className=\"w-4 h-4\" /> Account\r\n            </Link>\r\n            <button \r\n              onClick={() => setShowCategory(!showCategory)} \r\n              className=\"px-4 py-2 hover:bg-gray-100 flex items-center gap-1\"\r\n            >\r\n              <Menu className=\"w-4 h-4\" /> Categories\r\n            </button>\r\n          </div>\r\n        )}\r\n      </header>\r\n      \r\n      {/* Search Bar */}\r\n      <div className=\"bg-white border-b p-4 flex justify-center\">\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Search post by title...\"\r\n          value={search}\r\n          onChange={(e) => setSearch(e.target.value)}\r\n          className=\"w-full max-w-xl border rounded-full px-5 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n        />\r\n      </div>\r\n\r\n      {/* Category Filter */}\r\n      <div className=\"bg-white border-b p-3 flex justify-center gap-4 flex-wrap\">\r\n        {[\"All\", \"Gaming\", \"Facebook Page\", \"Website\", \"YouTube Channel\"].map(cat => (\r\n          <button \r\n            key={cat} \r\n            onClick={() => setCategory(cat.toLowerCase())} \r\n            className={`px-4 py-2 rounded-full border transition ${\r\n              category === cat.toLowerCase() \r\n                ? \"bg-blue-600 text-white border-blue-600\" \r\n                : \"bg-white text-gray-700 hover:bg-blue-50\"\r\n            }`}\r\n          >\r\n            {cat}\r\n          </button>\r\n        ))}\r\n      </div>\r\n\r\n      {/* Posts */}\r\n      <main className=\"max-w-7xl mx-auto p-6\">\r\n        {posts.length === 0 ? (\r\n          <p className=\"text-center text-gray-500\">No posts available yet.</p>\r\n        ) : (\r\n          <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6\">\r\n            {posts\r\n              .filter(p =>\r\n                (category === \"all\" || p.category?.toLowerCase() === category) &&\r\n                p.title?.toLowerCase().includes(search.toLowerCase())\r\n              )\r\n              .map(post => (\r\n                <div key={post._id} className=\"bg-white rounded-2xl shadow-lg hover:shadow-xl transition p-4 flex flex-col\">\r\n                  {post.images?.length > 0 && (\r\n                    <div className=\"w-full rounded-xl overflow-hidden bg-gray-200 mb-3\">\r\n                      <img \r\n                        src={`http://localhost:5000/uploads/${post.images[0]}`} \r\n                        className=\"w-full max-h-72 object-cover\" \r\n                        alt=\"Post Image\" \r\n                      />\r\n                    </div>\r\n                  )}\r\n                  {post.videos?.length > 0 && (\r\n                    <video controls className=\"w-full max-h-72 rounded-xl mb-3 object-cover\">\r\n                      <source src={`http://localhost:5000/uploads/${post.videos[0]}`} type=\"video/mp4\" />\r\n                    </video>\r\n                  )}\r\n                  <h3 className=\"text-lg font-semibold text-gray-800 mb-1\">{post.title}</h3>\r\n                  <p className=\"text-gray-600 mb-3 line-clamp-3\">{post.description}</p>\r\n                  <p className=\"text-blue-600 font-bold text-lg mb-3\">ðŸ¤‘ {post.price} BDT</p>\r\n\r\n                  <div className=\"flex justify-between items-center mt-auto\">\r\n                    <Link \r\n                      href={`/post/${post._id}`} \r\n                      className=\"text-blue-600 hover:underline font-medium flex items-center gap-1\"\r\n                    >\r\n                      <Heart className=\"w-4 h-4\" /> View\r\n                    </Link>\r\n\r\n                    <button \r\n                      onClick={() => handleMessage(post)} \r\n                      className=\"px-3 py-2 rounded-lg bg-gray-200 hover:bg-gray-300 transition flex items-center gap-1\"\r\n                    >\r\n                      <MessageCircle className=\"w-4 h-4\" /> Message\r\n                    </button>\r\n\r\n                    <button \r\n                      onClick={() => handleBuy(post)} \r\n                      className=\"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition flex items-center gap-1\"\r\n                    >\r\n                      <ShoppingCart className=\"w-4 h-4\" /> Buy\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n          </div>\r\n        )}\r\n      </main>\r\n\r\n      {/* Footer */}\r\n      <footer className=\"bg-white text-center py-4 border-t mt-10 text-gray-500 text-sm\">\r\n        Â© {new Date().getFullYear()} <span className=\"font-semibold text-blue-600\">Trust Market</span> â€” All rights reserved.\r\n      </footer>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}