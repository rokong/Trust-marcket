{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 40, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nazmul/OneDrive/Documents/trust-market/frontend/pages/admin/messages/%5BuserId%5D.js"],"sourcesContent":["//frontend/pages/admin/messages/[userId].js\r\nimport { useEffect, useState } from \"react\";\r\nimport { useRouter } from \"next/router\";\r\nimport axios from \"axios\";\r\n\r\nexport default function UserChat() {\r\n  const router = useRouter();\r\n  const {userId} = router.query;\r\n  const [messages,setMessages] = useState([]);\r\n  const [input,setInput] = useState(\"\");\r\n\r\n  const fetchMessages = async ()=>{\r\n    if(!userId) return;\r\n    const res = await axios.get(`http://localhost:5000/api/messages/${userId}`);\r\n    setMessages(res.data);\r\n  };\r\n\r\n  const sendReply = async ()=>{\r\n    if(!input) return;\r\n    await axios.post(\"http://localhost:5000/api/messages/reply\",{userId,message:input});\r\n    setInput(\"\");\r\n    fetchMessages();\r\n  };\r\n\r\n  useEffect(()=>{ fetchMessages(); },[userId]);\r\n\r\n  return (\r\n    <div>\r\n      <h2>User Chat</h2>\r\n      <div style={{border:\"1px solid gray\",height:\"400px\",overflowY:\"scroll\",padding:\"10px\"}}>\r\n        {messages.map(m=>(<div key={m._id}><b>{m.sender}:</b> {m.message}</div>))}\r\n      </div>\r\n      <input value={input} onChange={e=>setInput(e.target.value)} placeholder=\"Type reply\" />\r\n      <button onClick={sendReply}>Send</button>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"AAAA,2CAA2C;;;;;;AAC3C;AACA;AACA;;;;;;;;;AAEe,SAAS;IACtB,MAAM,SAAS,IAAA,gJAAS;IACxB,MAAM,EAAC,MAAM,EAAC,GAAG,OAAO,KAAK;IAC7B,MAAM,CAAC,UAAS,YAAY,GAAG,IAAA,+GAAQ,EAAC,EAAE;IAC1C,MAAM,CAAC,OAAM,SAAS,GAAG,IAAA,+GAAQ,EAAC;IAElC,MAAM,gBAAgB;QACpB,IAAG,CAAC,QAAQ;QACZ,MAAM,MAAM,MAAM,qHAAK,CAAC,GAAG,CAAC,CAAC,mCAAmC,EAAE,QAAQ;QAC1E,YAAY,IAAI,IAAI;IACtB;IAEA,MAAM,YAAY;QAChB,IAAG,CAAC,OAAO;QACX,MAAM,qHAAK,CAAC,IAAI,CAAC,4CAA2C;YAAC;YAAO,SAAQ;QAAK;QACjF,SAAS;QACT;IACF;IAEA,IAAA,gHAAS,EAAC;QAAM;IAAiB,GAAE;QAAC;KAAO;IAE3C,qBACE,qKAAC;;0BACC,qKAAC;0BAAG;;;;;;0BACJ,qKAAC;gBAAI,OAAO;oBAAC,QAAO;oBAAiB,QAAO;oBAAQ,WAAU;oBAAS,SAAQ;gBAAM;0BAClF,SAAS,GAAG,CAAC,CAAA,kBAAI,qKAAC;;0CAAgB,qKAAC;;oCAAG,EAAE,MAAM;oCAAC;;;;;;;4BAAK;4BAAE,EAAE,OAAO;;uBAApC,EAAE,GAAG;;;;;;;;;;0BAEnC,qKAAC;gBAAM,OAAO;gBAAO,UAAU,CAAA,IAAG,SAAS,EAAE,MAAM,CAAC,KAAK;gBAAG,aAAY;;;;;;0BACxE,qKAAC;gBAAO,SAAS;0BAAW;;;;;;;;;;;;AAGlC","debugId":null}}]
}